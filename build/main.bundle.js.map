{"version":3,"sources":["webpack://ReduxP2PGunTransport/webpack/universalModuleDefinition","webpack://ReduxP2PGunTransport/webpack/bootstrap","webpack://ReduxP2PGunTransport/(webpack)/buildin/global.js","webpack://ReduxP2PGunTransport/./gun-transport.js","webpack://ReduxP2PGunTransport/(webpack)/buildin/module.js","webpack://ReduxP2PGunTransport/./node_modules/gun/gun.js","webpack://ReduxP2PGunTransport/./browser.js","webpack://ReduxP2PGunTransport/./node_modules/node-libs-browser/node_modules/events/events.js","webpack://ReduxP2PGunTransport/./node_modules/inherits/inherits_browser.js","webpack://ReduxP2PGunTransport/./node_modules/util/support/isBufferBrowser.js","webpack://ReduxP2PGunTransport/./node_modules/process/browser.js","webpack://ReduxP2PGunTransport/./node_modules/util/util.js","webpack://ReduxP2PGunTransport/./node_modules/gun/gun.min.js","webpack://ReduxP2PGunTransport/./node.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","eval","e","_typeof","util","EventEmitter","Gun","GunDbTransport","opts","_this","gun","room","map","on","objAction","action","JSON","parse","emit","id","inherits","replicate","actionMsg","gunObj","stringify","set","webpackPolyfill","deprecate","paths","children","global","console","log","USE","arg","slice","R","mod","path","split","toString","replace","common","Type","fns","fn","is","bi","b","Boolean","num","list_is","parseFloat","Infinity","text","ify","random","charAt","Math","floor","length","match","=","obj","has","toLowerCase","list","indexOf","f","fuzzy","Array","slit","sort","k","A","B","_","obj_map","index","constructor","put","v","del","as","u","obj_is","obj_has","to","from","copy","empty","arguments","push","keys","x","ll","lle","fn_is","ii","time","Date","getTime","onto","tag","next","tmp","be","off","the","last","back","Error","Lexical","machineState","incomingState","currentState","incomingValue","currentValue","defer","historical","converge","incoming","state","current","err","Val","text_is","bi_is","num_is","rel","rel_","obj_put","Node","soul_","soul","text_random","cb","node","obj_del","State","N","drift","D","perf","performance","timing","navigationStart","N_","lex","obj_as","val","obj_copy","opt","Graph","nf","obj_empty","env","at","arr","seen","graph","valid","concat","prev","invalid","join","clearTimeout","setTimeout","lack","time_is","dup","max","age","check","pass","track","it","was","now","version","chain","toJSON","HAM","ask","msg","text_rand","out","once","obj_to","verify","ctx","vertex","known","machine","diff","souls","merge","cat","super","async","ack","each","and","aeach","stop","@","_soul","_has","how","peers","url","uuid","state_lex","debug","apply","w","yes","output","I",".","input","ev","change","node_","_id","echo","not","relate","#","neat","event","reverb","data","via","proxy","sub","use","$","cache","stun","batch","no","res","PUT","tmp2","ref","iife","at_","solve","any","noop","ok","coat","wait","eas","act","subs","n_","fields","MAPOF","item","store","localStorage","setItem","removeItem","getItem","file","gap","flush","disk","send","lS","prefix","acks","count","retry","Mesh","mesh","say","hear","raw","peer","hash","wire","readyState","OPEN","queue","msh","hi","charCodeAt","WebSocket","websocket","webkitWebSocket","mozWebSocket","open","onclose","reconnect","onerror","error","code","onopen","onmessage","inLength","createGunTransport","_events","_maxListeners","undefined","isFunction","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","type","er","handler","len","args","listeners","context","addListener","listener","newListener","warned","trace","fired","removeListener","position","splice","removeAllListeners","listenerCount","evlistener","emitter","ctor","superCtor","super_","writable","configurable","TempCtor","fill","readUInt8","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","nextTick","title","browser","argv","versions","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","formatRegExp","format","isString","objects","inspect","str","String","Number","isNull","noDeprecation","throwDeprecation","traceDeprecation","debugEnviron","debugs","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","ret","primitive","simple","isNumber","formatPrimitive","visibleKeys","forEach","idx","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","RegExp","isDate","base","braces","isArray","toUTCString","formatProperty","formatArray","pop","reduce","cur","numLinesEst","reduceToSingleString","desc","getOwnPropertyDescriptor","line","substr","ar","re","objectToString","pad","debuglog","NODE_DEBUG","toUpperCase","test","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","prop","getHours","getMinutes","getSeconds","getDate","getMonth","origin","add","h","a","y"],"mappings":"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","file":"main.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxP2PGunTransport\"] = factory();\n\telse\n\t\troot[\"ReduxP2PGunTransport\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var util = require(\"util\");\nvar EventEmitter = require(\"events\").EventEmitter;\n\n//Receives the Gun constructor (different for node and browser)\nfunction createGunTransport(Gun) {\n    util.inherits(GunDbTransport, EventEmitter);\n\n    function GunDbTransport(opts) {\n        if (!(this instanceof GunDbTransport)) return new GunDbTransport(opts);\n        this.gun = Gun(opts);\n        this.opts = opts || {};\n        this.room = this.opts.room || \"lounge\";\n        //create subscription to items in actions collection\n        this.gun\n            .get(this.room).get(\"actions\")\n            .map()\n            .on(objAction => {\n                let action = JSON.parse(objAction.action);\n                this.emit(\"action\", { id: objAction.id, action: action });\n            });\n    }\n\n    GunDbTransport.prototype.replicate = function(actionMsg) {\n        const gunObj = {\n            id: actionMsg.id,\n            action: JSON.stringify(actionMsg.action)\n        };\n        this.gun.get(this.room).get(\"actions\").set(gunObj);\n    };\n\n    return GunDbTransport;\n}\n\nmodule.exports = createGunTransport;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n",";(function(){\r\n\r\n\t/* UNBUILD */\r\n\tvar root;\r\n\tif(typeof window !== \"undefined\"){ root = window }\r\n\tif(typeof global !== \"undefined\"){ root = global }\r\n\troot = root || {};\r\n\tvar console = root.console || {log: function(){}};\r\n\tfunction USE(arg){\r\n\t\treturn arg.slice? USE[R(arg)] : function(mod, path){\r\n\t\t\targ(mod = {exports: {}});\r\n\t\t\tUSE[R(path)] = mod.exports;\r\n\t\t}\r\n\t\tfunction R(p){\r\n\t\t\treturn p.split('/').slice(-1).toString().replace('.js','');\r\n\t\t}\r\n\t}\r\n\tif(typeof module !== \"undefined\"){ var common = module }\r\n\t/* UNBUILD */\r\n\r\n\t;USE(function(module){\r\n\t\t// Generic javascript utilities.\r\n\t\tvar Type = {};\r\n\t\t//Type.fns = Type.fn = {is: function(fn){ return (!!fn && fn instanceof Function) }}\r\n\t\tType.fns = Type.fn = {is: function(fn){ return (!!fn && 'function' == typeof fn) }}\r\n\t\tType.bi = {is: function(b){ return (b instanceof Boolean || typeof b == 'boolean') }}\r\n\t\tType.num = {is: function(n){ return !list_is(n) && ((n - parseFloat(n) + 1) >= 0 || Infinity === n || -Infinity === n) }}\r\n\t\tType.text = {is: function(t){ return (typeof t == 'string') }}\r\n\t\tType.text.ify = function(t){\r\n\t\t\tif(Type.text.is(t)){ return t }\r\n\t\t\tif(typeof JSON !== \"undefined\"){ return JSON.stringify(t) }\r\n\t\t\treturn (t && t.toString)? t.toString() : t;\r\n\t\t}\r\n\t\tType.text.random = function(l, c){\r\n\t\t\tvar s = '';\r\n\t\t\tl = l || 24; // you are not going to make a 0 length random number, so no need to check type\r\n\t\t\tc = c || '0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz';\r\n\t\t\twhile(l > 0){ s += c.charAt(Math.floor(Math.random() * c.length)); l-- }\r\n\t\t\treturn s;\r\n\t\t}\r\n\t\tType.text.match = function(t, o){ var r = false;\r\n\t\t\tt = t || '';\r\n\t\t\to = Type.text.is(o)? {'=': o} : o || {}; // {'~', '=', '*', '<', '>', '+', '-', '?', '!'} // ignore case, exactly equal, anything after, lexically larger, lexically lesser, added in, subtacted from, questionable fuzzy match, and ends with.\r\n\t\t\tif(Type.obj.has(o,'~')){ t = t.toLowerCase(); o['='] = (o['='] || o['~']).toLowerCase() }\r\n\t\t\tif(Type.obj.has(o,'=')){ return t === o['='] }\r\n\t\t\tif(Type.obj.has(o,'*')){ if(t.slice(0, o['*'].length) === o['*']){ r = true; t = t.slice(o['*'].length) } else { return false }}\r\n\t\t\tif(Type.obj.has(o,'!')){ if(t.slice(-o['!'].length) === o['!']){ r = true } else { return false }}\r\n\t\t\tif(Type.obj.has(o,'+')){\r\n\t\t\t\tif(Type.list.map(Type.list.is(o['+'])? o['+'] : [o['+']], function(m){\r\n\t\t\t\t\tif(t.indexOf(m) >= 0){ r = true } else { return true }\r\n\t\t\t\t})){ return false }\r\n\t\t\t}\r\n\t\t\tif(Type.obj.has(o,'-')){\r\n\t\t\t\tif(Type.list.map(Type.list.is(o['-'])? o['-'] : [o['-']], function(m){\r\n\t\t\t\t\tif(t.indexOf(m) < 0){ r = true } else { return true }\r\n\t\t\t\t})){ return false }\r\n\t\t\t}\r\n\t\t\tif(Type.obj.has(o,'>')){ if(t > o['>']){ r = true } else { return false }}\r\n\t\t\tif(Type.obj.has(o,'<')){ if(t < o['<']){ r = true } else { return false }}\r\n\t\t\tfunction fuzzy(t,f){ var n = -1, i = 0, c; for(;c = f[i++];){ if(!~(n = t.indexOf(c, n+1))){ return false }} return true } // via http://stackoverflow.com/questions/9206013/javascript-fuzzy-search\r\n\t\t\tif(Type.obj.has(o,'?')){ if(fuzzy(t, o['?'])){ r = true } else { return false }} // change name!\r\n\t\t\treturn r;\r\n\t\t}\r\n\t\tType.list = {is: function(l){ return (l instanceof Array) }}\r\n\t\tType.list.slit = Array.prototype.slice;\r\n\t\tType.list.sort = function(k){ // creates a new sort function based off some key\r\n\t\t\treturn function(A,B){\r\n\t\t\t\tif(!A || !B){ return 0 } A = A[k]; B = B[k];\r\n\t\t\t\tif(A < B){ return -1 }else if(A > B){ return 1 }\r\n\t\t\t\telse { return 0 }\r\n\t\t\t}\r\n\t\t}\r\n\t\tType.list.map = function(l, c, _){ return obj_map(l, c, _) }\r\n\t\tType.list.index = 1; // change this to 0 if you want non-logical, non-mathematical, non-matrix, non-convenient array notation\r\n\t\tType.obj = {is: function(o){ return o? (o instanceof Object && o.constructor === Object) || Object.prototype.toString.call(o).match(/^\\[object (\\w+)\\]$/)[1] === 'Object' : false }}\r\n\t\tType.obj.put = function(o, k, v){ return (o||{})[k] = v, o }\r\n\t\tType.obj.has = function(o, k){ return o && Object.prototype.hasOwnProperty.call(o, k) }\r\n\t\tType.obj.del = function(o, k){\r\n\t\t\tif(!o){ return }\r\n\t\t\to[k] = null;\r\n\t\t\tdelete o[k];\r\n\t\t\treturn o;\r\n\t\t}\r\n\t\tType.obj.as = function(o, k, v, u){ return o[k] = o[k] || (u === v? {} : v) }\r\n\t\tType.obj.ify = function(o){\r\n\t\t\tif(obj_is(o)){ return o }\r\n\t\t\ttry{o = JSON.parse(o);\r\n\t\t\t}catch(e){o={}};\r\n\t\t\treturn o;\r\n\t\t}\r\n\t\t;(function(){ var u;\r\n\t\t\tfunction map(v,k){\r\n\t\t\t\tif(obj_has(this,k) && u !== this[k]){ return }\r\n\t\t\t\tthis[k] = v;\r\n\t\t\t}\r\n\t\t\tType.obj.to = function(from, to){\r\n\t\t\t\tto = to || {};\r\n\t\t\t\tobj_map(from, map, to);\r\n\t\t\t\treturn to;\r\n\t\t\t}\r\n\t\t}());\r\n\t\tType.obj.copy = function(o){ // because http://web.archive.org/web/20140328224025/http://jsperf.com/cloning-an-object/2\r\n\t\t\treturn !o? o : JSON.parse(JSON.stringify(o)); // is shockingly faster than anything else, and our data has to be a subset of JSON anyways!\r\n\t\t}\r\n\t\t;(function(){\r\n\t\t\tfunction empty(v,i){ var n = this.n;\r\n\t\t\t\tif(n && (i === n || (obj_is(n) && obj_has(n, i)))){ return }\r\n\t\t\t\tif(i){ return true }\r\n\t\t\t}\r\n\t\t\tType.obj.empty = function(o, n){\r\n\t\t\t\tif(!o){ return true }\r\n\t\t\t\treturn obj_map(o,empty,{n:n})? false : true;\r\n\t\t\t}\r\n\t\t}());\r\n\t\t;(function(){\r\n\t\t\tfunction t(k,v){\r\n\t\t\t\tif(2 === arguments.length){\r\n\t\t\t\t\tt.r = t.r || {};\r\n\t\t\t\t\tt.r[k] = v;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} t.r = t.r || [];\r\n\t\t\t\tt.r.push(k);\r\n\t\t\t};\r\n\t\t\tvar keys = Object.keys;\r\n\t\t\tType.obj.map = function(l, c, _){\r\n\t\t\t\tvar u, i = 0, x, r, ll, lle, f = fn_is(c);\r\n\t\t\t\tt.r = null;\r\n\t\t\t\tif(keys && obj_is(l)){\r\n\t\t\t\t\tll = keys(l); lle = true;\r\n\t\t\t\t}\r\n\t\t\t\tif(list_is(l) || ll){\r\n\t\t\t\t\tx = (ll || l).length;\r\n\t\t\t\t\tfor(;i < x; i++){\r\n\t\t\t\t\t\tvar ii = (i + Type.list.index);\r\n\t\t\t\t\t\tif(f){\r\n\t\t\t\t\t\t\tr = lle? c.call(_ || this, l[ll[i]], ll[i], t) : c.call(_ || this, l[i], ii, t);\r\n\t\t\t\t\t\t\tif(r !== u){ return r }\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//if(Type.test.is(c,l[i])){ return ii } // should implement deep equality testing!\r\n\t\t\t\t\t\t\tif(c === l[lle? ll[i] : i]){ return ll? ll[i] : ii } // use this for now\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor(i in l){\r\n\t\t\t\t\t\tif(f){\r\n\t\t\t\t\t\t\tif(obj_has(l,i)){\r\n\t\t\t\t\t\t\t\tr = _? c.call(_, l[i], i, t) : c(l[i], i, t);\r\n\t\t\t\t\t\t\t\tif(r !== u){ return r }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//if(a.test.is(c,l[i])){ return i } // should implement deep equality testing!\r\n\t\t\t\t\t\t\tif(c === l[i]){ return i } // use this for now\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn f? t.r : Type.list.index? 0 : -1;\r\n\t\t\t}\r\n\t\t}());\r\n\t\tType.time = {};\r\n\t\tType.time.is = function(t){ return t? t instanceof Date : (+new Date().getTime()) }\r\n\r\n\t\tvar fn_is = Type.fn.is;\r\n\t\tvar list_is = Type.list.is;\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_has = obj.has, obj_map = obj.map;\r\n\t\tmodule.exports = Type;\r\n\t})(USE, './type');\r\n\r\n\t;USE(function(module){\r\n\t\t// On event emitter generic javascript utility.\r\n\t\tmodule.exports = function onto(tag, arg, as){\r\n\t\t\tif(!tag){ return {to: onto} }\r\n\t\t\tvar u, tag = (this.tag || (this.tag = {}))[tag] ||\r\n\t\t\t(this.tag[tag] = {tag: tag, to: onto._ = {\r\n\t\t\t\tnext: function(arg){ var tmp;\r\n\t\t\t\t\tif((tmp = this.to)){ \r\n\t\t\t\t\t\ttmp.next(arg);\r\n\t\t\t\t}}\r\n\t\t\t}});\r\n\t\t\tif(arg instanceof Function){\r\n\t\t\t\tvar be = {\r\n\t\t\t\t\toff: onto.off || \r\n\t\t\t\t\t(onto.off = function(){\r\n\t\t\t\t\t\tif(this.next === onto._.next){ return !0 }\r\n\t\t\t\t\t\tif(this === this.the.last){\r\n\t\t\t\t\t\t\tthis.the.last = this.back;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.to.back = this.back;\r\n\t\t\t\t\t\tthis.next = onto._.next;\r\n\t\t\t\t\t\tthis.back.to = this.to;\r\n\t\t\t\t\t\tif(this.the.last === this.the){\r\n\t\t\t\t\t\t\tdelete this.on.tag[this.the.tag];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tto: onto._,\r\n\t\t\t\t\tnext: arg,\r\n\t\t\t\t\tthe: tag,\r\n\t\t\t\t\ton: this,\r\n\t\t\t\t\tas: as,\r\n\t\t\t\t};\r\n\t\t\t\t(be.back = tag.last || tag).to = be;\r\n\t\t\t\treturn tag.last = be;\r\n\t\t\t}\r\n\t\t\tif((tag = tag.to) && u !== arg){ tag.next(arg) }\r\n\t\t\treturn tag;\r\n\t\t};\r\n\t})(USE, './onto');\r\n\r\n\t;USE(function(module){\r\n\t\t/* Based on the Hypothetical Amnesia Machine thought experiment */\r\n\t\tfunction HAM(machineState, incomingState, currentState, incomingValue, currentValue){\r\n\t\t\tif(machineState < incomingState){\r\n\t\t\t\treturn {defer: true}; // the incoming value is outside the boundary of the machine's state, it must be reprocessed in another state.\r\n\t\t\t}\r\n\t\t\tif(incomingState < currentState){\r\n\t\t\t\treturn {historical: true}; // the incoming value is within the boundary of the machine's state, but not within the range.\r\n\r\n\t\t\t}\r\n\t\t\tif(currentState < incomingState){\r\n\t\t\t\treturn {converge: true, incoming: true}; // the incoming value is within both the boundary and the range of the machine's state.\r\n\r\n\t\t\t}\r\n\t\t\tif(incomingState === currentState){\r\n\t\t\t\tincomingValue = Lexical(incomingValue) || \"\";\r\n\t\t\t\tcurrentValue = Lexical(currentValue) || \"\";\r\n\t\t\t\tif(incomingValue === currentValue){ // Note: while these are practically the same, the deltas could be technically different\r\n\t\t\t\t\treturn {state: true};\r\n\t\t\t\t}\r\n\t\t\t\t/*\r\n\t\t\t\t\tThe following is a naive implementation, but will always work.\r\n\t\t\t\t\tNever change it unless you have specific needs that absolutely require it.\r\n\t\t\t\t\tIf changed, your data will diverge unless you guarantee every peer's algorithm has also been changed to be the same.\r\n\t\t\t\t\tAs a result, it is highly discouraged to modify despite the fact that it is naive,\r\n\t\t\t\t\tbecause convergence (data integrity) is generally more important.\r\n\t\t\t\t\tAny difference in this algorithm must be given a new and different name.\r\n\t\t\t\t*/\r\n\t\t\t\tif(incomingValue < currentValue){ // Lexical only works on simple value types!\r\n\t\t\t\t\treturn {converge: true, current: true};\r\n\t\t\t\t}\r\n\t\t\t\tif(currentValue < incomingValue){ // Lexical only works on simple value types!\r\n\t\t\t\t\treturn {converge: true, incoming: true};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {err: \"Invalid CRDT Data: \"+ incomingValue +\" to \"+ currentValue +\" at \"+ incomingState +\" to \"+ currentState +\"!\"};\r\n\t\t}\r\n\t\tif(typeof JSON === 'undefined'){\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'JSON is not included in this browser. Please load it first: ' +\r\n\t\t\t\t'ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js'\r\n\t\t\t);\r\n\t\t}\r\n\t\tvar Lexical = JSON.stringify, undefined;\r\n\t\tmodule.exports = HAM;\r\n\t})(USE, './HAM');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Val = {};\r\n\t\tVal.is = function(v){ // Valid values are a subset of JSON: null, binary, number (!Infinity), text, or a soul relation. Arrays need special algorithms to handle concurrency, so they are not supported directly. Use an extension that supports them if needed but research their problems first.\r\n\t\t\tif(v === u){ return false }\r\n\t\t\tif(v === null){ return true } // \"deletes\", nulling out keys.\r\n\t\t\tif(v === Infinity){ return false } // we want this to be, but JSON does not support it, sad face.\r\n\t\t\tif(text_is(v) // by \"text\" we mean strings.\r\n\t\t\t|| bi_is(v) // by \"binary\" we mean boolean.\r\n\t\t\t|| num_is(v)){ // by \"number\" we mean integers or decimals. \r\n\t\t\t\treturn true; // simple values are valid.\r\n\t\t\t}\r\n\t\t\treturn Val.rel.is(v) || false; // is the value a soul relation? Then it is valid and return it. If not, everything else remaining is an invalid data type. Custom extensions can be built on top of these primitives to support other types.\r\n\t\t}\r\n\t\tVal.rel = {_: '#'};\r\n\t\t;(function(){\r\n\t\t\tVal.rel.is = function(v){ // this defines whether an object is a soul relation or not, they look like this: {'#': 'UUID'}\r\n\t\t\t\tif(v && v[rel_] && !v._ && obj_is(v)){ // must be an object.\r\n\t\t\t\t\tvar o = {};\r\n\t\t\t\t\tobj_map(v, map, o);\r\n\t\t\t\t\tif(o.id){ // a valid id was found.\r\n\t\t\t\t\t\treturn o.id; // yay! Return it.\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false; // the value was not a valid soul relation.\r\n\t\t\t}\r\n\t\t\tfunction map(s, k){ var o = this; // map over the object...\r\n\t\t\t\tif(o.id){ return o.id = false } // if ID is already defined AND we're still looping through the object, it is considered invalid.\r\n\t\t\t\tif(k == rel_ && text_is(s)){ // the key should be '#' and have a text value.\r\n\t\t\t\t\to.id = s; // we found the soul!\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn o.id = false; // if there exists anything else on the object that isn't the soul, then it is considered invalid.\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\t\tVal.rel.ify = function(t){ return obj_put({}, rel_, t) } // convert a soul into a relation and return it.\r\n\t\tType.obj.has._ = '.';\r\n\t\tvar rel_ = Val.rel._, u;\r\n\t\tvar bi_is = Type.bi.is;\r\n\t\tvar num_is = Type.num.is;\r\n\t\tvar text_is = Type.text.is;\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_put = obj.put, obj_map = obj.map;\r\n\t\tmodule.exports = Val;\r\n\t})(USE, './val');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Val = USE('./val');\r\n\t\tvar Node = {_: '_'};\r\n\t\tNode.soul = function(n, o){ return (n && n._ && n._[o || soul_]) } // convenience function to check to see if there is a soul on a node and return it.\r\n\t\tNode.soul.ify = function(n, o){ // put a soul on an object.\r\n\t\t\to = (typeof o === 'string')? {soul: o} : o || {};\r\n\t\t\tn = n || {}; // make sure it exists.\r\n\t\t\tn._ = n._ || {}; // make sure meta exists.\r\n\t\t\tn._[soul_] = o.soul || n._[soul_] || text_random(); // put the soul on it.\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\tNode.soul._ = Val.rel._;\r\n\t\t;(function(){\r\n\t\t\tNode.is = function(n, cb, as){ var s; // checks to see if an object is a valid node.\r\n\t\t\t\tif(!obj_is(n)){ return false } // must be an object.\r\n\t\t\t\tif(s = Node.soul(n)){ // must have a soul on it.\r\n\t\t\t\t\treturn !obj_map(n, map, {as:as,cb:cb,s:s,n:n});\r\n\t\t\t\t}\r\n\t\t\t\treturn false; // nope! This was not a valid node.\r\n\t\t\t}\r\n\t\t\tfunction map(v, k){ // we invert this because the way we check for this is via a negation.\r\n\t\t\t\tif(k === Node._){ return } // skip over the metadata.\r\n\t\t\t\tif(!Val.is(v)){ return true } // it is true that this is an invalid node.\r\n\t\t\t\tif(this.cb){ this.cb.call(this.as, v, k, this.n, this.s) } // optionally callback each key/value.\r\n\t\t\t}\r\n\t\t}());\r\n\t\t;(function(){\r\n\t\t\tNode.ify = function(obj, o, as){ // returns a node from a shallow object.\r\n\t\t\t\tif(!o){ o = {} }\r\n\t\t\t\telse if(typeof o === 'string'){ o = {soul: o} }\r\n\t\t\t\telse if(o instanceof Function){ o = {map: o} }\r\n\t\t\t\tif(o.map){ o.node = o.map.call(as, obj, u, o.node || {}) }\r\n\t\t\t\tif(o.node = Node.soul.ify(o.node || {}, o)){\r\n\t\t\t\t\tobj_map(obj, map, {o:o,as:as});\r\n\t\t\t\t}\r\n\t\t\t\treturn o.node; // This will only be a valid node if the object wasn't already deep!\r\n\t\t\t}\r\n\t\t\tfunction map(v, k){ var o = this.o, tmp, u; // iterate over each key/value.\r\n\t\t\t\tif(o.map){\r\n\t\t\t\t\ttmp = o.map.call(this.as, v, ''+k, o.node);\r\n\t\t\t\t\tif(u === tmp){\r\n\t\t\t\t\t\tobj_del(o.node, k);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif(o.node){ o.node[k] = tmp }\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(Val.is(v)){\r\n\t\t\t\t\to.node[k] = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_del = obj.del, obj_map = obj.map;\r\n\t\tvar text = Type.text, text_random = text.random;\r\n\t\tvar soul_ = Node.soul._;\r\n\t\tvar u;\r\n\t\tmodule.exports = Node;\r\n\t})(USE, './node');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Node = USE('./node');\r\n\t\tfunction State(){\r\n\t\t\tvar t;\r\n\t\t\t/*if(perf){\r\n\t\t\t\tt = start + perf.now(); // Danger: Accuracy decays significantly over time, even if precise.\r\n\t\t\t} else {*/\r\n\t\t\t\tt = time();\r\n\t\t\t//}\r\n\t\t\tif(last < t){\r\n\t\t\t\treturn N = 0, last = t + State.drift;\r\n\t\t\t}\r\n\t\t\treturn last = t + ((N += 1) / D) + State.drift;\r\n\t\t}\r\n\t\tvar time = Type.time.is, last = -Infinity, N = 0, D = 1000; // WARNING! In the future, on machines that are D times faster than 2016AD machines, you will want to increase D by another several orders of magnitude so the processing speed never out paces the decimal resolution (increasing an integer effects the state accuracy).\r\n\t\tvar perf = (typeof performance !== 'undefined')? (performance.timing && performance) : false, start = (perf && perf.timing && perf.timing.navigationStart) || (perf = false);\r\n\t\tState._ = '>';\r\n\t\tState.drift = 0;\r\n\t\tState.is = function(n, k, o){ // convenience function to get the state on a key on a node and return it.\r\n\t\t\tvar tmp = (k && n && n[N_] && n[N_][State._]) || o;\r\n\t\t\tif(!tmp){ return }\r\n\t\t\treturn num_is(tmp = tmp[k])? tmp : -Infinity;\r\n\t\t}\r\n\t\tState.lex = function(){ return State().toString(36).replace('.','') }\r\n\t\tState.ify = function(n, k, s, v, soul){ // put a key's state on a node.\r\n\t\t\tif(!n || !n[N_]){ // reject if it is not node-like.\r\n\t\t\t\tif(!soul){ // unless they passed a soul\r\n\t\t\t\t\treturn; \r\n\t\t\t\t}\r\n\t\t\t\tn = Node.soul.ify(n, soul); // then make it so!\r\n\t\t\t} \r\n\t\t\tvar tmp = obj_as(n[N_], State._); // grab the states data.\r\n\t\t\tif(u !== k && k !== N_){\r\n\t\t\t\tif(num_is(s)){\r\n\t\t\t\t\ttmp[k] = s; // add the valid state.\r\n\t\t\t\t}\r\n\t\t\t\tif(u !== v){ // Note: Not its job to check for valid values!\r\n\t\t\t\t\tn[k] = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\tState.to = function(from, k, to){\r\n\t\t\tvar val = from[k];\r\n\t\t\tif(obj_is(val)){\r\n\t\t\t\tval = obj_copy(val);\r\n\t\t\t}\r\n\t\t\treturn State.ify(to, k, State.is(from, k), val, Node.soul(from));\r\n\t\t}\r\n\t\t;(function(){\r\n\t\t\tState.map = function(cb, s, as){ var u; // for use with Node.ify\r\n\t\t\t\tvar o = obj_is(o = cb || s)? o : null;\r\n\t\t\t\tcb = fn_is(cb = cb || s)? cb : null;\r\n\t\t\t\tif(o && !cb){\r\n\t\t\t\t\ts = num_is(s)? s : State();\r\n\t\t\t\t\to[N_] = o[N_] || {};\r\n\t\t\t\t\tobj_map(o, map, {o:o,s:s});\r\n\t\t\t\t\treturn o;\r\n\t\t\t\t}\r\n\t\t\t\tas = as || obj_is(s)? s : u;\r\n\t\t\t\ts = num_is(s)? s : State();\r\n\t\t\t\treturn function(v, k, o, opt){\r\n\t\t\t\t\tif(!cb){\r\n\t\t\t\t\t\tmap.call({o: o, s: s}, v,k);\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcb.call(as || this || {}, v, k, o, opt);\r\n\t\t\t\t\tif(obj_has(o,k) && u === o[k]){ return }\r\n\t\t\t\t\tmap.call({o: o, s: s}, v,k);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction map(v,k){\r\n\t\t\t\tif(N_ === k){ return }\r\n\t\t\t\tState.ify(this.o, k, this.s) ;\r\n\t\t\t}\r\n\t\t}());\r\n\t\tvar obj = Type.obj, obj_as = obj.as, obj_has = obj.has, obj_is = obj.is, obj_map = obj.map, obj_copy = obj.copy;\r\n\t\tvar num = Type.num, num_is = num.is;\r\n\t\tvar fn = Type.fn, fn_is = fn.is;\r\n\t\tvar N_ = Node._, u;\r\n\t\tmodule.exports = State;\r\n\t})(USE, './state');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Val = USE('./val');\r\n\t\tvar Node = USE('./node');\r\n\t\tvar Graph = {};\r\n\t\t;(function(){\r\n\t\t\tGraph.is = function(g, cb, fn, as){ // checks to see if an object is a valid graph.\r\n\t\t\t\tif(!g || !obj_is(g) || obj_empty(g)){ return false } // must be an object.\r\n\t\t\t\treturn !obj_map(g, map, {cb:cb,fn:fn,as:as}); // makes sure it wasn't an empty object.\r\n\t\t\t}\r\n\t\t\tfunction map(n, s){ // we invert this because the way'? we check for this is via a negation.\r\n\t\t\t\tif(!n || s !== Node.soul(n) || !Node.is(n, this.fn, this.as)){ return true } // it is true that this is an invalid graph.\r\n\t\t\t\tif(!this.cb){ return }\r\n\t\t\t\tnf.n = n; nf.as = this.as; // sequential race conditions aren't races.\r\n\t\t\t\tthis.cb.call(nf.as, n, s, nf);\r\n\t\t\t}\r\n\t\t\tfunction nf(fn){ // optional callback for each node.\r\n\t\t\t\tif(fn){ Node.is(nf.n, fn, nf.as) } // where we then have an optional callback for each key/value.\r\n\t\t\t}\r\n\t\t}());\r\n\t\t;(function(){\r\n\t\t\tGraph.ify = function(obj, env, as){\r\n\t\t\t\tvar at = {path: [], obj: obj};\r\n\t\t\t\tif(!env){\r\n\t\t\t\t\tenv = {};\r\n\t\t\t\t} else\r\n\t\t\t\tif(typeof env === 'string'){\r\n\t\t\t\t\tenv = {soul: env};\r\n\t\t\t\t} else\r\n\t\t\t\tif(env instanceof Function){\r\n\t\t\t\t\tenv.map = env;\r\n\t\t\t\t}\r\n\t\t\t\tif(env.soul){\r\n\t\t\t\t\tat.rel = Val.rel.ify(env.soul);\r\n\t\t\t\t}\r\n\t\t\t\tenv.graph = env.graph || {};\r\n\t\t\t\tenv.seen = env.seen || [];\r\n\t\t\t\tenv.as = env.as || as;\r\n\t\t\t\tnode(env, at);\r\n\t\t\t\tenv.root = at.node;\r\n\t\t\t\treturn env.graph;\r\n\t\t\t}\r\n\t\t\tfunction node(env, at){ var tmp;\r\n\t\t\t\tif(tmp = seen(env, at)){ return tmp }\r\n\t\t\t\tat.env = env;\r\n\t\t\t\tat.soul = soul;\r\n\t\t\t\tif(Node.ify(at.obj, map, at)){\r\n\t\t\t\t\t//at.rel = at.rel || Val.rel.ify(Node.soul(at.node));\r\n\t\t\t\t\tenv.graph[Val.rel.is(at.rel)] = at.node;\r\n\t\t\t\t}\r\n\t\t\t\treturn at;\r\n\t\t\t}\r\n\t\t\tfunction map(v,k,n){\r\n\t\t\t\tvar at = this, env = at.env, is, tmp;\r\n\t\t\t\tif(Node._ === k && obj_has(v,Val.rel._)){\r\n\t\t\t\t\treturn n._; // TODO: Bug?\r\n\t\t\t\t}\r\n\t\t\t\tif(!(is = valid(v,k,n, at,env))){ return }\r\n\t\t\t\tif(!k){\r\n\t\t\t\t\tat.node = at.node || n || {};\r\n\t\t\t\t\tif(obj_has(v, Node._)){ // && Node.soul(v) ? for safety ?\r\n\t\t\t\t\t\tat.node._ = obj_copy(v._);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tat.node = Node.soul.ify(at.node, Val.rel.is(at.rel));\r\n\t\t\t\t\tat.rel = at.rel || Val.rel.ify(Node.soul(at.node));\r\n\t\t\t\t}\r\n\t\t\t\tif(tmp = env.map){\r\n\t\t\t\t\ttmp.call(env.as || {}, v,k,n, at);\r\n\t\t\t\t\tif(obj_has(n,k)){\r\n\t\t\t\t\t\tv = n[k];\r\n\t\t\t\t\t\tif(u === v){\r\n\t\t\t\t\t\t\tobj_del(n, k);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!(is = valid(v,k,n, at,env))){ return }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!k){ return at.node }\r\n\t\t\t\tif(true === is){\r\n\t\t\t\t\treturn v;\r\n\t\t\t\t}\r\n\t\t\t\ttmp = node(env, {obj: v, path: at.path.concat(k)});\r\n\t\t\t\tif(!tmp.node){ return }\r\n\t\t\t\treturn tmp.rel; //{'#': Node.soul(tmp.node)};\r\n\t\t\t}\r\n\t\t\tfunction soul(id){ var at = this;\r\n\t\t\t\tvar prev = Val.rel.is(at.rel), graph = at.env.graph;\r\n\t\t\t\tat.rel = at.rel || Val.rel.ify(id);\r\n\t\t\t\tat.rel[Val.rel._] = id;\r\n\t\t\t\tif(at.node && at.node[Node._]){\r\n\t\t\t\t\tat.node[Node._][Val.rel._] = id;\r\n\t\t\t\t}\r\n\t\t\t\tif(obj_has(graph, prev)){\r\n\t\t\t\t\tgraph[id] = graph[prev];\r\n\t\t\t\t\tobj_del(graph, prev);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction valid(v,k,n, at,env){ var tmp;\r\n\t\t\t\tif(Val.is(v)){ return true }\r\n\t\t\t\tif(obj_is(v)){ return 1 }\r\n\t\t\t\tif(tmp = env.invalid){\r\n\t\t\t\t\tv = tmp.call(env.as || {}, v,k,n);\r\n\t\t\t\t\treturn valid(v,k,n, at,env);\r\n\t\t\t\t}\r\n\t\t\t\tenv.err = \"Invalid value at '\" + at.path.concat(k).join('.') + \"'!\";\r\n\t\t\t\tif(Type.list.is(v)){ env.err += \" Use `.set(item)` instead of an Array.\" }\r\n\t\t\t}\r\n\t\t\tfunction seen(env, at){\r\n\t\t\t\tvar arr = env.seen, i = arr.length, has;\r\n\t\t\t\twhile(i--){ has = arr[i];\r\n\t\t\t\t\tif(at.obj === has.obj){ return has }\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(at);\r\n\t\t\t}\r\n\t\t}());\r\n\t\tGraph.node = function(node){\r\n\t\t\tvar soul = Node.soul(node);\r\n\t\t\tif(!soul){ return }\r\n\t\t\treturn obj_put({}, soul, node);\r\n\t\t}\r\n\t\t;(function(){\r\n\t\t\tGraph.to = function(graph, root, opt){\r\n\t\t\t\tif(!graph){ return }\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\topt = opt || {seen: {}};\r\n\t\t\t\tobj_map(graph[root], map, {obj:obj, graph: graph, opt: opt});\r\n\t\t\t\treturn obj;\r\n\t\t\t}\r\n\t\t\tfunction map(v,k){ var tmp, obj;\r\n\t\t\t\tif(Node._ === k){\r\n\t\t\t\t\tif(obj_empty(v, Val.rel._)){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.obj[k] = obj_copy(v);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!(tmp = Val.rel.is(v))){\r\n\t\t\t\t\tthis.obj[k] = v;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(obj = this.opt.seen[tmp]){\r\n\t\t\t\t\tthis.obj[k] = obj;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.obj[k] = this.opt.seen[tmp] = Graph.to(this.graph, tmp, this.opt);\r\n\t\t\t}\r\n\t\t}());\r\n\t\tvar fn_is = Type.fn.is;\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_del = obj.del, obj_has = obj.has, obj_empty = obj.empty, obj_put = obj.put, obj_map = obj.map, obj_copy = obj.copy;\r\n\t\tvar u;\r\n\t\tmodule.exports = Graph;\r\n\t})(USE, './graph');\r\n\r\n\t;USE(function(module){\r\n\t\t// request / response module, for asking and acking messages.\r\n\t\tUSE('./onto'); // depends upon onto!\r\n\t\tmodule.exports = function ask(cb, as){\r\n\t\t\tif(!this.on){ return }\r\n\t\t\tif(!(cb instanceof Function)){\r\n\t\t\t\tif(!cb || !as){ return }\r\n\t\t\t\tvar id = cb['#'] || cb, tmp = (this.tag||empty)[id];\r\n\t\t\t\tif(!tmp){ return }\r\n\t\t\t\ttmp = this.on(id, as);\r\n\t\t\t\tclearTimeout(tmp.err);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar id = (as && as['#']) || Math.random().toString(36).slice(2);\r\n\t\t\tif(!cb){ return id }\r\n\t\t\tvar to = this.on(id, cb, as);\r\n\t\t\tto.err = to.err || setTimeout(function(){\r\n\t\t\t\tto.next({err: \"Error: No ACK received yet.\"});\r\n\t\t\t\tto.off();\r\n\t\t\t}, (this.opt||{}).lack || 9000);\r\n\t\t\treturn id;\r\n\t\t}\r\n\t})(USE, './ask');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tfunction Dup(opt){\r\n\t\t\tvar dup = {s:{}};\r\n\t\t\topt = opt || {max: 1000, age: 1000 * 9};//1000 * 60 * 2};\r\n\t\t\tdup.check = function(id){ var tmp;\r\n\t\t\t\tif(!(tmp = dup.s[id])){ return false }\r\n\t\t\t\tif(tmp.pass){ return tmp.pass = false }\r\n\t\t\t\treturn dup.track(id);\r\n\t\t\t}\r\n\t\t\tdup.track = function(id, pass){\r\n\t\t\t\tvar it = dup.s[id] || (dup.s[id] = {});\r\n\t\t\t\tit.was = time_is();\r\n\t\t\t\tif(pass){ it.pass = true }\r\n\t\t\t\tif(!dup.to){\r\n\t\t\t\t\tdup.to = setTimeout(function(){\r\n\t\t\t\t\t\tvar now = time_is();\r\n\t\t\t\t\t\tType.obj.map(dup.s, function(it, id){\r\n\t\t\t\t\t\t\tif(opt.age > (now - it.was)){ return }\r\n\t\t\t\t\t\t\tType.obj.del(dup.s, id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tdup.to = null;\r\n\t\t\t\t\t}, opt.age + 9);\r\n\t\t\t\t}\r\n\t\t\t\treturn it;\r\n\t\t\t}\r\n\t\t\treturn dup;\r\n\t\t}\r\n\t\tvar time_is = Type.time.is;\r\n\t\tmodule.exports = Dup;\r\n\t})(USE, './dup');\r\n\r\n\t;USE(function(module){\r\n\r\n\t\tfunction Gun(o){\r\n\t\t\tif(o instanceof Gun){ return (this._ = {gun: this}).gun }\r\n\t\t\tif(!(this instanceof Gun)){ return new Gun(o) }\r\n\t\t\treturn Gun.create(this._ = {gun: this, opt: o});\r\n\t\t}\r\n\r\n\t\tGun.is = function(gun){ return (gun instanceof Gun) || (gun && gun._ && gun._.gun && true) || false }\r\n\r\n\t\tGun.version = 0.9;\r\n\r\n\t\tGun.chain = Gun.prototype;\r\n\t\tGun.chain.toJSON = function(){};\r\n\r\n\t\tvar Type = USE('./type');\r\n\t\tType.obj.to(Type, Gun);\r\n\t\tGun.HAM = USE('./HAM');\r\n\t\tGun.val = USE('./val');\r\n\t\tGun.node = USE('./node');\r\n\t\tGun.state = USE('./state');\r\n\t\tGun.graph = USE('./graph');\r\n\t\tGun.on = USE('./onto');\r\n\t\tGun.ask = USE('./ask');\r\n\t\tGun.dup = USE('./dup');\r\n\r\n\t\t;(function(){\r\n\t\t\tGun.create = function(at){\r\n\t\t\t\tat.root = at.root || at;\r\n\t\t\t\tat.graph = at.graph || {};\r\n\t\t\t\tat.on = at.on || Gun.on;\r\n\t\t\t\tat.ask = at.ask || Gun.ask;\r\n\t\t\t\tat.dup = at.dup || Gun.dup();\r\n\t\t\t\tvar gun = at.gun.opt(at.opt);\r\n\t\t\t\tif(!at.once){\r\n\t\t\t\t\tat.on('in', root, at);\r\n\t\t\t\t\tat.on('out', root, obj_to(at, {out: root}));\r\n\t\t\t\t\tGun.on('create', at);\r\n\t\t\t\t\tat.on('create', at);\r\n\t\t\t\t}\r\n\t\t\t\tat.once = 1;\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tfunction root(msg){\r\n\t\t\t\t//console.log(\"add to.next(at)\"); // TODO: MISSING FEATURE!!!\r\n\t\t\t\tvar ev = this, at = ev.as, gun = at.gun, dup, tmp;\r\n\t\t\t\t//if(!msg.gun){ msg.gun = at.gun }\r\n\t\t\t\tif(!(tmp = msg['#'])){ tmp = msg['#'] = text_rand(9) }\r\n\t\t\t\tif((dup = at.dup).check(tmp)){\r\n\t\t\t\t\tif(at.out === msg.out){\r\n\t\t\t\t\t\tmsg.out = u;\r\n\t\t\t\t\t\tev.to.next(msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdup.track(tmp);\r\n\t\t\t\t//msg = obj_to(msg);//, {gun: at.gun}); // can we delete this now?\r\n\t\t\t\tif(!at.ask(msg['@'], msg)){\r\n\t\t\t\t\tif(msg.get){\r\n\t\t\t\t\t\tGun.on.get(msg, gun);\r\n\t\t\t\t\t\t//at.on('get', get(msg));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msg.put){\r\n\t\t\t\t\t\tGun.on.put(msg, gun);\r\n\t\t\t\t\t\t//at.on('put', put(msg));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\tif(!at.out){\r\n\t\t\t\t\tmsg.out = root;\r\n\t\t\t\t\tat.on('out', msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\t;(function(){\r\n\t\t\tGun.on.put = function(msg, gun){\r\n\t\t\t\tvar at = gun._, ctx = {gun: gun, graph: at.graph, put: {}, map: {}, souls: {}, machine: Gun.state(), ack: msg['@']};\r\n\t\t\t\tif(!Gun.graph.is(msg.put, null, verify, ctx)){ ctx.err = \"Error: Invalid graph!\" }\r\n\t\t\t\tif(ctx.err){ return at.on('in', {'@': msg['#'], err: Gun.log(ctx.err) }) }\r\n\t\t\t\tobj_map(ctx.put, merge, ctx);\r\n\t\t\t\tif(!ctx.async){ \r\n\t\t\t\t\tat.stop = {}; // temporary fix till a better solution?\r\n\t\t\t\t\tobj_map(ctx.map, map, ctx)\r\n\t\t\t\t}\r\n\t\t\t\tif(u !== ctx.defer){\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tGun.on.put(msg, gun);\r\n\t\t\t\t\t}, ctx.defer - ctx.machine);\r\n\t\t\t\t}\r\n\t\t\t\tif(!ctx.diff){ return }\r\n\t\t\t\tat.on('put', obj_to(msg, {put: ctx.diff}));\r\n\t\t\t};\r\n\t\t\tfunction verify(val, key, node, soul){ var ctx = this;\r\n\t\t\t\tvar state = Gun.state.is(node, key), tmp;\r\n\t\t\t\tif(!state){ return ctx.err = \"Error: No state on '\"+key+\"' in node '\"+soul+\"'!\" }\r\n\t\t\t\tvar vertex = ctx.graph[soul] || empty, was = Gun.state.is(vertex, key, true), known = vertex[key];\r\n\t\t\t\tvar HAM = Gun.HAM(ctx.machine, state, was, val, known);\r\n\t\t\t\tif(!HAM.incoming){\r\n\t\t\t\t\tif(HAM.defer){ // pick the lowest\r\n\t\t\t\t\t\tctx.defer = (state < (ctx.defer || Infinity))? state : ctx.defer;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tctx.put[soul] = Gun.state.to(node, key, ctx.put[soul]);\r\n\t\t\t\t(ctx.diff || (ctx.diff = {}))[soul] = Gun.state.to(node, key, ctx.diff[soul]);\r\n\t\t\t\tctx.souls[soul] = true;\r\n\t\t\t}\r\n\t\t\tfunction merge(node, soul){\r\n\t\t\t\tvar ctx = this, cat = ctx.gun._, at = (cat.next || empty)[soul];\r\n\t\t\t\tif(!at){\r\n\t\t\t\t\tif(!(cat.opt||empty).super){\r\n\t\t\t\t\t\tctx.souls[soul] = false;\r\n\t\t\t\t\t\treturn; \r\n\t\t\t\t\t}\r\n\t\t\t\t\tat = (ctx.gun.get(soul)._);\r\n\t\t\t\t}\r\n\t\t\t\tvar msg = ctx.map[soul] = {\r\n\t\t\t\t\tput: node,\r\n\t\t\t\t\tget: soul,\r\n\t\t\t\t\tgun: at.gun\r\n\t\t\t\t}, as = {ctx: ctx, msg: msg};\r\n\t\t\t\tctx.async = !!cat.tag.node;\r\n\t\t\t\tif(ctx.ack){ msg['@'] = ctx.ack }\r\n\t\t\t\tobj_map(node, each, as);\r\n\t\t\t\tif(!ctx.async){ return }\r\n\t\t\t\tif(!ctx.and){\r\n\t\t\t\t\t// If it is async, we only need to setup on listener per context (ctx)\r\n\t\t\t\t\tcat.on('node', function(m){\r\n\t\t\t\t\t\tthis.to.next(m); // make sure to call other context's listeners.\r\n\t\t\t\t\t\tif(m !== ctx.map[m.get]){ return } // filter out events not from this context!\r\n\t\t\t\t\t\tctx.souls[m.get] = false; // set our many-async flag\r\n\t\t\t\t\t\tobj_map(m.put, aeach, m); // merge into view\r\n\t\t\t\t\t\tif(obj_map(ctx.souls, function(v){ if(v){ return v } })){ return } // if flag still outstanding, keep waiting.\r\n\t\t\t\t\t\tif(ctx.c){ return } ctx.c = 1; // failsafe for only being called once per context.\r\n\t\t\t\t\t\tthis.off();\r\n\t\t\t\t\t\tcat.stop = {}; // temporary fix till a better solution?\r\n\t\t\t\t\t\tobj_map(ctx.map, map, ctx); // all done, trigger chains.\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tctx.and = true;\r\n\t\t\t\tcat.on('node', msg); // each node on the current context's graph needs to be emitted though.\r\n\t\t\t}\r\n\t\t\tfunction each(val, key){\r\n\t\t\t\tvar ctx = this.ctx, graph = ctx.graph, msg = this.msg, soul = msg.get, node = msg.put, at = (msg.gun._), tmp;\r\n\t\t\t\tgraph[soul] = Gun.state.to(node, key, graph[soul]);\r\n\t\t\t\tif(ctx.async){ return }\r\n\t\t\t\tat.put = Gun.state.to(node, key, at.put);\r\n\t\t\t}\r\n\t\t\tfunction aeach(val, key){\r\n\t\t\t\tvar msg = this, node = msg.put, at = (msg.gun._);\r\n\t\t\t\tat.put = Gun.state.to(node, key, at.put);\r\n\t\t\t}\r\n\t\t\tfunction map(msg, soul){\r\n\t\t\t\tif(!msg.gun){ return }\r\n\t\t\t\t//console.log('map ->', soul, msg.put);\r\n\t\t\t\t(msg.gun._).on('in', msg);\r\n\t\t\t}\r\n\r\n\t\t\tGun.on.get = function(msg, gun){\r\n\t\t\t\tvar root = gun._, soul = msg.get[_soul], node = root.graph[soul], has = msg.get[_has], tmp;\r\n\t\t\t\tvar next = root.next || (root.next = {}), at = next[soul];\r\n\t\t\t\tif(!node || !at){ return root.on('get', msg) }\r\n\t\t\t\tif(has){\r\n\t\t\t\t\tif(!obj_has(node, has)){ return root.on('get', msg) }\r\n\t\t\t\t\tnode = Gun.state.to(node, has);\r\n\t\t\t\t\t// If we have a key in-memory, do we really need to fetch?\r\n\t\t\t\t\t// Maybe... in case the in-memory key we have is a local write\r\n\t\t\t\t\t// we still need to trigger a pull/merge from peers.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnode = Gun.obj.copy(node);\r\n\t\t\t\t}\r\n\t\t\t\tnode = Gun.graph.node(node);\r\n\t\t\t\t//tmp = at.ack;\r\n\t\t\t\troot.on('in', {\r\n\t\t\t\t\t'@': msg['#'],\r\n\t\t\t\t\thow: 'mem',\r\n\t\t\t\t\tput: node,\r\n\t\t\t\t\tgun: gun\r\n\t\t\t\t});\r\n\t\t\t\t//if(0 < tmp){\r\n\t\t\t\t//\treturn;\r\n\t\t\t\t//}\r\n\t\t\t\troot.on('get', msg);\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\t;(function(){\r\n\t\t\tGun.chain.opt = function(opt){\r\n\t\t\t\topt = opt || {};\r\n\t\t\t\tvar gun = this, at = gun._, tmp = opt.peers || opt;\r\n\t\t\t\tif(!obj_is(opt)){ opt = {} }\r\n\t\t\t\tif(!obj_is(at.opt)){ at.opt = opt }\r\n\t\t\t\tif(text_is(tmp)){ tmp = [tmp] }\r\n\t\t\t\tif(list_is(tmp)){\r\n\t\t\t\t\ttmp = obj_map(tmp, function(url, i, map){\r\n\t\t\t\t\t\tmap(url, {url: url});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(!obj_is(at.opt.peers)){ at.opt.peers = {}}\r\n\t\t\t\t\tat.opt.peers = obj_to(tmp, at.opt.peers);\r\n\t\t\t\t}\r\n\t\t\t\tat.opt.peers = at.opt.peers || {};\r\n\t\t\t\tobj_to(opt, at.opt); // copies options on to `at.opt` only if not already taken.\r\n\t\t\t\tGun.on('opt', at);\r\n\t\t\t\tat.opt.uuid = at.opt.uuid || function(){ return state_lex() + text_rand(12) }\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\tvar list_is = Gun.list.is;\r\n\t\tvar text = Gun.text, text_is = text.is, text_rand = text.random;\r\n\t\tvar obj = Gun.obj, obj_is = obj.is, obj_has = obj.has, obj_to = obj.to, obj_map = obj.map, obj_copy = obj.copy;\r\n\t\tvar state_lex = Gun.state.lex, _soul = Gun.val.rel._, _has = '.', node_ = Gun.node._, rel_is = Gun.val.rel.is;\r\n\t\tvar empty = {}, u;\r\n\r\n\t\tconsole.debug = function(i, s){ return (console.debug.i && i === console.debug.i && console.debug.i++) && (console.log.apply(console, arguments) || s) };\r\n\r\n\t\tGun.log = function(){ return (!Gun.log.off && console.log.apply(console, arguments)), [].slice.call(arguments).join(' ') }\r\n\t\tGun.log.once = function(w,s,o){ return (o = Gun.log.once)[w] = o[w] || 0, o[w]++ || Gun.log(s) }\r\n\r\n\t\t;\"Please do not remove these messages unless you are paying for a monthly sponsorship, thanks!\";\r\n\t\tGun.log.once(\"welcome\", \"Hello wonderful person! :) Thanks for using GUN, feel free to ask for help on https://gitter.im/amark/gun and ask StackOverflow questions tagged with 'gun'!\");\r\n\t\t;\"Please do not remove these messages unless you are paying for a monthly sponsorship, thanks!\";\r\n\t\t\r\n\t\tif(typeof window !== \"undefined\"){ window.Gun = Gun }\r\n\t\ttry{ if(typeof common !== \"undefined\"){ common.exports = Gun } }catch(e){}\r\n\t\tmodule.exports = Gun;\r\n\r\n\t\t/*Gun.on('opt', function(ctx){ // FOR TESTING PURPOSES\r\n\t\t\tthis.to.next(ctx);\r\n\t\t\tif(ctx.once){ return }\r\n\t\t\tctx.on('node', function(msg){\r\n\t\t\t\tvar to = this.to;\r\n\t\t\t\t//console.log(\">>>\", msg.put);\r\n\t\t\t\t//Gun.node.is(msg.put, function(v,k){ msg.put[k] = v + v });\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t//console.log(\"<<<<<\", msg.put);\r\n\t\t\t\t\tto.next(msg);\r\n\t\t\t\t},1);\r\n\t\t\t});\r\n\t\t});*/\r\n\t})(USE, './root');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.back = function(n, opt){ var tmp;\r\n\t\t\tn = n || 1;\r\n\t\t\tif(-1 === n || Infinity === n){\r\n\t\t\t\treturn this._.root.gun;\r\n\t\t\t} else\r\n\t\t\tif(1 === n){\r\n\t\t\t\treturn (this._.back || this._).gun;\r\n\t\t\t}\r\n\t\t\tvar gun = this, at = gun._;\r\n\t\t\tif(typeof n === 'string'){\r\n\t\t\t\tn = n.split('.');\r\n\t\t\t}\r\n\t\t\tif(n instanceof Array){\r\n\t\t\t\tvar i = 0, l = n.length, tmp = at;\r\n\t\t\t\tfor(i; i < l; i++){\r\n\t\t\t\t\ttmp = (tmp||empty)[n[i]];\r\n\t\t\t\t}\r\n\t\t\t\tif(u !== tmp){\r\n\t\t\t\t\treturn opt? gun : tmp;\r\n\t\t\t\t} else\r\n\t\t\t\tif((tmp = at.back)){\r\n\t\t\t\t\treturn tmp.gun.back(n, opt);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(n instanceof Function){\r\n\t\t\t\tvar yes, tmp = {back: at};\r\n\t\t\t\twhile((tmp = tmp.back)\r\n\t\t\t\t&& !(yes = n(tmp, opt))){}\r\n\t\t\t\treturn yes;\r\n\t\t\t}\r\n\t\t\tif(Gun.num.is(n)){\r\n\t\t\t\treturn (at.back || at).gun.back(n - 1);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tvar empty = {}, u;\r\n\t})(USE, './back');\r\n\r\n\t;USE(function(module){\r\n\t\t// WARNING: GUN is very simple, but the JavaScript chaining API around GUN\r\n\t\t// is complicated and was extremely hard to build. If you port GUN to another\r\n\t\t// language, consider implementing an easier API to build.\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.chain = function(sub){\r\n\t\t\tvar gun = this, at = gun._, chain = new (sub || gun).constructor(gun), cat = chain._, root;\r\n\t\t\tcat.root = root = at.root;\r\n\t\t\tcat.id = ++root.once;\r\n\t\t\tcat.back = gun._;\r\n\t\t\tcat.on = Gun.on;\r\n\t\t\tcat.on('in', input, cat); // For 'in' if I add my own listeners to each then I MUST do it before in gets called. If I listen globally for all incoming data instead though, regardless of individual listeners, I can transform the data there and then as well.\r\n\t\t\tcat.on('out', output, cat); // However for output, there isn't really the global option. I must listen by adding my own listener individually BEFORE this one is ever called.\r\n\t\t\treturn chain;\r\n\t\t}\r\n\r\n\t\tfunction output(msg){\r\n\t\t\tvar put, get, at = this.as, back = at.back, root = at.root;\r\n\t\t\tif(!msg.I){ msg.I = at.gun }\r\n\t\t\tif(!msg.gun){ msg.gun = at.gun }\r\n\t\t\tthis.to.next(msg);\r\n\t\t\tif(get = msg.get){\r\n\t\t\t\t/*if(u !== at.put){\r\n\t\t\t\t\tat.on('in', at);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}*/\r\n\t\t\t\tif(get['#'] || at.soul){\r\n\t\t\t\t\tget['#'] = get['#'] || at.soul;\r\n\t\t\t\t\tmsg['#'] || (msg['#'] = text_rand(9));\r\n\t\t\t\t\tback = (root.gun.get(get['#'])._);\r\n\t\t\t\t\tif(!(get = get['.'])){\r\n\t\t\t\t\t\tif(obj_has(back, 'put')){\r\n\t\t\t\t\t\t//if(u !== back.put){\r\n\t\t\t\t\t\t\tback.on('in', back);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(back.ack){ return }\r\n\t\t\t\t\t\tmsg.gun = back.gun;\r\n\t\t\t\t\t\tback.ack = -1;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif(obj_has(back.put, get)){\r\n\t\t\t\t\t\tback.on('in', {\r\n\t\t\t\t\t\t\tgun: back.gun,\r\n\t\t\t\t\t\t\tput: Gun.state.to(back.put, get),\r\n\t\t\t\t\t\t\tget: back.get\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\troot.ask(ack, msg);\r\n\t\t\t\t\treturn root.on('in', msg);\r\n\t\t\t\t}\r\n\t\t\t\tif(root.now){\r\n\t\t\t\t\troot.now[at.id] = root.now[at.id] || true;\r\n\t\t\t\t}\r\n\t\t\t\tif(get['.']){\r\n\t\t\t\t\tif(at.get){\r\n\t\t\t\t\t\tmsg = {get: {'.': at.get}, gun: at.gun};\r\n\t\t\t\t\t\t(back.ask || (back.ask = {}))[at.get] = msg.gun._; // TODO: PERFORMANCE? More elegant way?\r\n\t\t\t\t\t\treturn back.on('out', msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmsg = {get: {}, gun: at.gun};\r\n\t\t\t\t\treturn back.on('out', msg);\r\n\t\t\t\t}\r\n\t\t\t\tat.ack = at.ack || -1;\r\n\t\t\t\tif(at.get){\r\n\t\t\t\t\tmsg.gun = at.gun;\r\n\t\t\t\t\tget['.'] = at.get;\r\n\t\t\t\t\t(back.ask || (back.ask = {}))[at.get] = msg.gun._; // TODO: PERFORMANCE? More elegant way?\r\n\t\t\t\t\treturn back.on('out', msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn back.on('out', msg);\r\n\t\t}\r\n\r\n\t\tfunction input(msg){\r\n\t\t\tvar ev = this, cat = this.as, gun = msg.gun, at = gun._, change = msg.put, rel, tmp;\r\n\t\t\tif(cat.get && msg.get !== cat.get){\r\n\t\t\t\tmsg = obj_to(msg, {get: cat.get});\r\n\t\t\t}\r\n\t\t\tif(cat.has && at !== cat){\r\n\t\t\t\tmsg = obj_to(msg, {gun: cat.gun});\r\n\t\t\t\tif(at.ack){\r\n\t\t\t\t\tcat.ack = at.ack;\r\n\t\t\t\t\t//cat.ack = cat.ack || at.ack;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(node_ === cat.get && change && change['#']){\r\n\t\t\t\t// TODO: Potential bug? What if (soul.has = pointer) gets changed to (soul.has = primitive), we still need to clear out / wipe /reset (soul.has._) to have _id = nothing, or puts might have false positives (revert back to old soul).\r\n\t\t\t\tcat._id = change['#'];\r\n\t\t\t}\r\n\t\t\tif(u === change){\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\tif(cat.soul){ return } // TODO: BUG, I believe the fresh input refactor caught an edge case that a `gun.get('soul').get('key')` that points to a soul that doesn't exist will not trigger val/get etc.\r\n\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\tif(cat.has){\r\n\t\t\t\t\tnot(cat, msg);\r\n\t\t\t\t}\r\n\t\t\t\tobj_del(at.echo, cat.id);\r\n\t\t\t\tobj_del(cat.map, at.id);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(cat.soul){\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\tobj_map(change, map, {at: msg, cat: cat});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!(rel = Gun.val.rel.is(change))){\r\n\t\t\t\tif(Gun.val.is(change)){\r\n\t\t\t\t\tif(cat.has || cat.soul){\r\n\t\t\t\t\t\tnot(cat, msg);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif(at.has || at.soul){\r\n\t\t\t\t\t\t(at.echo || (at.echo = {}))[cat.id] = cat;\r\n\t\t\t\t\t\t(cat.map || (cat.map = {}))[at.id] = cat.map[at.id] || {at: at};\r\n\t\t\t\t\t\t//if(u === at.put){ return } // Not necessary but improves performance. If we have it but at does not, that means we got things out of order and at will get it. Once at gets it, it will tell us again.\r\n\t\t\t\t\t}\r\n\t\t\t\t\tev.to.next(msg);\r\n\t\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(cat.has && at !== cat && obj_has(at, 'put')){\r\n\t\t\t\t\tcat.put = at.put;\r\n\t\t\t\t};\r\n\t\t\t\tif((rel = Gun.node.soul(change)) && at.has){\r\n\t\t\t\t\tat.put = (cat.root.gun.get(rel)._).put;\r\n\t\t\t\t}\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\trelate(cat, msg, at, rel);\r\n\t\t\t\tobj_map(change, map, {at: msg, cat: cat});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\trelate(cat, msg, at, rel);\r\n\t\t\tev.to.next(msg);\r\n\t\t\techo(cat, msg, ev);\r\n\t\t}\r\n\r\n\t\tfunction relate(at, msg, from, rel){\r\n\t\t\tif(!rel || node_ === at.get){ return }\r\n\t\t\tvar tmp = (at.root.gun.get(rel)._);\r\n\t\t\tif(at.has){\r\n\t\t\t\tfrom = tmp;\r\n\t\t\t} else \r\n\t\t\tif(from.has){\r\n\t\t\t\trelate(from, msg, from, rel);\r\n\t\t\t}\r\n\t\t\tif(from === at){ return }\r\n\t\t\t(from.echo || (from.echo = {}))[at.id] = at;\r\n\t\t\tif(at.has && !(at.map||empty)[from.id]){ // if we haven't seen this before.\r\n\t\t\t\tnot(at, msg);\r\n\t\t\t}\r\n\t\t\ttmp = (at.map || (at.map = {}))[from.id] = at.map[from.id] || {at: from};\r\n\t\t\tvar now = at.root.now;\r\n\t\t\t//now = now || at.root.stop;\r\n\t\t\tif(rel === tmp.rel){\r\n\t\t\t\t// NOW is a hack to get synchronous replies to correctly call.\r\n\t\t\t\t// and STOP is a hack to get async behavior to correctly call.\r\n\t\t\t\t// neither of these are ideal, need to be fixed without hacks,\r\n\t\t\t\t// but for now, this works for current tests. :/\r\n\t\t\t\tif(!now){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t/*var stop = at.root.stop;\r\n\t\t\t\t\tif(!stop){ return }\r\n\t\t\t\t\tif(stop[at.id] === rel){ return }\r\n\t\t\t\t\tstop[at.id] = rel;*/\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(u === now[at.id]){ return }\r\n\t\t\t\t\tif((now._ || (now._ = {}))[at.id] === rel){ return }\r\n\t\t\t\t\tnow._[at.id] = rel;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\task(at, tmp.rel = rel);\r\n\t\t}\r\n\t\tfunction echo(at, msg, ev){\r\n\t\t\tif(!at.echo){ return } // || node_ === at.get ?\r\n\t\t\tif(at.has){ msg = obj_to(msg, {event: ev}) }\r\n\t\t\tobj_map(at.echo, reverb, msg);\r\n\t\t}\r\n\t\tfunction reverb(to){\r\n\t\t\tto.on('in', this);\r\n\t\t}\r\n\t\tfunction map(data, key){ // Map over only the changes on every update.\r\n\t\t\tvar cat = this.cat, next = cat.next || empty, via = this.at, chain, at, tmp;\r\n\t\t\tif(node_ === key && !next[key]){ return }\r\n\t\t\tif(!(at = next[key])){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//if(data && data[_soul] && (tmp = Gun.val.rel.is(data)) && (tmp = (cat.root.gun.get(tmp)._)) && obj_has(tmp, 'put')){\r\n\t\t\t//\tdata = tmp.put;\r\n\t\t\t//}\r\n\t\t\tif(at.has){\r\n\t\t\t\tif(!(data && data[_soul] && Gun.val.rel.is(data) === Gun.node.soul(at.put))){\r\n\t\t\t\t\tat.put = data;\r\n\t\t\t\t}\r\n\t\t\t\tchain = at.gun;\r\n\t\t\t} else {\r\n\t\t\t\tchain = via.gun.get(key);\r\n\t\t\t}\r\n\t\t\tat.on('in', {\r\n\t\t\t\tput: data,\r\n\t\t\t\tget: key,\r\n\t\t\t\tgun: chain,\r\n\t\t\t\tvia: via\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction not(at, msg){\r\n\t\t\tif(!(at.has || at.soul)){ return }\r\n\t\t\tvar tmp = at.map, root = at.root;\r\n\t\t\tat.map = null;\r\n\t\t\tif(!root.now || !root.now[at.id]){\r\n\t\t\t\tif((!msg['@']) && null === tmp){ return }\r\n\t\t\t}\r\n\t\t\tif(u === tmp && Gun.val.rel.is(at.put)){ return } // TODO: Bug? Threw second condition in for a particular test, not sure if a counter example is tested though.\r\n\t\t\tobj_map(tmp, function(proxy){\r\n\t\t\t\tif(!(proxy = proxy.at)){ return }\r\n\t\t\t\tobj_del(proxy.echo, at.id);\r\n\t\t\t});\r\n\t\t\tobj_map(at.next, function(neat, key){\r\n\t\t\t\tneat.put = u;\r\n\t\t\t\tif(neat.ack){\r\n\t\t\t\t\tneat.ack = -1;\r\n\t\t\t\t}\r\n\t\t\t\tneat.on('in', {\r\n\t\t\t\t\tget: key,\r\n\t\t\t\t\tgun: neat.gun,\r\n\t\t\t\t\tput: u\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction ask(at, soul){\r\n\t\t\tvar tmp = (at.root.gun.get(soul)._);\r\n\t\t\tif(at.ack){\r\n\t\t\t\ttmp.on('out', {get: {'#': soul}});\r\n\t\t\t\tif(!at.ask){ return } // TODO: PERFORMANCE? More elegant way?\r\n\t\t\t}\r\n\t\t\tobj_map(at.ask || at.next, function(neat, key){\r\n\t\t\t\t//(tmp.gun.get(key)._).on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t\t//tmp.on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t\tneat.on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t\t//at.on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t});\r\n\t\t\tGun.obj.del(at, 'ask'); // TODO: PERFORMANCE? More elegant way?\r\n\t\t}\r\n\t\tfunction ack(msg, ev){\r\n\t\t\tvar as = this.as, get = as.get || empty, at = as.gun._, tmp = (msg.put||empty)[get['#']];\r\n\t\t\tif(at.ack){ at.ack = (at.ack + 1) || 1 }\r\n\t\t\tif(!msg.put /*|| node_ == get['.']*/ || (get['.'] && !obj_has(tmp, at.get))){\r\n\t\t\t\tif(at.put !== u){ return }\r\n\t\t\t\t//at.ack = 0;\r\n\t\t\t\tat.on('in', {\r\n\t\t\t\t\tget: at.get,\r\n\t\t\t\t\tput: at.put = u,\r\n\t\t\t\t\tgun: at.gun,\r\n\t\t\t\t\t'@': msg['@']\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(node_ == get['.']){ // is this a security concern?\r\n\t\t\t\tat.on('in', {get: at.get, put: tmp[at.get], gun: at.gun, '@': msg['@']});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//if(/*!msg.gun &&*/ !get['.'] && get['#']){ at.ack = (at.ack + 1) || 1 }\r\n\t\t\t//msg = obj_to(msg);\r\n\t\t\tmsg.gun = at.root.gun;\r\n\t\t\t//Gun.on('put', at);\r\n\t\t\tGun.on.put(msg, at.root.gun);\r\n\t\t}\r\n\t\tvar empty = {}, u;\r\n\t\tvar obj = Gun.obj, obj_has = obj.has, obj_put = obj.put, obj_del = obj.del, obj_to = obj.to, obj_map = obj.map;\r\n\t\tvar text_rand = Gun.text.random;\r\n\t\tvar _soul = Gun.val.rel._, node_ = Gun.node._;\r\n\t})(USE, './chain');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.get = function(key, cb, as){\r\n\t\t\tvar gun, tmp;\r\n\t\t\tif(typeof key === 'string'){\r\n\t\t\t\tvar back = this, cat = back._;\r\n\t\t\t\tvar next = cat.next || empty;\r\n\t\t\t\tif(!(gun = next[key])){\r\n\t\t\t\t\tgun = cache(key, back);\r\n\t\t\t\t}\r\n\t\t\t\tgun = gun.gun;\r\n\t\t\t} else\r\n\t\t\tif(key instanceof Function){\r\n\t\t\t\tgun = this;\r\n\t\t\t\tvar at = gun._, root = at.root, tmp = root.now, ev;\r\n\t\t\t\tas = cb || {};\r\n\t\t\t\tas.use = key;\r\n\t\t\t\tas.out = as.out || {};\r\n\t\t\t\tas.out.get = as.out.get || {};\r\n\t\t\t\tev = at.on('in', use, as);\r\n\t\t\t\t(root.now = {$:1})[as.now = at.id] = ev;\r\n\t\t\t\tat.on('out', as.out);\r\n\t\t\t\troot.now = tmp;\r\n\t\t\t\treturn gun;\r\n\t\t\t} else\r\n\t\t\tif(num_is(key)){\r\n\t\t\t\treturn this.get(''+key, cb, as);\r\n\t\t\t} else\r\n\t\t\tif(tmp = rel.is(key)){\r\n\t\t\t\treturn this.get(tmp, cb, as);\r\n\t\t\t} else {\r\n\t\t\t\t(as = this.chain())._.err = {err: Gun.log('Invalid get request!', key)}; // CLEAN UP\r\n\t\t\t\tif(cb){ cb.call(as, as._.err) }\r\n\t\t\t\treturn as;\r\n\t\t\t}\r\n\t\t\tif(tmp = cat.stun){ // TODO: Refactor?\r\n\t\t\t\tgun._.stun = gun._.stun || tmp;\r\n\t\t\t}\r\n\t\t\tif(cb && cb instanceof Function){\r\n\t\t\t\tgun.get(cb, as);\r\n\t\t\t}\r\n\t\t\treturn gun;\r\n\t\t}\r\n\t\tfunction cache(key, back){\r\n\t\t\tvar cat = back._, next = cat.next, gun = back.chain(), at = gun._;\r\n\t\t\tif(!next){ next = cat.next = {} }\r\n\t\t\tnext[at.get = key] = at;\r\n\t\t\tif(back === cat.root.gun){\r\n\t\t\t\tat.soul = key;\r\n\t\t\t} else\r\n\t\t\tif(cat.soul || cat.has){\r\n\t\t\t\tat.has = key;\r\n\t\t\t\t//if(obj_has(cat.put, key)){\r\n\t\t\t\t\t//at.put = cat.put[key];\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t\treturn at;\r\n\t\t}\r\n\t\tfunction use(msg){\r\n\t\t\tvar ev = this, as = ev.as, gun = msg.gun, at = gun._, root = at.root, data = msg.put, tmp;\r\n\t\t\tif((tmp = root.now) && ev !== tmp[as.now]){\r\n\t\t\t\treturn ev.to.next(msg);\r\n\t\t\t}\r\n\t\t\tif(u === data){\r\n\t\t\t\tdata = at.put;\r\n\t\t\t}\r\n\t\t\tif((tmp = data) && tmp[rel._] && (tmp = rel.is(tmp))){\r\n\t\t\t\ttmp = (at.root.gun.get(tmp)._);\r\n\t\t\t\tif(u !== tmp.put){\r\n\t\t\t\t\tmsg = obj_to(msg, {put: tmp.put});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tas.use(msg, msg.event || ev);\r\n\t\t\tev.to.next(msg);\r\n\t\t}\r\n\t\tvar obj = Gun.obj, obj_has = obj.has, obj_to = Gun.obj.to;\r\n\t\tvar num_is = Gun.num.is;\r\n\t\tvar rel = Gun.val.rel, node_ = Gun.node._;\r\n\t\tvar empty = {}, u;\r\n\t})(USE, './get');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.put = function(data, cb, as){\r\n\t\t\t// #soul.has=value>state\r\n\t\t\t// ~who#where.where=what>when@was\r\n\t\t\t// TODO: BUG! Put probably cannot handle plural chains!\r\n\t\t\tvar gun = this, at = (gun._), root = at.root.gun, tmp;\r\n\t\t\tas = as || {};\r\n\t\t\tas.data = data;\r\n\t\t\tas.via = as.gun = as.via || as.gun || gun;\r\n\t\t\tif(typeof cb === 'string'){\r\n\t\t\t\tas.soul = cb;\r\n\t\t\t} else {\r\n\t\t\t\tas.ack = as.ack || cb;\r\n\t\t\t}\r\n\t\t\tif(at.soul){\r\n\t\t\t\tas.soul = at.soul;\r\n\t\t\t}\r\n\t\t\tif(as.soul || root === gun){\r\n\t\t\t\tif(!obj_is(as.data)){\r\n\t\t\t\t\t(as.ack||noop).call(as, as.out = {err: Gun.log(\"Data saved to the root level of the graph must be a node (an object), not a\", (typeof as.data), 'of \"' + as.data + '\"!')});\r\n\t\t\t\t\tif(as.res){ as.res() }\r\n\t\t\t\t\treturn gun;\r\n\t\t\t\t}\r\n\t\t\t\tas.soul = as.soul || (as.not = Gun.node.soul(as.data) || (as.via.back('opt.uuid') || Gun.text.random)());\r\n\t\t\t\tif(!as.soul){ // polyfill async uuid for SEA\r\n\t\t\t\t\tas.via.back('opt.uuid')(function(err, soul){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error!\r\n\t\t\t\t\t\t(as.ref||as.gun).put(as.data, as.soul = soul, as);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn gun;\r\n\t\t\t\t}\r\n\t\t\t\tas.gun = gun = root.get(as.soul);\r\n\t\t\t\tas.ref = as.gun;\r\n\t\t\t\tify(as);\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tif(Gun.is(data)){\r\n\t\t\t\tdata.get('_').get(function(at, ev, tmp){ ev.off();\r\n\t\t\t\t\tif(!(tmp = at.gun) || !(tmp = tmp._.back) || !tmp.soul){\r\n\t\t\t\t\t\treturn Gun.log(\"The reference you are saving is a\", typeof at.put, '\"'+ as.put +'\", not a node (object)!');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgun.put(Gun.val.rel.ify(tmp.soul), cb, as);\r\n\t\t\t\t});\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tas.ref = as.ref || (root._ === (tmp = at.back))? gun : tmp.gun;\r\n\t\t\tif(as.ref._.soul && Gun.val.is(as.data) && at.get){\r\n\t\t\t\tas.data = obj_put({}, at.get, as.data);\r\n\t\t\t\tas.ref.put(as.data, as.soul, as);\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tas.ref.get('_').get(any, {as: as});\r\n\t\t\tif(!as.out){\r\n\t\t\t\t// TODO: Perf idea! Make a global lock, that blocks everything while it is on, but if it is on the lock it does the expensive lookup to see if it is a dependent write or not and if not then it proceeds full speed. Meh? For write heavy async apps that would be terrible.\r\n\t\t\t\tas.res = as.res || stun; // Gun.on.stun(as.ref); // TODO: BUG! Deal with locking?\r\n\t\t\t\tas.gun._.stun = as.ref._.stun;\r\n\t\t\t}\r\n\t\t\treturn gun;\r\n\t\t};\r\n\r\n\t\tfunction ify(as){\r\n\t\t\tas.batch = batch;\r\n\t\t\tvar opt = as.opt||{}, env = as.env = Gun.state.map(map, opt.state);\r\n\t\t\tenv.soul = as.soul;\r\n\t\t\tas.graph = Gun.graph.ify(as.data, env, as);\r\n\t\t\tif(env.err){\r\n\t\t\t\t(as.ack||noop).call(as, as.out = {err: Gun.log(env.err)});\r\n\t\t\t\tif(as.res){ as.res() }\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tas.batch();\r\n\t\t}\r\n\r\n\t\tfunction stun(cb){\r\n\t\t\tif(cb){ cb() }\r\n\t\t\treturn;\r\n\t\t\tvar as = this;\r\n\t\t\tif(!as.ref){ return }\r\n\t\t\tif(cb){\r\n\t\t\t\tas.after = as.ref._.tag;\r\n\t\t\t\tas.now = as.ref._.tag = {};\r\n\t\t\t\tcb();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(as.after){\r\n\t\t\t\tas.ref._.tag = as.after;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction batch(){ var as = this;\r\n\t\t\tif(!as.graph || obj_map(as.stun, no)){ return }\r\n\t\t\tas.res = as.res || function(cb){ if(cb){ cb() } };\r\n\t\t\tas.res(function(){\r\n\t\t\t\tvar cat = (as.gun.back(-1)._), ask = cat.ask(function(ack){\r\n\t\t\t\t\tcat.root.on('ack', ack);\r\n\t\t\t\t\tthis.off(); // One response is good enough for us currently. Later we may want to adjust this.\r\n\t\t\t\t\tif(!as.ack){ return }\r\n\t\t\t\t\tas.ack(ack, this);\r\n\t\t\t\t}, as.opt);\r\n\t\t\t\t// NOW is a hack to get synchronous replies to correctly call.\r\n\t\t\t\t// and STOP is a hack to get async behavior to correctly call.\r\n\t\t\t\t// neither of these are ideal, need to be fixed without hacks,\r\n\t\t\t\t// but for now, this works for current tests. :/\r\n\t\t\t\tvar tmp = cat.root.now; obj.del(cat.root, 'now'); cat.root.PUT = true;\r\n\t\t\t\tvar tmp2 = cat.root.stop;\r\n\t\t\t\t(as.ref._).now = true;\r\n\t\t\t\t(as.ref._).on('out', {\r\n\t\t\t\t\tgun: as.ref, put: as.out = as.env.graph, opt: as.opt, '#': ask\r\n\t\t\t\t});\r\n\t\t\t\tobj.del((as.ref._), 'now');\r\n\t\t\t\tobj.del((cat.root), 'PUT');\r\n\t\t\t\tcat.root.now = tmp;\r\n\t\t\t\tcat.root.stop = tmp2;\r\n\t\t\t}, as);\r\n\t\t\tif(as.res){ as.res() }\r\n\t\t} function no(v,k){ if(v){ return true } }\r\n\r\n\t\tfunction map(v,k,n, at){ var as = this;\r\n\t\t\t//if(Gun.is(v)){} // TODO: HANDLE!\r\n\t\t\tif(k || !at.path.length){ return }\r\n\t\t\t(as.res||iife)(function(){\r\n\t\t\t\tvar path = at.path, ref = as.ref, opt = as.opt;\r\n\t\t\t\tvar i = 0, l = path.length;\r\n\t\t\t\tfor(i; i < l; i++){\r\n\t\t\t\t\tref = ref.get(path[i]);\r\n\t\t\t\t}\r\n\t\t\t\tif(Gun.node.soul(at.obj)){\r\n\t\t\t\t\tvar id = Gun.node.soul(at.obj) || (as.via.back('opt.uuid') || Gun.text.random)();\r\n\t\t\t\t\tif(!id){ // polyfill async uuid for SEA\r\n\t\t\t\t\t\t(as.stun = as.stun || {})[path] = true; // make DRY\r\n\t\t\t\t\t\tas.via.back('opt.uuid')(function(err, id){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error.\r\n\t\t\t\t\t\t\tref.back(-1).get(id);\r\n\t\t\t\t\t\t\tat.soul(id);\r\n\t\t\t\t\t\t\tas.stun[path] = false;\r\n\t\t\t\t\t\t\tas.batch();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tref.back(-1).get(id);\r\n\t\t\t\t\tat.soul(id);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t(as.stun = as.stun || {})[path] = true;\r\n\t\t\t\tref.get('_').get(soul, {as: {at: at, as: as}});\r\n\t\t\t}, {as: as, at: at});\r\n\t\t}\r\n\r\n\t\tfunction soul(msg, ev){ var as = this.as, cat = as.at; as = as.as;\r\n\t\t\t//ev.stun(); // TODO: BUG!?\r\n\t\t\tif(!msg.gun || !msg.gun._.back){ return } // TODO: Handle\r\n\t\t\tvar at = msg.gun._, at_ = at;\r\n\t\t\tvar _id = (msg.put||empty)['#'];\r\n\t\t\tev.off();\r\n\t\t\tat = (msg.gun._.back); // go up 1!\r\n\t\t\tvar id = id || Gun.node.soul(cat.obj) || Gun.node.soul(at.put) || Gun.val.rel.is(at.put) || _id || at_._id || (as.via.back('opt.uuid') || Gun.text.random)(); // TODO: BUG!? Do we really want the soul of the object given to us? Could that be dangerous?\r\n\t\t\tif(!id){ // polyfill async uuid for SEA\r\n\t\t\t\tat.via.back('opt.uuid')(function(err, id){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error.\r\n\t\t\t\t\tsolve(at, at_._id = at_._id || id, cat, as);\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsolve(at, at_._id = at_._id || id, cat, as);\r\n\t\t}\r\n\r\n\t\tfunction solve(at, id, cat, as){\r\n\t\t\tat.gun.back(-1).get(id);\r\n\t\t\tcat.soul(id);\r\n\t\t\tas.stun[cat.path] = false;\r\n\t\t\tas.batch();\r\n\t\t}\r\n\r\n\t\tfunction any(at, ev){\r\n\t\t\tvar as = this.as;\r\n\t\t\tif(!at.gun || !at.gun._){ return } // TODO: Handle\r\n\t\t\tif(at.err){ // TODO: Handle\r\n\t\t\t\tconsole.log(\"Please report this as an issue! Put.any.err\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar cat = (at.gun._.back), data = cat.put, opt = as.opt||{}, root, tmp;\r\n\t\t\tif((tmp = as.ref) && tmp._.now){ return }\r\n\t\t\tev.off();\r\n\t\t\tif(as.ref !== as.gun){\r\n\t\t\t\ttmp = (as.gun._).get || cat.get;\r\n\t\t\t\tif(!tmp){ // TODO: Handle\r\n\t\t\t\t\tconsole.log(\"Please report this as an issue! Put.no.get\"); // TODO: BUG!??\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tas.data = obj_put({}, tmp, as.data);\r\n\t\t\t\ttmp = null;\r\n\t\t\t}\r\n\t\t\tif(u === data){\r\n\t\t\t\tif(!cat.get){ return } // TODO: Handle\r\n\t\t\t\tif(!cat.soul){\r\n\t\t\t\t\ttmp = cat.gun.back(function(at){\r\n\t\t\t\t\t\tif(at.soul){ return at.soul }\r\n\t\t\t\t\t\tas.data = obj_put({}, at.get, as.data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttmp = tmp || cat.get;\r\n\t\t\t\tcat = (cat.root.gun.get(tmp)._);\r\n\t\t\t\tas.not = as.soul = tmp;\r\n\t\t\t\tdata = as.data;\r\n\t\t\t}\r\n\t\t\tif(!as.not && !(as.soul = Gun.node.soul(data))){\r\n\t\t\t\tif(as.path && obj_is(as.data)){ // Apparently necessary\r\n\t\t\t\t\tas.soul = (opt.uuid || as.via.back('opt.uuid') || Gun.text.random)();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//as.data = obj_put({}, as.gun._.get, as.data);\r\n\t\t\t\t\tif(node_ == at.get){\r\n\t\t\t\t\t\tas.soul = (at.put||empty)['#'] || at._id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tas.soul = as.soul || at.soul || cat.soul || (opt.uuid || as.via.back('opt.uuid') || Gun.text.random)();\r\n\t\t\t\t}\r\n\t\t\t\tif(!as.soul){ // polyfill async uuid for SEA\r\n\t\t\t\t\tas.via.back('opt.uuid')(function(err, soul){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\t\tif(err){ return Gun.log(err) } // Handle error.\r\n\t\t\t\t\t\tas.ref.put(as.data, as.soul = soul, as);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tas.ref.put(as.data, as.soul, as);\r\n\t\t}\r\n\t\tvar obj = Gun.obj, obj_is = obj.is, obj_put = obj.put, obj_map = obj.map;\r\n\t\tvar u, empty = {}, noop = function(){}, iife = function(fn,as){fn.call(as||empty)};\r\n\t\tvar node_ = Gun.node._;\r\n\t})(USE, './put');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tUSE('./chain');\r\n\t\tUSE('./back');\r\n\t\tUSE('./put');\r\n\t\tUSE('./get');\r\n\t\tmodule.exports = Gun;\r\n\t})(USE, './index');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./index');\r\n\t\tGun.chain.on = function(tag, arg, eas, as){\r\n\t\t\tvar gun = this, at = gun._, tmp, act, off;\r\n\t\t\tif(typeof tag === 'string'){\r\n\t\t\t\tif(!arg){ return at.on(tag) }\r\n\t\t\t\tact = at.on(tag, arg, eas || at, as);\r\n\t\t\t\tif(eas && eas.gun){\r\n\t\t\t\t\t(eas.subs || (eas.subs = [])).push(act);\r\n\t\t\t\t}\r\n\t\t\t\toff = function() {\r\n\t\t\t\t\tif (act && act.off) act.off();\r\n\t\t\t\t\toff.off();\r\n\t\t\t\t};\r\n\t\t\t\toff.off = gun.off.bind(gun) || noop;\r\n\t\t\t\tgun.off = off;\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tvar opt = arg;\r\n\t\t\topt = (true === opt)? {change: true} : opt || {};\r\n\t\t\topt.ok = tag;\r\n\t\t\topt.last = {};\r\n\t\t\tgun.get(ok, opt); // TODO: PERF! Event listener leak!!!?\r\n\t\t\treturn gun;\r\n\t\t}\r\n\r\n\t\tfunction ok(at, ev){ var opt = this;\r\n\t\t\tvar gun = at.gun, cat = gun._, data = cat.put || at.put, tmp = opt.last, id = cat.id+at.get, tmp;\r\n\t\t\tif(u === data){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(data && data[rel._] && (tmp = rel.is(data))){\r\n\t\t\t\ttmp = (cat.root.gun.get(tmp)._);\r\n\t\t\t\tif(u === tmp.put){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdata = tmp.put;\r\n\t\t\t}\r\n\t\t\tif(opt.change){ // TODO: BUG? Move above the undef checks?\r\n\t\t\t\tdata = at.put;\r\n\t\t\t}\r\n\t\t\t// DEDUPLICATE // TODO: NEEDS WORK! BAD PROTOTYPE\r\n\t\t\tif(tmp.put === data && tmp.get === id && !Gun.node.soul(data)){ return }\r\n\t\t\ttmp.put = data;\r\n\t\t\ttmp.get = id;\r\n\t\t\t// DEDUPLICATE // TODO: NEEDS WORK! BAD PROTOTYPE\r\n\t\t\tcat.last = data;\r\n\t\t\tif(opt.as){\r\n\t\t\t\topt.ok.call(opt.as, at, ev);\r\n\t\t\t} else {\r\n\t\t\t\topt.ok.call(gun, data, at.get, at, ev);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tGun.chain.val = function(cb, opt){\r\n\t\t\tGun.log.once(\"onceval\", \"Future Breaking API Change: .val -> .once, apologies unexpected.\");\r\n\t\t\treturn this.once(cb, opt);\r\n\t\t}\r\n\t\tGun.chain.once = function(cb, opt){\r\n\t\t\tvar gun = this, at = gun._, data = at.put;\r\n\t\t\tif(0 < at.ack && u !== data){\r\n\t\t\t\t(cb || noop).call(gun, data, at.get);\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tif(cb){\r\n\t\t\t\t(opt = opt || {}).ok = cb;\r\n\t\t\t\topt.cat = at;\r\n\t\t\t\topt.out = {'#': Gun.text.random(9)};\r\n\t\t\t\tgun.get(val, {as: opt});\r\n\t\t\t\topt.async = true; //opt.async = at.stun? 1 : true;\r\n\t\t\t} else {\r\n\t\t\t\tGun.log.once(\"valonce\", \"Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");\r\n\t\t\t\tvar chain = gun.chain();\r\n\t\t\t\tchain._.val = gun.once(function(){\r\n\t\t\t\t\tchain._.on('in', gun._);\r\n\t\t\t\t});\r\n\t\t\t\treturn chain;\r\n\t\t\t}\r\n\t\t\treturn gun;\r\n\t\t}\r\n\r\n\t\tfunction val(msg, ev, to){\r\n\t\t\tvar opt = this.as, cat = opt.cat, gun = msg.gun, coat = gun._, data = coat.put || msg.put, tmp;\r\n\t\t\tif(u === data){\r\n\t\t\t\t//return;\r\n\t\t\t}\r\n\t\t\t//if(coat.soul && !(0 < coat.ack)){ return }\r\n\t\t\tif(tmp = Gun.node.soul(data) || rel.is(data)){\r\n\t\t\t//if(data && data[rel._] && (tmp = rel.is(data))){\r\n\t\t\t\ttmp = (cat.root.gun.get(tmp)._);\r\n\t\t\t\tif(u === tmp.put){//} || !(0 < tmp.ack)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdata = tmp.put;\r\n\t\t\t}\r\n\t\t\tif(ev.wait){ clearTimeout(ev.wait) }\r\n\t\t\t//if(!to && (!(0 < coat.ack) || ((true === opt.async) && 0 !== opt.wait))){\r\n\t\t\tif(!to){\r\n\t\t\t\tev.wait = setTimeout(function(){\r\n\t\t\t\t\tval.call({as:opt}, msg, ev, ev.wait || 1);\r\n\t\t\t\t}, opt.wait || 99);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(cat.has || cat.soul){\r\n\t\t\t\tif(ev.off()){ return } // if it is already off, don't call again!\r\n\t\t\t} else {\r\n\t\t\t\tif((opt.seen = opt.seen || {})[coat.id]){ return }\r\n\t\t\t\topt.seen[coat.id] = true;\r\n\t\t\t}\r\n\t\t\topt.ok.call(msg.gun || opt.gun, data, msg.get);\r\n\t\t}\r\n\r\n\t\tGun.chain.off = function(){\r\n\t\t\t// make off more aggressive. Warning, it might backfire!\r\n\t\t\tvar gun = this, at = gun._, tmp;\r\n\t\t\tvar cat = at.back;\r\n\t\t\tif(!cat){ return }\r\n\t\t\tif(tmp = cat.next){\r\n\t\t\t\tif(tmp[at.get]){\r\n\t\t\t\t\tobj_del(tmp, at.get);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(tmp = cat.ask){\r\n\t\t\t\tobj_del(tmp, at.get);\r\n\t\t\t}\r\n\t\t\tif(tmp = cat.put){\r\n\t\t\t\tobj_del(tmp, at.get);\r\n\t\t\t}\r\n\t\t\tif(tmp = at.soul){\r\n\t\t\t\tobj_del(cat.root.graph, tmp);\r\n\t\t\t}\r\n\t\t\tif(tmp = at.map){\r\n\t\t\t\tobj_map(tmp, function(at){\r\n\t\t\t\t\tif(at.rel){\r\n\t\t\t\t\t\tcat.root.gun.get(at.rel).off();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(tmp = at.next){\r\n\t\t\t\tobj_map(tmp, function(neat){\r\n\t\t\t\t\tneat.gun.off();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tat.on('off', {});\r\n\t\t\treturn gun;\r\n\t\t}\r\n\t\tvar obj = Gun.obj, obj_map = obj.map, obj_has = obj.has, obj_del = obj.del, obj_to = obj.to;\r\n\t\tvar rel = Gun.val.rel;\r\n\t\tvar empty = {}, noop = function(){}, u;\r\n\t})(USE, './on');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./index');\r\n\t\tGun.chain.map = function(cb, opt, t){\r\n\t\t\tvar gun = this, cat = gun._, chain;\r\n\t\t\tif(!cb){\r\n\t\t\t\tif(chain = cat.fields){ return chain }\r\n\t\t\t\tchain = cat.fields = gun.chain();\r\n\t\t\t\tchain._.val = gun.back('val');\r\n\t\t\t\tchain._.MAPOF = cat.soul;\r\n\t\t\t\tgun.on('in', map, chain._);\r\n\t\t\t\treturn chain;\r\n\t\t\t}\r\n\t\t\tGun.log.once(\"mapfn\", \"Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");\r\n\t\t\tchain = gun.chain();\r\n\t\t\tgun.map().on(function(data, key, at, ev){\r\n\t\t\t\tvar next = (cb||noop).call(this, data, key, at, ev);\r\n\t\t\t\tif(u === next){ return }\r\n\t\t\t\tif(Gun.is(next)){\r\n\t\t\t\t\tchain._.on('in', next._);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tchain._.on('in', {get: key, put: next, gun: chain});\r\n\t\t\t});\r\n\t\t\treturn chain;\r\n\t\t}\r\n\t\tfunction map(msg){\r\n\t\t\tif(!msg.put || Gun.val.is(msg.put)){ return }\r\n\t\t\tif(this.as.val){ this.off() } // TODO: Ugly hack!\r\n\t\t\tobj_map(msg.put, each, {at: this.as, msg: msg});\r\n\t\t\tthis.to.next(msg);\r\n\t\t}\r\n\t\tfunction each(v,k){\r\n\t\t\tif(n_ === k){ return }\r\n\t\t\tvar msg = this.msg, gun = msg.gun, at = this.at, tmp = (gun.get(k)._);\r\n\t\t\t(tmp.echo || (tmp.echo = {}))[at.id] = at;\r\n\t\t}\r\n\t\tvar obj_map = Gun.obj.map, noop = function(){}, event = {stun: noop, off: noop}, n_ = Gun.node._, u;\r\n\t})(USE, './map');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./index');\r\n\t\tGun.chain.set = function(item, cb, opt){\r\n\t\t\tvar gun = this, soul;\r\n\t\t\tcb = cb || function(){};\r\n\t\t\topt = opt || {}; opt.item = opt.item || item;\r\n\t\t\tif(soul = Gun.node.soul(item)){ return gun.set(gun.back(-1).get(soul), cb, opt) }\r\n\t\t\tif(!Gun.is(item)){\r\n\t\t\t\tvar id = gun.back('opt.uuid')();\r\n\t\t\t\tif(id && Gun.obj.is(item)){\r\n\t\t\t\t\treturn gun.set(gun._.root.gun.put(item, id), cb, opt);\r\n\t\t\t\t}\r\n\t\t\t\treturn gun.get((Gun.state.lex() + Gun.text.random(7))).put(item, cb, opt);\r\n\t\t\t}\r\n\t\t\titem.get('_').get(function(at, ev){\r\n\t\t\t\tif(!at.gun || !at.gun._.back){ return }\r\n\t\t\t\tev.off();\r\n\t\t\t\tvar soul = (at.put||{})['#'];\r\n\t\t\t\tat = (at.gun._.back);\r\n\t\t\t\tvar put = {}, node = at.put;\r\n\t\t\t\tsoul = at.soul || Gun.node.soul(node) || soul;\r\n\t\t\t\tif(!soul){ return cb.call(gun, {err: Gun.log('Only a node can be linked! Not \"' + node + '\"!')}) }\r\n\t\t\t\tgun.put(Gun.obj.put(put, soul, Gun.val.rel.ify(soul)), cb, opt);\r\n\t\t\t},{wait:0});\r\n\t\t\treturn item;\r\n\t\t}\r\n\t})(USE, './set');\r\n\r\n\t;USE(function(module){\r\n\t\tif(typeof Gun === 'undefined'){ return } // TODO: localStorage is Browser only. But it would be nice if it could somehow plugin into NodeJS compatible localStorage APIs?\r\n\r\n\t\tvar root, noop = function(){}, u;\r\n\t\tif(typeof window !== 'undefined'){ root = window }\r\n\t\tvar store = root.localStorage || {setItem: noop, removeItem: noop, getItem: noop};\r\n\r\n\t\t/*\r\n\t\t\tNOTE: Both `lib/file.js` and `lib/memdisk.js` are based on this design!\r\n\t\t\tIf you update anything here, consider updating the other adapters as well.\r\n\t\t*/\r\n\r\n\t\tGun.on('create', function(root){\r\n\t\t\t// This code is used to queue offline writes for resync.\r\n\t\t\t// See the next 'opt' code below for actual saving of data.\r\n\t\t\tvar ev = this.to, opt = root.opt;\r\n\t\t\tif(root.once){ return ev.next(root) }\r\n\t\t\tif(false === opt.localStorage){ return ev.next(root) }\r\n\t\t\topt.file = opt.file || 'gun/';\r\n\t\t\tvar gap = Gun.obj.ify(store.getItem('gap/'+opt.file)) || {};\r\n\t\t\tvar empty = Gun.obj.empty, id, to, go;\r\n\t\t\t// add re-sync command.\r\n\t\t\tif(!empty(gap)){\r\n\t\t\t\troot.on('localStorage', function(disk){\r\n\t\t\t\t\tthis.off();\r\n\t\t\t\t\tvar send = {}\r\n\t\t\t\t\tGun.obj.map(gap, function(node, soul){\r\n\t\t\t\t\t\tGun.obj.map(node, function(val, key){\r\n\t\t\t\t\t\t\tsend[soul] = Gun.state.to(disk[soul], key, send[soul]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\troot.on('out', {put: send, '#': root.ask(ack), I: root.gun});\r\n\t\t\t\t\t},10);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\troot.on('out', function(msg){\r\n\t\t\t\tif(msg.lS){ return }\r\n\t\t\t\tif(msg.I && msg.put && !msg['@'] && !empty(opt.peers)){\r\n\t\t\t\t\tid = msg['#'];\r\n\t\t\t\t\tGun.graph.is(msg.put, null, map);\r\n\t\t\t\t\tif(!to){ to = setTimeout(flush, opt.wait || 1) }\r\n\t\t\t\t}\r\n\t\t\t\tthis.to.next(msg);\r\n\t\t\t});\r\n\t\t\troot.on('ack', ack);\r\n\r\n\t\t\tfunction ack(ack){ // TODO: This is experimental, not sure if we should keep this type of event hook.\r\n\t\t\t\tif(ack.err || !ack.ok){ return }\r\n\t\t\t\tvar id = ack['@'];\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tGun.obj.map(gap, function(node, soul){\r\n\t\t\t\t\t\tGun.obj.map(node, function(val, key){\r\n\t\t\t\t\t\t\tif(id !== val){ return }\r\n\t\t\t\t\t\t\tdelete node[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(empty(node)){\r\n\t\t\t\t\t\t\tdelete gap[soul];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tflush();\r\n\t\t\t\t}, opt.wait || 1);\r\n\t\t\t};\r\n\t\t\tev.next(root);\r\n\r\n\t\t\tvar map = function(val, key, node, soul){\r\n\t\t\t\t(gap[soul] || (gap[soul] = {}))[key] = id;\r\n\t\t\t}\r\n\t\t\tvar flush = function(){\r\n\t\t\t\tclearTimeout(to);\r\n\t\t\t\tto = false;\r\n\t\t\t\ttry{store.setItem('gap/'+opt.file, JSON.stringify(gap));\r\n\t\t\t\t}catch(e){ Gun.log(err = e || \"localStorage failure\") }\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tGun.on('create', function(root){\r\n\t\t\tthis.to.next(root);\r\n\t\t\tvar opt = root.opt;\r\n\t\t\tif(root.once){ return }\r\n\t\t\tif(false === opt.localStorage){ return }\r\n\t\t\topt.file = opt.file || opt.prefix || 'gun/'; // support old option name.\r\n\t\t\tvar graph = root.graph, acks = {}, count = 0, to;\r\n\t\t\tvar disk = Gun.obj.ify(store.getItem(opt.file)) || {};\r\n\t\t\tvar lS = function(){}, u;\r\n\t\t\troot.on('localStorage', disk); // NON-STANDARD EVENT!\r\n\t\t\t\r\n\t\t\troot.on('put', function(at){\r\n\t\t\t\tthis.to.next(at);\r\n\t\t\t\tGun.graph.is(at.put, null, map);\r\n\t\t\t\tif(!at['@']){ acks[at['#']] = true; } // only ack non-acks.\r\n\t\t\t\tcount += 1;\r\n\t\t\t\tif(count >= (opt.batch || 1000)){\r\n\t\t\t\t\treturn flush();\r\n\t\t\t\t}\r\n\t\t\t\tif(to){ return }\r\n\t\t\t\tto = setTimeout(flush, opt.wait || 1);\r\n\t\t\t});\r\n\r\n\t\t\troot.on('get', function(msg){\r\n\t\t\t\tthis.to.next(msg);\r\n\t\t\t\tvar lex = msg.get, soul, data, u;\r\n\t\t\t\t//setTimeout(function(){\r\n\t\t\t\tif(!lex || !(soul = lex['#'])){ return }\r\n\t\t\t\t//if(0 >= msg.cap){ return }\r\n\t\t\t\tvar has = lex['.'];\r\n\t\t\t\tdata = disk[soul] || u;\r\n\t\t\t\tif(data && has){\r\n\t\t\t\t\tdata = Gun.state.to(data, has);\r\n\t\t\t\t}\r\n\t\t\t\tif(!data && !Gun.obj.empty(opt.peers)){ // if data not found, don't ack if there are peers.\r\n\t\t\t\t\treturn; // Hmm, what if we have peers but we are disconnected?\r\n\t\t\t\t}\r\n\t\t\t\troot.on('in', {'@': msg['#'], put: Gun.graph.node(data), how: 'lS', lS: msg.I});\r\n\t\t\t\t//},1);\r\n\t\t\t});\r\n\r\n\t\t\tvar map = function(val, key, node, soul){\r\n\t\t\t\tdisk[soul] = Gun.state.to(node, key, disk[soul]);\r\n\t\t\t}\r\n\r\n\t\t\tvar flush = function(data){\r\n\t\t\t\tvar err;\r\n\t\t\t\tcount = 0;\r\n\t\t\t\tclearTimeout(to);\r\n\t\t\t\tto = false;\r\n\t\t\t\tvar ack = acks;\r\n\t\t\t\tacks = {};\r\n\t\t\t\tif(data){ disk = data }\r\n\t\t\t\ttry{store.setItem(opt.file, JSON.stringify(disk));\r\n\t\t\t\t}catch(e){ \r\n\t\t\t\t\tGun.log(err = e || \"localStorage failure\");\r\n\t\t\t\t\troot.on('localStorage:error', {err: err, file: opt.file, flush: disk, retry: flush});\r\n\t\t\t\t}\r\n\t\t\t\tif(!err && !Gun.obj.empty(opt.peers)){ return } // only ack if there are no peers.\r\n\t\t\t\tGun.obj.map(ack, function(yes, id){\r\n\t\t\t\t\troot.on('in', {\r\n\t\t\t\t\t\t'@': id,\r\n\t\t\t\t\t\terr: err,\r\n\t\t\t\t\t\tok: 0 // localStorage isn't reliable, so make its `ok` code be a low number.\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t})(USE, './adapters/localStorage');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('../type');\r\n\r\n\t\tfunction Mesh(ctx){\r\n\t\t\tvar mesh = function(){};\r\n\r\n\t\t\tmesh.out = function(msg){ var tmp;\r\n\t\t\t\t//console.log(\"count:\", msg['#'], msg);\r\n\t\t\t\tif(this.to){ this.to.next(msg) }\r\n\t\t\t\t//if(mesh.last != msg['#']){ return mesh.last = msg['#'], this.to.next(msg) }\r\n\t\t\t\tif((tmp = msg['@'])\r\n\t\t\t\t&& (tmp = ctx.dup.s[tmp])\r\n\t\t\t\t&& (tmp = tmp.it)\r\n\t\t\t\t&& tmp.mesh){\r\n\t\t\t\t\tmesh.say(msg, tmp.mesh.via);\r\n\t\t\t\t\ttmp['##'] = msg['##'];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// add hook for AXE?\r\n\t\t\t\tmesh.say(msg);\r\n\t\t\t}\r\n\r\n\t\t\tmesh.hear = function(raw, peer){\r\n\t\t\t\tif(!raw){ return }\r\n\t\t\t\tvar dup = ctx.dup, id, hash, msg, tmp = raw[0];\r\n\t\t\t\ttry{msg = JSON.parse(raw);\r\n\t\t\t\t}catch(e){}\r\n\t\t\t\tif('{' === tmp){\r\n\t\t\t\t\tif(!msg){ return }\r\n\t\t\t\t\tif(dup.check(id = msg['#'])){ return }\r\n\t\t\t\t\tdup.track(id, true).it = msg; // GUN core also dedups, so `true` is needed.\r\n\t\t\t\t\tif((tmp = msg['@']) && msg.put){\r\n\t\t\t\t\t\thash = msg['##'] || (msg['##'] = mesh.hash(msg));\r\n\t\t\t\t\t\tif((tmp = tmp + hash) != id){\r\n\t\t\t\t\t\t\tif(dup.check(tmp)){ return }\r\n\t\t\t\t\t\t\t(tmp = dup.s)[hash] = tmp[id];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t(msg.mesh = function(){}).via = peer;\r\n\t\t\t\t\tif((tmp = msg['><'])){\r\n\t\t\t\t\t\tmsg.mesh.to = Type.obj.map(tmp.split(','), function(k,i,m){m(k,true)});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.on('in', msg);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else\r\n\t\t\t\tif('[' === tmp){\r\n\t\t\t\t\tif(!msg){ return }\r\n\t\t\t\t\tvar i = 0, m;\r\n\t\t\t\t\twhile(m = msg[i++]){\r\n\t\t\t\t\t\tmesh.hear(m, peer);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t;(function(){\r\n\t\t\t\tmesh.say = function(msg, peer){\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t\tTODO: Plenty of performance optimizations\r\n\t\t\t\t\t\tthat can be made just based off of ordering,\r\n\t\t\t\t\t\tand reducing function calls for cached writes.\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tif(!peer){\r\n\t\t\t\t\t\tType.obj.map(ctx.opt.peers, function(peer){\r\n\t\t\t\t\t\t\tmesh.say(msg, peer);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tmp, wire = peer.wire || ((ctx.opt.wire) && ctx.opt.wire(peer)), msh, raw;// || open(peer, ctx); // TODO: Reopen!\r\n\t\t\t\t\tif(!wire){ return }\r\n\t\t\t\t\tmsh = msg.mesh || empty;\r\n\t\t\t\t\tif(peer === msh.via){ return }\r\n\t\t\t\t\tif(!(raw = msh.raw)){ raw = mesh.raw(msg) }\r\n\t\t\t\t\tif((tmp = msg['@'])\r\n\t\t\t\t\t&& (tmp = ctx.dup.s[tmp])\r\n\t\t\t\t\t&& (tmp = tmp.it)){\r\n\t\t\t\t\t\tif(tmp.get && tmp['##'] && tmp['##'] === msg['##']){ // PERF: move this condition outside say?\r\n\t\t\t\t\t\t\treturn; // TODO: this still needs to be tested in the browser!\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif((tmp = msh.to) && (tmp[peer.url] || tmp[peer.id])){ return } // TODO: still needs to be tested\r\n\t\t\t\t\t//console.log('out', JSON.parse(raw));\t\r\n\t\t\t\t\tif(peer.batch){\r\n\t\t\t\t\t\tpeer.batch.push(raw);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpeer.batch = [];\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tvar tmp = peer.batch;\r\n\t\t\t\t\t\tif(!tmp){ return }\r\n\t\t\t\t\t\tpeer.batch = null;\r\n\t\t\t\t\t\tif(!tmp.length){ return }\r\n\t\t\t\t\t\tsend(JSON.stringify(tmp), peer);\r\n\t\t\t\t\t}, ctx.opt.gap || ctx.opt.wait || 1);\r\n\t\t\t\t\tsend(raw, peer);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction send(raw, peer){\r\n\t\t\t\t\tvar wire = peer.wire;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tif(wire.send){\r\n\t\t\t\t\t\t\tif(wire.readyState === wire.OPEN){\r\n\t\t\t\t\t\t\t\t//console.log(\"send:\", raw);\r\n\t\t\t\t\t\t\t\twire.send(raw);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t(peer.queue = peer.queue || []).push(raw);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif(peer.say){\r\n\t\t\t\t\t\t\tpeer.say(raw);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t(peer.queue = peer.queue || []).push(raw);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}());\r\n\t\t\t\r\n\t\t\t;(function(){\r\n\r\n\t\t\t\tmesh.raw = function(msg){\r\n\t\t\t\t\tif(!msg){ return '' }\r\n\t\t\t\t\tvar dup = ctx.dup, msh = msg.mesh || {}, put, hash, tmp;\r\n\t\t\t\t\tif(tmp = msh.raw){ return tmp }\r\n\t\t\t\t\tif(typeof msg === 'string'){ return msg }\r\n\t\t\t\t\tif(msg['@'] && (tmp = msg.put)){\r\n\t\t\t\t\t\tif(!(hash = msg['##'])){\r\n\t\t\t\t\t\t\tput = $(tmp, sort) || '';\r\n\t\t\t\t\t\t\thash = mesh.hash(msg, put);\r\n\t\t\t\t\t\t\tmsg['##'] = hash;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t(tmp = dup.s)[hash = msg['@']+hash] = tmp[msg['#']];\r\n\t\t\t\t\t\tmsg['#'] = hash || msg['#'];\r\n\t\t\t\t\t\tif(put){ (msg = Type.obj.to(msg)).put = _ }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar i = 0, to = []; Type.obj.map(ctx.opt.peers, function(p){\r\n\t\t\t\t\t\tto.push(p.url || p.id); if(++i > 9){ return true } // limit server, fast fix, improve later!\r\n\t\t\t\t\t}); msg['><'] = to.join();\r\n\t\t\t\t\tvar raw = $(msg);\r\n\t\t\t\t\tif(u !== put){\r\n\t\t\t\t\t\traw = raw.replace('\"'+ _ +'\"', put);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msh){\r\n\t\t\t\t\t\tmsh.raw = raw;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn raw;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.hash = function(msg, hash){\r\n\t\t\t\t\treturn Mesh.hash(hash || $(msg.put, sort) || '') || msg['#'] || Type.text.random(9);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction sort(k, v){ var tmp;\r\n\t\t\t\t\tif(!(v instanceof Object)){ return v }\r\n\t\t\t\t\tType.obj.map(Object.keys(v).sort(), map, {to: tmp = {}, on: v});\r\n\t\t\t\t\treturn tmp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction map(k){\r\n\t\t\t\t\tthis.to[k] = this.on[k];\r\n\t\t\t\t}\r\n\t\t\t\tvar $ = JSON.stringify, _ = ':])([:'\r\n\r\n\t\t\t}());\r\n\r\n\t\t\tmesh.hi = function(peer){\r\n\t\t\t\tctx.on('hi', peer);\r\n\t\t\t\tvar queue = peer.queue;\r\n\t\t\t\tpeer.queue = [];\r\n\t\t\t\tType.obj.map(queue, function(msg){\r\n\t\t\t\t\tmesh.say(msg, peer);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn mesh;\r\n\t\t}\r\n\r\n\t\tMesh.hash = function(s){ // via SO\r\n\t\t\tif(typeof s !== 'string'){ return {err: 1} }\r\n\t    var c = 0;\r\n\t    if(!s.length){ return c }\r\n\t    for(var i=0,l=s.length,n; i<l; ++i){\r\n\t      n = s.charCodeAt(i);\r\n\t      c = ((c<<5)-c)+n;\r\n\t      c |= 0;\r\n\t    }\r\n\t    return c; // Math.abs(c);\r\n\t  }\r\n\r\n\t  var empty = {}, u;\r\n\t  Object.keys = Object.keys || function(o){ return map(o, function(v,k,t){t(k)}) }\r\n\r\n\t  try{ module.exports = Mesh }catch(e){}\r\n\r\n\t})(USE, './adapters/mesh');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('../index');\r\n\t\tGun.Mesh = USE('./mesh');\r\n\r\n\t\tGun.on('opt', function(root){\r\n\t\t\tthis.to.next(root);\r\n\t\t\tvar opt = root.opt;\r\n\t\t\tif(root.once){ return }\r\n\t\t\tif(false === opt.WebSocket){ return }\r\n\r\n\t\t\tvar env;\r\n\t\t\tif(typeof window !== \"undefined\"){ env = window }\r\n\t\t\tif(typeof global !== \"undefined\"){ env = global }\r\n\t\t\tenv = env || {};\r\n\r\n\t\t\tvar websocket = opt.WebSocket || env.WebSocket || env.webkitWebSocket || env.mozWebSocket;\r\n\t\t\tif(!websocket){ return }\r\n\t\t\topt.WebSocket = websocket;\r\n\r\n\t\t\tvar mesh = opt.mesh = opt.mesh || Gun.Mesh(root);\r\n\t\t\troot.on('create', function(at){\r\n\t\t\t\tthis.to.next(at);\r\n\t\t\t\troot.on('out', mesh.out);\r\n\t\t\t});\r\n\r\n\t\t\topt.wire = opt.wire || open;\r\n\t\t\tfunction open(peer){\r\n\t\t\t\tif(!peer || !peer.url){ return }\r\n\t\t\t\tvar url = peer.url.replace('http', 'ws');\r\n\t\t\t\tvar wire = peer.wire = new opt.WebSocket(url);\r\n\t\t\t\twire.onclose = function(){\r\n\t\t\t\t\troot.on('bye', peer);\r\n\t\t\t\t\treconnect(peer);\r\n\t\t\t\t};\r\n\t\t\t\twire.onerror = function(error){\r\n\t\t\t\t\treconnect(peer); // placement?\r\n\t\t\t\t\tif(!error){ return }\r\n\t\t\t\t\tif(error.code === 'ECONNREFUSED'){\r\n\t\t\t\t\t\t//reconnect(peer, as);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\twire.onopen = function(){\r\n\t\t\t\t\tmesh.hi(peer);\r\n\t\t\t\t}\r\n\t\t\t\twire.onmessage = function(msg){\r\n\t\t\t\t\t//console.log('in', JSON.parse(msg.data || msg));\r\n\t\t\t\t\tif(!msg){ return }\r\n\t\t\t\t\tenv.inLength = (env.inLength || 0) + (msg.data || msg).length; // TEMPORARY, NON-STANDARD, FOR DEBUG\r\n\t\t\t\t\tmesh.hear(msg.data || msg, peer);\r\n\t\t\t\t};\r\n\t\t\t\treturn wire;\r\n\t\t\t}\r\n\r\n\t\t\tfunction reconnect(peer){\r\n\t\t\t\tclearTimeout(peer.defer);\r\n\t\t\t\tpeer.defer = setTimeout(function(){\r\n\t\t\t\t\topen(peer);\r\n\t\t\t\t}, 2 * 1000);\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar noop = function(){};\r\n\t})(USE, './adapters/websocket');\r\n\r\n}());","var createGunTransport = require('./gun-transport')\nvar gun = require('gun/gun')\n\nmodule.exports = createGunTransport(gun)","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","!function(){var t;\"undefined\"!=typeof window&&(t=window),\"undefined\"!=typeof global&&(t=global);var _=(t=t||{}).console||{log:function(){}};function x(o){return o.slice?x[e(o)]:function(t,n){o(t={exports:{}}),x[e(n)]=t.exports};function e(t){return t.split(\"/\").slice(-1).toString().replace(\".js\",\"\")}}if(\"undefined\"!=typeof module)var f=module;x(function(t){var p={};p.fns=p.fn={is:function(t){return!!t&&\"function\"==typeof t}},p.bi={is:function(t){return t instanceof Boolean||\"boolean\"==typeof t}},p.num={is:function(t){return!h(t)&&(0<=t-parseFloat(t)+1||1/0===t||-1/0===t)}},p.text={is:function(t){return\"string\"==typeof t}},p.text.ify=function(t){return p.text.is(t)?t:\"undefined\"!=typeof JSON?JSON.stringify(t):t&&t.toString?t.toString():t},p.text.random=function(t,n){var o=\"\";for(t=t||24,n=n||\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz\";0<t;)o+=n.charAt(Math.floor(Math.random()*n.length)),t--;return o},p.text.match=function(n,t){var o=!1;if(n=n||\"\",t=p.text.is(t)?{\"=\":t}:t||{},p.obj.has(t,\"~\")&&(n=n.toLowerCase(),t[\"=\"]=(t[\"=\"]||t[\"~\"]).toLowerCase()),p.obj.has(t,\"=\"))return n===t[\"=\"];if(p.obj.has(t,\"*\")){if(n.slice(0,t[\"*\"].length)!==t[\"*\"])return!1;o=!0,n=n.slice(t[\"*\"].length)}if(p.obj.has(t,\"!\")){if(n.slice(-t[\"!\"].length)!==t[\"!\"])return!1;o=!0}if(p.obj.has(t,\"+\")&&p.list.map(p.list.is(t[\"+\"])?t[\"+\"]:[t[\"+\"]],function(t){if(!(0<=n.indexOf(t)))return!0;o=!0}))return!1;if(p.obj.has(t,\"-\")&&p.list.map(p.list.is(t[\"-\"])?t[\"-\"]:[t[\"-\"]],function(t){if(!(n.indexOf(t)<0))return!0;o=!0}))return!1;if(p.obj.has(t,\">\")){if(!(n>t[\">\"]))return!1;o=!0}if(p.obj.has(t,\"<\")){if(!(n<t[\"<\"]))return!1;o=!0}if(p.obj.has(t,\"?\")){if(!function(t,n){for(var o,e=-1,i=0;o=n[i++];)if(!~(e=t.indexOf(o,e+1)))return!1;return!0}(n,t[\"?\"]))return!1;o=!0}return o},p.list={is:function(t){return t instanceof Array}},p.list.slit=Array.prototype.slice,p.list.sort=function(o){return function(t,n){return t&&n?(t=t[o])<(n=n[o])?-1:n<t?1:0:0}},p.list.map=function(t,n,o){return e(t,n,o)},p.list.index=1,p.obj={is:function(t){return!!t&&(t instanceof Object&&t.constructor===Object||\"Object\"===Object.prototype.toString.call(t).match(/^\\[object (\\w+)\\]$/)[1])}},p.obj.put=function(t,n,o){return(t||{})[n]=o,t},p.obj.has=function(t,n){return t&&Object.prototype.hasOwnProperty.call(t,n)},p.obj.del=function(t,n){if(t)return t[n]=null,delete t[n],t},p.obj.as=function(t,n,o,e){return t[n]=t[n]||(e===o?{}:o)},p.obj.ify=function(n){if(d(n))return n;try{n=JSON.parse(n)}catch(t){n={}}return n},function(){function o(t,n){v(this,n)&&void 0!==this[n]||(this[n]=t)}p.obj.to=function(t,n){return e(t,o,n=n||{}),n}}(),p.obj.copy=function(t){return t?JSON.parse(JSON.stringify(t)):t},function(){function o(t,n){var o=this.n;if(!o||!(n===o||d(o)&&v(o,n)))return!!n||void 0}p.obj.empty=function(t,n){return!t||!e(t,o,{n:n})}}(),function(){function c(t,n){2!==arguments.length?(c.r=c.r||[]).push(t):(c.r=c.r||{})[t]=n}var l=Object.keys;p.obj.map=function(t,n,o){var e,i,r,u,a=0,s=g(n);if(c.r=null,l&&d(t)&&(r=l(t),u=!0),h(t)||r)for(e=(r||t).length;a<e;a++){var f=a+p.list.index;if(s){if(void 0!==(i=u?n.call(o||this,t[r[a]],r[a],c):n.call(o||this,t[a],f,c)))return i}else if(n===t[u?r[a]:a])return r?r[a]:f}else for(a in t)if(s){if(v(t,a)&&void 0!==(i=o?n.call(o,t[a],a,c):n(t[a],a,c)))return i}else if(n===t[a])return a;return s?c.r:p.list.index?0:-1}}(),p.time={},p.time.is=function(t){return t?t instanceof Date:+(new Date).getTime()};var g=p.fn.is,h=p.list.is,n=p.obj,d=n.is,v=n.has,e=n.map;t.exports=p})(x,\"./type\"),x(function(t){t.exports=function t(n,o,e){if(!n)return{to:t};n=(this.tag||(this.tag={}))[n]||(this.tag[n]={tag:n,to:t._={next:function(t){var n;(n=this.to)&&n.next(t)}}});if(o instanceof Function){var i={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:o,the:n,on:this,as:e};return(i.back=n.last||n).to=i,n.last=i}return(n=n.to)&&void 0!==o&&n.next(o),n}})(x,\"./onto\"),x(function(t){if(\"undefined\"==typeof JSON)throw new Error(\"JSON is not included in this browser. Please load it first: ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js\");var r=JSON.stringify;t.exports=function(t,n,o,e,i){if(t<n)return{defer:!0};if(n<o)return{historical:!0};if(o<n)return{converge:!0,incoming:!0};if(n===o){if((e=r(e)||\"\")===(i=r(i)||\"\"))return{state:!0};if(e<i)return{converge:!0,current:!0};if(i<e)return{converge:!0,incoming:!0}}return{err:\"Invalid CRDT Data: \"+e+\" to \"+i+\" at \"+n+\" to \"+o+\"!\"}}})(x,\"./HAM\"),x(function(t){var n=x(\"./type\"),e={is:function(t){return void 0!==t&&(null===t||t!==1/0&&(!!(u(t)||o(t)||r(t))||(e.rel.is(t)||!1)))},rel:{_:\"#\"}};(function(){function o(t,n){return this.id?this.id=!1:n==i&&u(t)?void(this.id=t):this.id=!1}e.rel.is=function(t){if(t&&t[i]&&!t._&&s(t)){var n={};if(c(t,o,n),n.id)return n.id}return!1}})(),e.rel.ify=function(t){return f({},i,t)},n.obj.has._=\".\";var i=e.rel._,o=n.bi.is,r=n.num.is,u=n.text.is,a=n.obj,s=a.is,f=a.put,c=a.map;t.exports=e})(x,\"./val\"),x(function(t){var n=x(\"./type\"),r=x(\"./val\"),u={_:\"_\",soul:function(t,n){return t&&t._&&t._[n||f]}};u.soul.ify=function(t,n){return n=\"string\"==typeof n?{soul:n}:n||{},(t=t||{})._=t._||{},t._[f]=n.soul||t._[f]||e(),t},u.soul._=r.rel._,function(){function i(t,n){if(n!==u._)return!r.is(t)||void(this.cb&&this.cb.call(this.as,t,n,this.n,this.s))}u.is=function(t,n,o){var e;return!!a(t)&&(!!(e=u.soul(t))&&!s(t,i,{as:o,cb:n,s:e,n:t}))}}(),function(){function e(t,n){var o,e=this.o;e.map?void 0===(o=e.map.call(this.as,t,\"\"+n,e.node))?i(e.node,n):e.node&&(e.node[n]=o):r.is(t)&&(e.node[n]=t)}u.ify=function(t,n,o){return n?\"string\"==typeof n?n={soul:n}:n instanceof Function&&(n={map:n}):n={},n.map&&(n.node=n.map.call(o,t,void 0,n.node||{})),(n.node=u.soul.ify(n.node||{},n))&&s(t,e,{o:n,as:o}),n.node}}();var o=n.obj,a=o.is,i=o.del,s=o.map,e=n.text.random,f=u.soul._;t.exports=u})(x,\"./node\"),x(function(t){var n=x(\"./type\"),u=x(\"./node\");function s(){var t;return t=o(),e<t?(i=0,e=t+s.drift):e=t+(i+=1)/r+s.drift}var o=n.time.is,e=-1/0,i=0,r=1e3,a=\"undefined\"!=typeof performance&&(performance.timing&&performance);a&&a.timing&&a.timing.navigationStart||(a=!1);s._=\">\",s.drift=0,s.is=function(t,n,o){var e=n&&t&&t[b]&&t[b][s._]||o;if(e)return d(e=e[n])?e:-1/0},s.lex=function(){return s().toString(36).replace(\".\",\"\")},s.ify=function(t,n,o,e,i){if(!t||!t[b]){if(!i)return;t=u.soul.ify(t,i)}var r=c(t[b],s._);return void 0!==n&&n!==b&&(d(o)&&(r[n]=o),void 0!==e&&(t[n]=e)),t},s.to=function(t,n,o){var e=t[n];return p(e)&&(e=h(e)),s.ify(o,n,s.is(t,n),e,u.soul(t))},function(){function a(t,n){b!==n&&s.ify(this.o,n,this.s)}s.map=function(i,r,u){var t=p(t=i||r)?t:null;return i=v(i=i||r)?i:null,t&&!i?(r=d(r)?r:s(),t[b]=t[b]||{},g(t,a,{o:t,s:r}),t):(u=u||p(r)?r:void 0,r=d(r)?r:s(),function(t,n,o,e){if(!i)return a.call({o:o,s:r},t,n),t;i.call(u||this||{},t,n,o,e),l(o,n)&&void 0===o[n]||a.call({o:o,s:r},t,n)})}}();var f=n.obj,c=f.as,l=f.has,p=f.is,g=f.map,h=f.copy,d=n.num.is,v=n.fn.is,b=u._;t.exports=s})(x,\"./state\"),x(function(t){var u=x(\"./type\"),f=x(\"./val\"),c=x(\"./node\"),r={};!function(){function i(t,n){if(!t||n!==c.soul(t)||!c.is(t,this.fn,this.as))return!0;this.cb&&(o.n=t,o.as=this.as,this.cb.call(o.as,t,n,o))}function o(t){t&&c.is(o.n,t,o.as)}r.is=function(t,n,o,e){return!(!t||!l(t)||a(t))&&!s(t,i,{cb:n,fn:o,as:e})}}(),function(){function a(t,n){var o;return(o=function(t,n){var o,e=t.seen,i=e.length;for(;i--;)if(o=e[i],n.obj===o.obj)return o;e.push(n)}(t,n))?o:(n.env=t,n.soul=i,c.ify(n.obj,e,n)&&(t.graph[f.rel.is(n.rel)]=n.node),n)}function e(t,n,o){var e,i,r=this,u=r.env;if(c._===n&&g(t,f.rel._))return o._;if(e=s(t,n,o,r,u)){if(n||(r.node=r.node||o||{},g(t,c._)&&(r.node._=h(t._)),r.node=c.soul.ify(r.node,f.rel.is(r.rel)),r.rel=r.rel||f.rel.ify(c.soul(r.node))),(i=u.map)&&(i.call(u.as||{},t,n,o,r),g(o,n))){if(void 0===(t=o[n]))return void p(o,n);if(!(e=s(t,n,o,r,u)))return}if(!n)return r.node;if(!0===e)return t;if((i=a(u,{obj:t,path:r.path.concat(n)})).node)return i.rel}}function i(t){var n=this,o=f.rel.is(n.rel),e=n.env.graph;n.rel=n.rel||f.rel.ify(t),n.rel[f.rel._]=t,n.node&&n.node[c._]&&(n.node[c._][f.rel._]=t),g(e,o)&&(e[t]=e[o],p(e,o))}function s(t,n,o,e,i){var r;return!!f.is(t)||(l(t)?1:(r=i.invalid)?s(t=r.call(i.as||{},t,n,o),n,o,e,i):(i.err=\"Invalid value at '\"+e.path.concat(n).join(\".\")+\"'!\",void(u.list.is(t)&&(i.err+=\" Use `.set(item)` instead of an Array.\"))))}r.ify=function(t,n,o){var e={path:[],obj:t};return n?\"string\"==typeof n?n={soul:n}:n instanceof Function&&(n.map=n):n={},n.soul&&(e.rel=f.rel.ify(n.soul)),n.graph=n.graph||{},n.seen=n.seen||[],n.as=n.as||o,a(n,e),n.root=e.node,n.graph}}(),r.node=function(t){var n=c.soul(t);if(n)return o({},n,t)},function(){function i(t,n){var o,e;if(c._!==n)(o=f.rel.is(t))?(e=this.opt.seen[o])?this.obj[n]=e:this.obj[n]=this.opt.seen[o]=r.to(this.graph,o,this.opt):this.obj[n]=t;else{if(a(t,f.rel._))return;this.obj[n]=h(t)}}r.to=function(t,n,o){if(t){var e={};return o=o||{seen:{}},s(t[n],i,{obj:e,graph:t,opt:o}),e}}}();u.fn.is;var n=u.obj,l=n.is,p=n.del,g=n.has,a=n.empty,o=n.put,s=n.map,h=n.copy;t.exports=r})(x,\"./graph\"),x(function(t){x(\"./onto\"),t.exports=function(t,n){if(this.on){if(!(t instanceof Function)){if(!t||!n)return;var o=t[\"#\"]||t,e=(this.tag||empty)[o];if(!e)return;return e=this.on(o,n),clearTimeout(e.err),!0}o=n&&n[\"#\"]||Math.random().toString(36).slice(2);if(!t)return o;var i=this.on(o,t,n);return i.err=i.err||setTimeout(function(){i.next({err:\"Error: No ACK received yet.\"}),i.off()},(this.opt||{}).lack||9e3),o}}})(x,\"./ask\"),x(function(t){var r=x(\"./type\");var u=r.time.is;t.exports=function(e){var i={s:{}};return e=e||{max:1e3,age:9e3},i.check=function(t){var n;return!!(n=i.s[t])&&(n.pass?n.pass=!1:i.track(t))},i.track=function(t,n){var o=i.s[t]||(i.s[t]={});return o.was=u(),n&&(o.pass=!0),i.to||(i.to=setTimeout(function(){var o=u();r.obj.map(i.s,function(t,n){e.age>o-t.was||r.obj.del(i.s,n)}),i.to=null},e.age+9)),o},i}})(x,\"./dup\"),x(function(t){function c(t){return t instanceof c?(this._={gun:this}).gun:this instanceof c?c.create(this._={gun:this,opt:t}):new c(t)}c.is=function(t){return t instanceof c||t&&t._&&t._.gun&&!0||!1},c.version=.9,(c.chain=c.prototype).toJSON=function(){};var n=x(\"./type\");n.obj.to(n,c),c.HAM=x(\"./HAM\"),c.val=x(\"./val\"),c.node=x(\"./node\"),c.state=x(\"./state\"),c.graph=x(\"./graph\"),c.on=x(\"./onto\"),c.ask=x(\"./ask\"),c.dup=x(\"./dup\"),function(){function r(t){var n,o,e=this.as,i=e.gun;(o=t[\"#\"])||(o=t[\"#\"]=u(9)),(n=e.dup).check(o)?e.out===t.out&&(t.out=void 0,this.to.next(t)):(n.track(o),e.ask(t[\"@\"],t)||(t.get&&c.on.get(t,i),t.put&&c.on.put(t,i)),this.to.next(t),e.out||(t.out=r,e.on(\"out\",t)))}c.create=function(t){t.root=t.root||t,t.graph=t.graph||{},t.on=t.on||c.on,t.ask=t.ask||c.ask,t.dup=t.dup||c.dup();var n=t.gun.opt(t.opt);return t.once||(t.on(\"in\",r,t),t.on(\"out\",r,p(t,{out:r})),c.on(\"create\",t),t.on(\"create\",t)),t.once=1,n}}(),function(){function i(t,n,o,e){var i=this,r=c.state.is(o,n);if(!r)return i.err=\"Error: No state on '\"+n+\"' in node '\"+e+\"'!\";var u=i.graph[e]||v,a=c.state.is(u,n,!0),s=u[n],f=c.HAM(i.machine,r,a,t,s);f.incoming?(i.put[e]=c.state.to(o,n,i.put[e]),(i.diff||(i.diff={}))[e]=c.state.to(o,n,i.diff[e]),i.souls[e]=!0):f.defer&&(i.defer=r<(i.defer||1/0)?r:i.defer)}function r(t,n){var o=this,e=o.gun._,i=(e.next||v)[n];if(!i){if(!(e.opt||v).super)return void(o.souls[n]=!1);i=o.gun.get(n)._}var r=o.map[n]={put:t,get:n,gun:i.gun},u={ctx:o,msg:r};o.async=!!e.tag.node,o.ack&&(r[\"@\"]=o.ack),g(t,a,u),o.async&&(o.and||e.on(\"node\",function(t){this.to.next(t),t===o.map[t.get]&&(o.souls[t.get]=!1,g(t.put,s,t),g(o.souls,function(t){if(t)return t})||o.c||(o.c=1,this.off(),e.stop={},g(o.map,f,o)))}),o.and=!0,e.on(\"node\",r))}function a(t,n){var o=this.ctx,e=o.graph,i=this.msg,r=i.get,u=i.put,a=i.gun._;e[r]=c.state.to(u,n,e[r]),o.async||(a.put=c.state.to(u,n,a.put))}function s(t,n){var o=this.put,e=this.gun._;e.put=c.state.to(o,n,e.put)}function f(t,n){t.gun&&t.gun._.on(\"in\",t)}c.on.put=function(t,n){var o=n._,e={gun:n,graph:o.graph,put:{},map:{},souls:{},machine:c.state(),ack:t[\"@\"]};if(c.graph.is(t.put,null,i,e)||(e.err=\"Error: Invalid graph!\"),e.err)return o.on(\"in\",{\"@\":t[\"#\"],err:c.log(e.err)});g(e.put,r,e),e.async||(o.stop={},g(e.map,f,e)),void 0!==e.defer&&setTimeout(function(){c.on.put(t,n)},e.defer-e.machine),e.diff&&o.on(\"put\",p(t,{put:e.diff}))},c.on.get=function(t,n){var o=n._,e=t.get[h],i=o.graph[e],r=t.get[d],u=(o.next||(o.next={}))[e];if(!i||!u)return o.on(\"get\",t);if(r){if(!l(i,r))return o.on(\"get\",t);i=c.state.to(i,r)}else i=c.obj.copy(i);i=c.graph.node(i),o.on(\"in\",{\"@\":t[\"#\"],how:\"mem\",put:i,gun:n}),o.on(\"get\",t)}}(),c.chain.opt=function(t){t=t||{};var n=this._,o=t.peers||t;return a(t)||(t={}),a(n.opt)||(n.opt=t),i(o)&&(o=[o]),e(o)&&(o=g(o,function(t,n,o){o(t,{url:t})}),a(n.opt.peers)||(n.opt.peers={}),n.opt.peers=p(o,n.opt.peers)),n.opt.peers=n.opt.peers||{},p(t,n.opt),c.on(\"opt\",n),n.opt.uuid=n.opt.uuid||function(){return s()+u(12)},this};var e=c.list.is,o=c.text,i=o.is,u=o.random,r=c.obj,a=r.is,l=r.has,p=r.to,g=r.map,s=(r.copy,c.state.lex),h=c.val.rel._,d=\".\",v=(c.node._,c.val.rel.is,{});_.debug=function(t,n){return _.debug.i&&t===_.debug.i&&_.debug.i++&&(_.log.apply(_,arguments)||n)},(c.log=function(){return!c.log.off&&_.log.apply(_,arguments),[].slice.call(arguments).join(\" \")}).once=function(t,n,o){return(o=c.log.once)[t]=o[t]||0,o[t]++||c.log(n)},c.log.once(\"welcome\",\"Hello wonderful person! :) Thanks for using GUN, feel free to ask for help on https://gitter.im/amark/gun and ask StackOverflow questions tagged with 'gun'!\"),\"undefined\"!=typeof window&&(window.Gun=c);try{void 0!==f&&(f.exports=c)}catch(t){}t.exports=c})(x,\"./root\"),x(function(t){var a=x(\"./root\");a.chain.back=function(t,n){if(-1===(t=t||1)||1/0===t)return this._.root.gun;if(1===t)return(this._.back||this._).gun;var o=this._;if(\"string\"==typeof t&&(t=t.split(\".\")),t instanceof Array){for(var e=0,i=t.length,r=o;e<i;e++)r=(r||s)[t[e]];return void 0!==r?n?this:r:(r=o.back)?r.gun.back(t,n):void 0}if(t instanceof Function){var u;for(r={back:o};(r=r.back)&&!(u=t(r,n)););return u}return a.num.is(t)?(o.back||o).gun.back(t-1):this};var s={}})(x,\"./back\"),x(function(t){var u=x(\"./root\");function r(t){var n,o=this.as,e=o.back,i=o.root;if(t.I||(t.I=o.gun),t.gun||(t.gun=o.gun),this.to.next(t),n=t.get){if(n[\"#\"]||o.soul){if(n[\"#\"]=n[\"#\"]||o.soul,t[\"#\"]||(t[\"#\"]=_(9)),e=i.gun.get(n[\"#\"])._,n=n[\".\"]){if(d(e.put,n))return void e.on(\"in\",{gun:e.gun,put:u.state.to(e.put,n),get:e.get})}else{if(d(e,\"put\")&&e.on(\"in\",e),e.ack)return;t.gun=e.gun,e.ack=-1}return i.ask(p,t),i.on(\"in\",t)}if(i.now&&(i.now[o.id]=i.now[o.id]||!0),n[\".\"])return o.get?(t={get:{\".\":o.get},gun:o.gun},(e.ask||(e.ask={}))[o.get]=t.gun._):t={get:{},gun:o.gun},e.on(\"out\",t);if(o.ack=o.ack||-1,o.get)return t.gun=o.gun,n[\".\"]=o.get,(e.ask||(e.ask={}))[o.get]=t.gun._,e.on(\"out\",t)}return e.on(\"out\",t)}function a(t){var n,o=this,e=this.as,i=t.gun._,r=t.put;if(e.get&&t.get!==e.get&&(t=b(t,{get:e.get})),e.has&&i!==e&&(t=b(t,{gun:e.gun}),i.ack&&(e.ack=i.ack)),y===e.get&&r&&r[\"#\"]&&(e._id=r[\"#\"]),g===r){if(o.to.next(t),e.soul)return;return f(e,t,o),e.has&&l(e,t),v(i.echo,e.id),void v(e.map,i.id)}return e.soul?(o.to.next(t),f(e,t,o),void m(r,c,{at:t,cat:e})):(n=u.val.rel.is(r))?(s(e,t,i,n),o.to.next(t),void f(e,t,o)):u.val.is(r)?(e.has||e.soul?l(e,t):(i.has||i.soul)&&((((i.echo||(i.echo={}))[e.id]=e).map||(e.map={}))[i.id]=e.map[i.id]||{at:i}),o.to.next(t),void f(e,t,o)):(e.has&&i!==e&&d(i,\"put\")&&(e.put=i.put),(n=u.node.soul(r))&&i.has&&(i.put=e.root.gun.get(n)._.put),o.to.next(t),f(e,t,o),s(e,t,i,n),void m(r,c,{at:t,cat:e}))}function s(t,n,o,e){if(e&&y!==t.get){var i=t.root.gun.get(e)._;if(t.has?o=i:o.has&&s(o,n,o,e),o!==t){((o.echo||(o.echo={}))[t.id]=t).has&&!(t.map||h)[o.id]&&l(t,n),i=(t.map||(t.map={}))[o.id]=t.map[o.id]||{at:o};var r=t.root.now;if(e===i.rel){if(!r)return;if(g===r[t.id])return;if((r._||(r._={}))[t.id]===e)return;r._[t.id]=e}!function(t,o){var n=t.root.gun.get(o)._;if(t.ack&&(n.on(\"out\",{get:{\"#\":o}}),!t.ask))return;m(t.ask||t.next,function(t,n){t.on(\"out\",{get:{\"#\":o,\".\":n}})}),u.obj.del(t,\"ask\")}(t,i.rel=e)}}}function f(t,n,o){t.echo&&(t.has&&(n=b(n,{event:o})),m(t.echo,e,n))}function e(t){t.on(\"in\",this)}function c(t,n){var o,e,i=this.cat.next||h,r=this.at;(y!==n||i[n])&&(e=i[n])&&(e.has?(t&&t[k]&&u.val.rel.is(t)===u.node.soul(e.put)||(e.put=t),o=e.gun):o=r.gun.get(n),e.on(\"in\",{put:t,get:n,gun:o,via:r}))}function l(n,t){if(n.has||n.soul){var o=n.map,e=n.root;n.map=null,(e.now&&e.now[n.id]||t[\"@\"]||null!==o)&&(g===o&&u.val.rel.is(n.put)||(m(o,function(t){(t=t.at)&&v(t.echo,n.id)}),m(n.next,function(t,n){t.put=g,t.ack&&(t.ack=-1),t.on(\"in\",{get:n,gun:t.gun,put:g})})))}}function p(t,n){var o=this.as,e=o.get||h,i=o.gun._,r=(t.put||h)[e[\"#\"]];if(i.ack&&(i.ack=i.ack+1||1),!t.put||e[\".\"]&&!d(r,i.get)){if(i.put!==g)return;i.on(\"in\",{get:i.get,put:i.put=g,gun:i.gun,\"@\":t[\"@\"]})}else y!=e[\".\"]?(t.gun=i.root.gun,u.on.put(t,i.root.gun)):i.on(\"in\",{get:i.get,put:r[i.get],gun:i.gun,\"@\":t[\"@\"]})}u.chain.chain=function(t){var n,o=this._,e=new(t||this).constructor(this),i=e._;return i.root=n=o.root,i.id=++n.once,i.back=this._,i.on=u.on,i.on(\"in\",a,i),i.on(\"out\",r,i),e};var g,h={},n=u.obj,d=n.has,v=(n.put,n.del),b=n.to,m=n.map,_=u.text.random,k=u.val.rel._,y=u.node._})(x,\"./chain\"),x(function(t){var f=x(\"./root\");function c(t){var n,o=this,e=o.as,i=t.gun._,r=i.root,u=t.put;if((n=r.now)&&o!==n[e.now])return o.to.next(t);void 0===u&&(u=i.put),(n=u)&&n[p._]&&(n=p.is(n))&&void 0!==(n=i.root.gun.get(n)._).put&&(t=a(t,{put:n.put})),e.use(t,t.event||o),o.to.next(t)}f.chain.get=function(t,n,o){var e;if(\"string\"!=typeof t){if(t instanceof Function){var i,r=(e=this)._,u=r.root,a=u.now;return(o=n||{}).use=t,o.out=o.out||{},o.out.get=o.out.get||{},i=r.on(\"in\",c,o),(u.now={$:1})[o.now=r.id]=i,r.on(\"out\",o.out),u.now=a,e}return l(t)?this.get(\"\"+t,n,o):(a=p.is(t))?this.get(a,n,o):((o=this.chain())._.err={err:f.log(\"Invalid get request!\",t)},n&&n.call(o,o._.err),o)}var s=this._;return(e=(s.next||g)[t])||(e=function(t,n){var o=n._,e=o.next,i=n.chain()._;e||(e=o.next={});e[i.get=t]=i,n===o.root.gun?i.soul=t:(o.soul||o.has)&&(i.has=t);return i}(t,this)),e=e.gun,(a=s.stun)&&(e._.stun=e._.stun||a),n&&n instanceof Function&&e.get(n,o),e};f.obj.has;var a=f.obj.to,l=f.num.is,p=f.val.rel,g=(f.node._,{})})(x,\"./get\"),x(function(t){var s=x(\"./root\");function a(t){t&&t()}function f(){var i=this;i.graph&&!o(i.stun,n)&&(i.res=i.res||function(t){t&&t()},i.res(function(){var n=i.gun.back(-1)._,t=n.ask(function(t){n.root.on(\"ack\",t),this.off(),i.ack&&i.ack(t,this)},i.opt),o=n.root.now;r.del(n.root,\"now\"),n.root.PUT=!0;var e=n.root.stop;i.ref._.now=!0,i.ref._.on(\"out\",{gun:i.ref,put:i.out=i.env.graph,opt:i.opt,\"#\":t}),r.del(i.ref._,\"now\"),r.del(n.root,\"PUT\"),n.root.now=o,n.root.stop=e},i),i.res&&i.res())}function n(t,n){if(t)return!0}function c(t,n,o,r){var u=this;!n&&r.path.length&&(u.res||e)(function(){for(var o=r.path,e=u.ref,t=(u.opt,0),n=o.length;t<n;t++)e=e.get(o[t]);if(s.node.soul(r.obj)){var i=s.node.soul(r.obj)||(u.via.back(\"opt.uuid\")||s.text.random)();return i?(e.back(-1).get(i),void r.soul(i)):((u.stun=u.stun||{})[o]=!0,void u.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);e.back(-1).get(n),r.soul(n),u.stun[o]=!1,u.batch()}))}(u.stun=u.stun||{})[o]=!0,e.get(\"_\").get(l,{as:{at:r,as:u}})},{as:u,at:r})}function l(t,n){var o=this.as,e=o.at;if(o=o.as,t.gun&&t.gun._.back){var i=t.gun._,r=i,u=(t.put||v)[\"#\"];n.off(),i=t.gun._.back;var a=a||s.node.soul(e.obj)||s.node.soul(i.put)||s.val.rel.is(i.put)||u||r._id||(o.via.back(\"opt.uuid\")||s.text.random)();a?p(i,r._id=r._id||a,e,o):i.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);p(i,r._id=r._id||n,e,o)})}}function p(t,n,o,e){t.gun.back(-1).get(n),o.soul(n),e.stun[o.path]=!1,e.batch()}function g(t,n){var o=this.as;if(t.gun&&t.gun._)if(t.err)_.log(\"Please report this as an issue! Put.any.err\");else{var e,i=t.gun._.back,r=i.put,u=o.opt||{};if(!(e=o.ref)||!e._.now){if(n.off(),o.ref!==o.gun){if(!(e=o.gun._.get||i.get))return void _.log(\"Please report this as an issue! Put.no.get\");o.data=d({},e,o.data),e=null}if(void 0===r){if(!i.get)return;i.soul||(e=i.gun.back(function(t){if(t.soul)return t.soul;o.data=d({},t.get,o.data)})),e=e||i.get,i=i.root.gun.get(e)._,o.not=o.soul=e,r=o.data}o.not||(o.soul=s.node.soul(r))||(o.path&&h(o.data)?o.soul=(u.uuid||o.via.back(\"opt.uuid\")||s.text.random)():(m==t.get&&(o.soul=(t.put||v)[\"#\"]||t._id),o.soul=o.soul||t.soul||i.soul||(u.uuid||o.via.back(\"opt.uuid\")||s.text.random)()),o.soul)?o.ref.put(o.data,o.soul,o):o.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);o.ref.put(o.data,o.soul=n,o)})}}}s.chain.put=function(t,e,i){var n,r=this,o=r._,u=o.root.gun;return(i=i||{}).data=t,i.via=i.gun=i.via||i.gun||r,\"string\"==typeof e?i.soul=e:i.ack=i.ack||e,o.soul&&(i.soul=o.soul),i.soul||u===r?h(i.data)?(i.soul=i.soul||(i.not=s.node.soul(i.data)||(i.via.back(\"opt.uuid\")||s.text.random)()),i.soul?(i.gun=r=u.get(i.soul),i.ref=i.gun,function(t){t.batch=f;var n=t.opt||{},o=t.env=s.state.map(c,n.state);if(o.soul=t.soul,t.graph=s.graph.ify(t.data,o,t),o.err)return(t.ack||b).call(t,t.out={err:s.log(o.err)}),t.res&&t.res();t.batch()}(i)):i.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);(i.ref||i.gun).put(i.data,i.soul=n,i)}),r):((i.ack||b).call(i,i.out={err:s.log(\"Data saved to the root level of the graph must be a node (an object), not a\",typeof i.data,'of \"'+i.data+'\"!')}),i.res&&i.res(),r):s.is(t)?(t.get(\"_\").get(function(t,n,o){if(n.off(),!(o=t.gun)||!(o=o._.back)||!o.soul)return s.log(\"The reference you are saving is a\",typeof t.put,'\"'+i.put+'\", not a node (object)!');r.put(s.val.rel.ify(o.soul),e,i)}),r):(i.ref=i.ref||u._===(n=o.back)?r:n.gun,i.ref._.soul&&s.val.is(i.data)&&o.get?(i.data=d({},o.get,i.data),i.ref.put(i.data,i.soul,i)):(i.ref.get(\"_\").get(g,{as:i}),i.out||(i.res=i.res||a,i.gun._.stun=i.ref._.stun)),r)};var r=s.obj,h=r.is,d=r.put,o=r.map,v={},b=function(){},e=function(t,n){t.call(n||v)},m=s.node._})(x,\"./put\"),x(function(t){var n=x(\"./root\");x(\"./chain\"),x(\"./back\"),x(\"./put\"),x(\"./get\"),t.exports=n})(x,\"./index\"),x(function(t){var s=x(\"./index\");function f(t,n){var o=this,e=t.gun,i=e._,r=i.put||t.put,u=o.last,a=i.id+t.get;if(l!==r){if(r&&r[p._]&&(u=p.is(r))){if(u=i.root.gun.get(u)._,l===u.put)return;r=u.put}o.change&&(r=t.put),(u.put!==r||u.get!==a||s.node.soul(r))&&(u.put=r,u.get=a,i.last=r,o.as?o.ok.call(o.as,t,n):o.ok.call(e,r,t.get,t,n))}}function c(t,n,o){var e,i=this.as,r=i.cat,u=t.gun._,a=u.put||t.put;if(e=s.node.soul(a)||p.is(a)){if(e=r.root.gun.get(e)._,l===e.put)return;a=e.put}if(n.wait&&clearTimeout(n.wait),o){if(r.has||r.soul){if(n.off())return}else{if((i.seen=i.seen||{})[u.id])return;i.seen[u.id]=!0}i.ok.call(t.gun||i.gun,a,t.get)}else n.wait=setTimeout(function(){c.call({as:i},t,n,n.wait||1)},i.wait||99)}s.chain.on=function(t,n,o,e){var i,r,u=this,a=u._;if(\"string\"==typeof t)return n?(i=a.on(t,n,o||a,e),o&&o.gun&&(o.subs||(o.subs=[])).push(i),(r=function(){i&&i.off&&i.off(),r.off()}).off=u.off.bind(u)||g,u.off=r,u):a.on(t);var s=n;return(s=!0===s?{change:!0}:s||{}).ok=t,s.last={},u.get(f,s),u},s.chain.val=function(t,n){return s.log.once(\"onceval\",\"Future Breaking API Change: .val -> .once, apologies unexpected.\"),this.once(t,n)},s.chain.once=function(t,n){var o=this,e=o._,i=e.put;if(0<e.ack&&l!==i)return(t||g).call(o,i,e.get),o;if(!t){s.log.once(\"valonce\",\"Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");var r=o.chain();return r._.val=o.once(function(){r._.on(\"in\",o._)}),r}return(n=n||{}).ok=t,n.cat=e,n.out={\"#\":s.text.random(9)},o.get(c,{as:n}),n.async=!0,o},s.chain.off=function(){var t,n=this._,o=n.back;if(o)return(t=o.next)&&t[n.get]&&i(t,n.get),(t=o.ask)&&i(t,n.get),(t=o.put)&&i(t,n.get),(t=n.soul)&&i(o.root.graph,t),(t=n.map)&&e(t,function(t){t.rel&&o.root.gun.get(t.rel).off()}),(t=n.next)&&e(t,function(t){t.gun.off()}),n.on(\"off\",{}),this};var l,n=s.obj,e=n.map,i=(n.has,n.del),p=(n.to,s.val.rel),g=function(){}})(x,\"./on\"),x(function(t){var a=x(\"./index\");function i(t){t.put&&!a.val.is(t.put)&&(this.as.val&&this.off(),o(t.put,n,{at:this.as,msg:t}),this.to.next(t))}function n(t,n){if(r!==n){var o=this.msg.gun,e=this.at,i=o.get(n)._;(i.echo||(i.echo={}))[e.id]=e}}a.chain.map=function(r,t,n){var u,o=this,e=o._;return r?(a.log.once(\"mapfn\",\"Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\"),u=o.chain(),o.map().on(function(t,n,o,e){var i=(r||s).call(this,t,n,o,e);void 0!==i&&(a.is(i)?u._.on(\"in\",i._):u._.on(\"in\",{get:n,put:i,gun:u}))})):(u=e.fields)||((u=e.fields=o.chain())._.val=o.back(\"val\"),u._.MAPOF=e.soul,o.on(\"in\",i,u._)),u};var o=a.obj.map,s=function(){},r=a.node._})(x,\"./map\"),x(function(t){var a=x(\"./index\");a.chain.set=function(t,i,r){var n,u=this;if(i=i||function(){},(r=r||{}).item=r.item||t,n=a.node.soul(t))return u.set(u.back(-1).get(n),i,r);if(!a.is(t)){var o=u.back(\"opt.uuid\")();return o&&a.obj.is(t)?u.set(u._.root.gun.put(t,o),i,r):u.get(a.state.lex()+a.text.random(7)).put(t,i,r)}return t.get(\"_\").get(function(t,n){if(t.gun&&t.gun._.back){n.off();var o=(t.put||{})[\"#\"],e=(t=t.gun._.back).put;if(!(o=t.soul||a.node.soul(e)||o))return i.call(u,{err:a.log('Only a node can be linked! Not \"'+e+'\"!')});u.put(a.obj.put({},o,a.val.rel.ify(o)),i,r)}},{wait:0}),t}})(x,\"./set\"),x(function(t){if(\"undefined\"!=typeof Gun){var n,o=function(){};\"undefined\"!=typeof window&&(n=window);var c=n.localStorage||{setItem:o,removeItem:o,getItem:o};Gun.on(\"create\",function(t){var n=this.to,o=t.opt;if(t.once)return n.next(t);if(!1===o.localStorage)return n.next(t);o.file=o.file||\"gun/\";var i,e,r=Gun.obj.ify(c.getItem(\"gap/\"+o.file))||{},u=Gun.obj.empty;function a(t){if(!t.err&&t.ok){var e=t[\"@\"];setTimeout(function(){Gun.obj.map(r,function(o,t){Gun.obj.map(o,function(t,n){e===t&&delete o[n]}),u(o)&&delete r[t]}),f()},o.wait||1)}}u(r)||t.on(\"localStorage\",function(e){this.off();var i={};Gun.obj.map(r,function(t,o){Gun.obj.map(t,function(t,n){i[o]=Gun.state.to(e[o],n,i[o])})}),setTimeout(function(){t.on(\"out\",{put:i,\"#\":t.ask(a),I:t.gun})},10)}),t.on(\"out\",function(t){t.lS||(t.I&&t.put&&!t[\"@\"]&&!u(o.peers)&&(i=t[\"#\"],Gun.graph.is(t.put,null,s),e||(e=setTimeout(f,o.wait||1))),this.to.next(t))}),t.on(\"ack\",a),n.next(t);var s=function(t,n,o,e){(r[e]||(r[e]={}))[n]=i},f=function(){clearTimeout(e),e=!1;try{c.setItem(\"gap/\"+o.file,JSON.stringify(r))}catch(t){Gun.log(err=t||\"localStorage failure\")}}}),Gun.on(\"create\",function(r){this.to.next(r);var u=r.opt;if(!r.once&&!1!==u.localStorage){u.file=u.file||u.prefix||\"gun/\";r.graph;var e,i={},a=0,s=Gun.obj.ify(c.getItem(u.file))||{};r.on(\"localStorage\",s),r.on(\"put\",function(t){if(this.to.next(t),Gun.graph.is(t.put,null,n),t[\"@\"]||(i[t[\"#\"]]=!0),(a+=1)>=(u.batch||1e3))return f();e||(e=setTimeout(f,u.wait||1))}),r.on(\"get\",function(t){this.to.next(t);var n,o,e=t.get;if(e&&(n=e[\"#\"])){var i=e[\".\"];(o=s[n]||void 0)&&i&&(o=Gun.state.to(o,i)),(o||Gun.obj.empty(u.peers))&&r.on(\"in\",{\"@\":t[\"#\"],put:Gun.graph.node(o),how:\"lS\",lS:t.I})}});var n=function(t,n,o,e){s[e]=Gun.state.to(o,n,s[e])},f=function(t){var o;a=0,clearTimeout(e),e=!1;var n=i;i={},t&&(s=t);try{c.setItem(u.file,JSON.stringify(s))}catch(t){Gun.log(o=t||\"localStorage failure\"),r.on(\"localStorage:error\",{err:o,file:u.file,flush:s,retry:f})}(o||Gun.obj.empty(u.peers))&&Gun.obj.map(n,function(t,n){r.on(\"in\",{\"@\":n,err:o,ok:0})})}}})}})(x,\"./adapters/localStorage\"),x(function(t){var h=x(\"../type\");function o(p){var g=function(){};return g.out=function(t){var n;if(this.to&&this.to.next(t),(n=t[\"@\"])&&(n=p.dup.s[n])&&(n=n.it)&&n.mesh)return g.say(t,n.mesh.via),void(n[\"##\"]=t[\"##\"]);g.say(t)},g.hear=function(t,n){if(t){var o,e,i,r=p.dup,u=t[0];try{i=JSON.parse(t)}catch(t){}if(\"{\"===u){if(!i)return;if(r.check(o=i[\"#\"]))return;if((u=(r.track(o,!0).it=i)[\"@\"])&&i.put&&(u+=e=i[\"##\"]||(i[\"##\"]=g.hash(i)))!=o){if(r.check(u))return;(u=r.s)[e]=u[o]}return(i.mesh=function(){}).via=n,(u=i[\"><\"])&&(i.mesh.to=h.obj.map(u.split(\",\"),function(t,n,o){o(t,!0)})),void p.on(\"in\",i)}if(\"[\"!==u);else{if(!i)return;for(var a,s=0;a=i[s++];)g.hear(a,n)}}},function(){function r(n,o){var t=o.wire;try{t.send?t.readyState===t.OPEN?t.send(n):(o.queue=o.queue||[]).push(n):o.say&&o.say(n)}catch(t){(o.queue=o.queue||[]).push(n)}}g.say=function(n,o){var t,e,i;o?(o.wire||p.opt.wire&&p.opt.wire(o))&&(e=n.mesh||u,o!==e.via&&((i=e.raw)||(i=g.raw(n)),(t=n[\"@\"])&&(t=p.dup.s[t])&&(t=t.it)&&t.get&&t[\"##\"]&&t[\"##\"]===n[\"##\"]||(t=e.to)&&(t[o.url]||t[o.id])||(o.batch?o.batch.push(i):(o.batch=[],setTimeout(function(){var t=o.batch;t&&(o.batch=null,t.length&&r(JSON.stringify(t),o))},p.opt.gap||p.opt.wait||1),r(i,o))))):h.obj.map(p.opt.peers,function(t){g.say(n,t)})}}(),function(){function f(t,n){var o;return n instanceof Object?(h.obj.map(Object.keys(n).sort(),e,{to:o={},on:n}),o):n}function e(t){this.to[t]=this.on[t]}g.raw=function(t){if(!t)return\"\";var n,o,e,i=p.dup,r=t.mesh||{};if(e=r.raw)return e;if(\"string\"==typeof t)return t;t[\"@\"]&&(e=t.put)&&((o=t[\"##\"])||(n=c(e,f)||\"\",o=g.hash(t,n),t[\"##\"]=o),(e=i.s)[o=t[\"@\"]+o]=e[t[\"#\"]],t[\"#\"]=o||t[\"#\"],n&&((t=h.obj.to(t)).put=l));var u=0,a=[];h.obj.map(p.opt.peers,function(t){if(a.push(t.url||t.id),9<++u)return!0}),t[\"><\"]=a.join();var s=c(t);return d!==n&&(s=s.replace('\"'+l+'\"',n)),r&&(r.raw=s),s},g.hash=function(t,n){return o.hash(n||c(t.put,f)||\"\")||t[\"#\"]||h.text.random(9)};var c=JSON.stringify,l=\":])([:\"}(),g.hi=function(n){p.on(\"hi\",n);var t=n.queue;n.queue=[],h.obj.map(t,function(t){g.say(t,n)})},g}o.hash=function(t){if(\"string\"!=typeof t)return{err:1};var n=0;if(!t.length)return n;for(var o=0,e=t.length;o<e;++o)n=(n<<5)-n+t.charCodeAt(o),n|=0;return n};var d,u={};Object.keys=Object.keys||function(t){return map(t,function(t,n,o){o(n)})};try{t.exports=o}catch(t){}})(x,\"./adapters/mesh\"),x(function(t){var o=x(\"../index\");o.Mesh=x(\"./mesh\"),o.on(\"opt\",function(e){this.to.next(e);var i=e.opt;if(!e.once&&!1!==i.WebSocket){var r;\"undefined\"!=typeof window&&(r=window),\"undefined\"!=typeof global&&(r=global),r=r||{};var t=i.WebSocket||r.WebSocket||r.webkitWebSocket||r.mozWebSocket;if(t){i.WebSocket=t;var u=i.mesh=i.mesh||o.Mesh(e);e.on(\"create\",function(t){this.to.next(t),e.on(\"out\",u.out)}),i.wire=i.wire||n}}function n(n){if(n&&n.url){var t=n.url.replace(\"http\",\"ws\"),o=n.wire=new i.WebSocket(t);return o.onclose=function(){e.on(\"bye\",n),a(n)},o.onerror=function(t){a(n),t&&t.code},o.onopen=function(){u.hi(n)},o.onmessage=function(t){t&&(r.inLength=(r.inLength||0)+(t.data||t).length,u.hear(t.data||t,n))},o}}function a(t){clearTimeout(t.defer),t.defer=setTimeout(function(){n(t)},2e3)}})})(x,\"./adapters/websocket\")}();","var Gun = require('gun')\nvar createGunTransport = require('./gun-transport')\n\nmodule.exports = createGunTransport(Gun)"],"sourceRoot":""}