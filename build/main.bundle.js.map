{"version":3,"sources":["webpack://ReduxP2PGunTransport/webpack/universalModuleDefinition","webpack://ReduxP2PGunTransport/webpack/bootstrap","webpack://ReduxP2PGunTransport/(webpack)/buildin/global.js","webpack://ReduxP2PGunTransport/./gun-transport.js","webpack://ReduxP2PGunTransport/(webpack)/buildin/module.js","webpack://ReduxP2PGunTransport/./node_modules/process/browser.js","webpack://ReduxP2PGunTransport/./node_modules/gun/gun.js","webpack://ReduxP2PGunTransport/./browser.js","webpack://ReduxP2PGunTransport/./node_modules/node-libs-browser/node_modules/events/events.js","webpack://ReduxP2PGunTransport/./node_modules/inherits/inherits_browser.js","webpack://ReduxP2PGunTransport/./node_modules/util/support/isBufferBrowser.js","webpack://ReduxP2PGunTransport/./node_modules/util/util.js","webpack://ReduxP2PGunTransport/./node_modules/gun/gun.min.js","webpack://ReduxP2PGunTransport/./node.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","eval","e","_typeof","util","EventEmitter","Gun","GunDbTransport","opts","_this","gun","room","map","on","objAction","action","JSON","parse","emit","id","inherits","replicate","actionMsg","gunObj","stringify","set","webpackPolyfill","deprecate","paths","children","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","push","apply","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","global","console","log","USE","arg","slice","R","mod","path","split","toString","replace","common","Type","fns","fn","is","bi","b","Boolean","num","list_is","parseFloat","Infinity","text","ify","random","charAt","Math","floor","match","=","obj","has","toLowerCase","list","indexOf","f","fuzzy","slit","sort","k","A","B","_","obj_map","index","constructor","put","v","del","as","u","obj_is","obj_has","to","from","copy","empty","keys","x","ll","lle","fn_is","ii","time","Date","getTime","onto","tag","next","tmp","be","the","last","back","Lexical","machineState","incomingState","currentState","incomingValue","currentValue","defer","historical","converge","incoming","state","current","err","Val","text_is","bi_is","num_is","rel","rel_","obj_put","Node","soul_","soul","text_random","cb","node","obj_del","State","N","drift","D","perf","performance","timing","navigationStart","N_","lex","obj_as","val","obj_copy","opt","Graph","nf","obj_empty","at","arr","seen","graph","valid","prev","invalid","join","lack","time_is","dup","max","age","check","pass","track","it","was","now","chain","toJSON","HAM","ask","msg","text_rand","out","obj_to","verify","ctx","vertex","known","machine","diff","souls","merge","cat","super","async","ack","each","and","aeach","stop","@","_soul","_has","how","peers","url","uuid","state_lex","debug","w","yes","output","I",".","input","ev","change","node_","_id","echo","not","relate","#","neat","event","reverb","data","via","proxy","sub","use","$","cache","stun","batch","no","res","PUT","tmp2","ref","iife","at_","solve","any","ok","coat","wait","eas","act","subs","n_","fields","MAPOF","item","store","localStorage","setItem","removeItem","getItem","file","gap","flush","disk","send","lS","prefix","acks","count","retry","Mesh","mesh","say","hear","raw","peer","hash","wire","readyState","OPEN","msh","hi","charCodeAt","WebSocket","websocket","webkitWebSocket","mozWebSocket","open","onclose","reconnect","onerror","error","code","onopen","onmessage","inLength","createGunTransport","_events","_maxListeners","undefined","isFunction","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","type","er","handler","context","listener","newListener","warned","trace","fired","position","splice","listenerCount","evlistener","emitter","ctor","superCtor","super_","writable","configurable","TempCtor","fill","readUInt8","formatRegExp","format","isString","objects","inspect","str","String","Number","isNull","noDeprecation","throwDeprecation","traceDeprecation","debugEnviron","debugs","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","ret","primitive","simple","isNumber","formatPrimitive","visibleKeys","forEach","idx","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","RegExp","isDate","base","braces","isArray","toUTCString","formatProperty","formatArray","pop","reduce","cur","numLinesEst","reduceToSingleString","desc","getOwnPropertyDescriptor","line","substr","ar","re","objectToString","pad","debuglog","NODE_DEBUG","toUpperCase","test","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","prop","getHours","getMinutes","getSeconds","getDate","getMonth","origin","add","h","a","y","GUN_ENV"],"mappings":"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","file":"main.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxP2PGunTransport\"] = factory();\n\telse\n\t\troot[\"ReduxP2PGunTransport\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var util = require(\"util\");\nvar EventEmitter = require(\"events\").EventEmitter;\n\n//Receives the Gun constructor (different for node and browser)\nfunction createGunTransport(Gun) {\n    util.inherits(GunDbTransport, EventEmitter);\n\n    function GunDbTransport(opts) {\n        if (!(this instanceof GunDbTransport)) return new GunDbTransport(opts);\n        this.gun = Gun(opts);\n        this.opts = opts || {};\n        this.room = this.opts.room || \"lounge\";\n        //create subscription to items in actions collection\n        this.gun\n            .get(this.room).get(\"actions\")\n            .map()\n            .on(objAction => {\n                let action = JSON.parse(objAction.action);\n                this.emit(\"action\", { id: objAction.id, action: action });\n            });\n    }\n\n    GunDbTransport.prototype.replicate = function(actionMsg) {\n        const gunObj = {\n            id: actionMsg.id,\n            action: JSON.stringify(actionMsg.action)\n        };\n        this.gun.get(this.room).get(\"actions\").set(gunObj);\n    };\n\n    return GunDbTransport;\n}\n\nmodule.exports = createGunTransport;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",";(function(){\r\n\r\n\t/* UNBUILD */\r\n\tvar root;\r\n\tif(typeof window !== \"undefined\"){ root = window }\r\n\tif(typeof global !== \"undefined\"){ root = global }\r\n\troot = root || {};\r\n\tvar console = root.console || {log: function(){}};\r\n\tfunction USE(arg){\r\n\t\treturn arg.slice? USE[R(arg)] : function(mod, path){\r\n\t\t\targ(mod = {exports: {}});\r\n\t\t\tUSE[R(path)] = mod.exports;\r\n\t\t}\r\n\t\tfunction R(p){\r\n\t\t\treturn p.split('/').slice(-1).toString().replace('.js','');\r\n\t\t}\r\n\t}\r\n\tif(typeof module !== \"undefined\"){ var common = module }\r\n\t/* UNBUILD */\r\n\r\n\t;USE(function(module){\r\n\t\t// Generic javascript utilities.\r\n\t\tvar Type = {};\r\n\t\t//Type.fns = Type.fn = {is: function(fn){ return (!!fn && fn instanceof Function) }}\r\n\t\tType.fns = Type.fn = {is: function(fn){ return (!!fn && 'function' == typeof fn) }}\r\n\t\tType.bi = {is: function(b){ return (b instanceof Boolean || typeof b == 'boolean') }}\r\n\t\tType.num = {is: function(n){ return !list_is(n) && ((n - parseFloat(n) + 1) >= 0 || Infinity === n || -Infinity === n) }}\r\n\t\tType.text = {is: function(t){ return (typeof t == 'string') }}\r\n\t\tType.text.ify = function(t){\r\n\t\t\tif(Type.text.is(t)){ return t }\r\n\t\t\tif(typeof JSON !== \"undefined\"){ return JSON.stringify(t) }\r\n\t\t\treturn (t && t.toString)? t.toString() : t;\r\n\t\t}\r\n\t\tType.text.random = function(l, c){\r\n\t\t\tvar s = '';\r\n\t\t\tl = l || 24; // you are not going to make a 0 length random number, so no need to check type\r\n\t\t\tc = c || '0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz';\r\n\t\t\twhile(l > 0){ s += c.charAt(Math.floor(Math.random() * c.length)); l-- }\r\n\t\t\treturn s;\r\n\t\t}\r\n\t\tType.text.match = function(t, o){ var r = false;\r\n\t\t\tt = t || '';\r\n\t\t\to = Type.text.is(o)? {'=': o} : o || {}; // {'~', '=', '*', '<', '>', '+', '-', '?', '!'} // ignore case, exactly equal, anything after, lexically larger, lexically lesser, added in, subtacted from, questionable fuzzy match, and ends with.\r\n\t\t\tif(Type.obj.has(o,'~')){ t = t.toLowerCase(); o['='] = (o['='] || o['~']).toLowerCase() }\r\n\t\t\tif(Type.obj.has(o,'=')){ return t === o['='] }\r\n\t\t\tif(Type.obj.has(o,'*')){ if(t.slice(0, o['*'].length) === o['*']){ r = true; t = t.slice(o['*'].length) } else { return false }}\r\n\t\t\tif(Type.obj.has(o,'!')){ if(t.slice(-o['!'].length) === o['!']){ r = true } else { return false }}\r\n\t\t\tif(Type.obj.has(o,'+')){\r\n\t\t\t\tif(Type.list.map(Type.list.is(o['+'])? o['+'] : [o['+']], function(m){\r\n\t\t\t\t\tif(t.indexOf(m) >= 0){ r = true } else { return true }\r\n\t\t\t\t})){ return false }\r\n\t\t\t}\r\n\t\t\tif(Type.obj.has(o,'-')){\r\n\t\t\t\tif(Type.list.map(Type.list.is(o['-'])? o['-'] : [o['-']], function(m){\r\n\t\t\t\t\tif(t.indexOf(m) < 0){ r = true } else { return true }\r\n\t\t\t\t})){ return false }\r\n\t\t\t}\r\n\t\t\tif(Type.obj.has(o,'>')){ if(t > o['>']){ r = true } else { return false }}\r\n\t\t\tif(Type.obj.has(o,'<')){ if(t < o['<']){ r = true } else { return false }}\r\n\t\t\tfunction fuzzy(t,f){ var n = -1, i = 0, c; for(;c = f[i++];){ if(!~(n = t.indexOf(c, n+1))){ return false }} return true } // via http://stackoverflow.com/questions/9206013/javascript-fuzzy-search\r\n\t\t\tif(Type.obj.has(o,'?')){ if(fuzzy(t, o['?'])){ r = true } else { return false }} // change name!\r\n\t\t\treturn r;\r\n\t\t}\r\n\t\tType.list = {is: function(l){ return (l instanceof Array) }}\r\n\t\tType.list.slit = Array.prototype.slice;\r\n\t\tType.list.sort = function(k){ // creates a new sort function based off some key\r\n\t\t\treturn function(A,B){\r\n\t\t\t\tif(!A || !B){ return 0 } A = A[k]; B = B[k];\r\n\t\t\t\tif(A < B){ return -1 }else if(A > B){ return 1 }\r\n\t\t\t\telse { return 0 }\r\n\t\t\t}\r\n\t\t}\r\n\t\tType.list.map = function(l, c, _){ return obj_map(l, c, _) }\r\n\t\tType.list.index = 1; // change this to 0 if you want non-logical, non-mathematical, non-matrix, non-convenient array notation\r\n\t\tType.obj = {is: function(o){ return o? (o instanceof Object && o.constructor === Object) || Object.prototype.toString.call(o).match(/^\\[object (\\w+)\\]$/)[1] === 'Object' : false }}\r\n\t\tType.obj.put = function(o, k, v){ return (o||{})[k] = v, o }\r\n\t\tType.obj.has = function(o, k){ return o && Object.prototype.hasOwnProperty.call(o, k) }\r\n\t\tType.obj.del = function(o, k){\r\n\t\t\tif(!o){ return }\r\n\t\t\to[k] = null;\r\n\t\t\tdelete o[k];\r\n\t\t\treturn o;\r\n\t\t}\r\n\t\tType.obj.as = function(o, k, v, u){ return o[k] = o[k] || (u === v? {} : v) }\r\n\t\tType.obj.ify = function(o){\r\n\t\t\tif(obj_is(o)){ return o }\r\n\t\t\ttry{o = JSON.parse(o);\r\n\t\t\t}catch(e){o={}};\r\n\t\t\treturn o;\r\n\t\t}\r\n\t\t;(function(){ var u;\r\n\t\t\tfunction map(v,k){\r\n\t\t\t\tif(obj_has(this,k) && u !== this[k]){ return }\r\n\t\t\t\tthis[k] = v;\r\n\t\t\t}\r\n\t\t\tType.obj.to = function(from, to){\r\n\t\t\t\tto = to || {};\r\n\t\t\t\tobj_map(from, map, to);\r\n\t\t\t\treturn to;\r\n\t\t\t}\r\n\t\t}());\r\n\t\tType.obj.copy = function(o){ // because http://web.archive.org/web/20140328224025/http://jsperf.com/cloning-an-object/2\r\n\t\t\treturn !o? o : JSON.parse(JSON.stringify(o)); // is shockingly faster than anything else, and our data has to be a subset of JSON anyways!\r\n\t\t}\r\n\t\t;(function(){\r\n\t\t\tfunction empty(v,i){ var n = this.n;\r\n\t\t\t\tif(n && (i === n || (obj_is(n) && obj_has(n, i)))){ return }\r\n\t\t\t\tif(i){ return true }\r\n\t\t\t}\r\n\t\t\tType.obj.empty = function(o, n){\r\n\t\t\t\tif(!o){ return true }\r\n\t\t\t\treturn obj_map(o,empty,{n:n})? false : true;\r\n\t\t\t}\r\n\t\t}());\r\n\t\t;(function(){\r\n\t\t\tfunction t(k,v){\r\n\t\t\t\tif(2 === arguments.length){\r\n\t\t\t\t\tt.r = t.r || {};\r\n\t\t\t\t\tt.r[k] = v;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} t.r = t.r || [];\r\n\t\t\t\tt.r.push(k);\r\n\t\t\t};\r\n\t\t\tvar keys = Object.keys;\r\n\t\t\tType.obj.map = function(l, c, _){\r\n\t\t\t\tvar u, i = 0, x, r, ll, lle, f = fn_is(c);\r\n\t\t\t\tt.r = null;\r\n\t\t\t\tif(keys && obj_is(l)){\r\n\t\t\t\t\tll = keys(l); lle = true;\r\n\t\t\t\t}\r\n\t\t\t\tif(list_is(l) || ll){\r\n\t\t\t\t\tx = (ll || l).length;\r\n\t\t\t\t\tfor(;i < x; i++){\r\n\t\t\t\t\t\tvar ii = (i + Type.list.index);\r\n\t\t\t\t\t\tif(f){\r\n\t\t\t\t\t\t\tr = lle? c.call(_ || this, l[ll[i]], ll[i], t) : c.call(_ || this, l[i], ii, t);\r\n\t\t\t\t\t\t\tif(r !== u){ return r }\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//if(Type.test.is(c,l[i])){ return ii } // should implement deep equality testing!\r\n\t\t\t\t\t\t\tif(c === l[lle? ll[i] : i]){ return ll? ll[i] : ii } // use this for now\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor(i in l){\r\n\t\t\t\t\t\tif(f){\r\n\t\t\t\t\t\t\tif(obj_has(l,i)){\r\n\t\t\t\t\t\t\t\tr = _? c.call(_, l[i], i, t) : c(l[i], i, t);\r\n\t\t\t\t\t\t\t\tif(r !== u){ return r }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//if(a.test.is(c,l[i])){ return i } // should implement deep equality testing!\r\n\t\t\t\t\t\t\tif(c === l[i]){ return i } // use this for now\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn f? t.r : Type.list.index? 0 : -1;\r\n\t\t\t}\r\n\t\t}());\r\n\t\tType.time = {};\r\n\t\tType.time.is = function(t){ return t? t instanceof Date : (+new Date().getTime()) }\r\n\r\n\t\tvar fn_is = Type.fn.is;\r\n\t\tvar list_is = Type.list.is;\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_has = obj.has, obj_map = obj.map;\r\n\t\tmodule.exports = Type;\r\n\t})(USE, './type');\r\n\r\n\t;USE(function(module){\r\n\t\t// On event emitter generic javascript utility.\r\n\t\tmodule.exports = function onto(tag, arg, as){\r\n\t\t\tif(!tag){ return {to: onto} }\r\n\t\t\tvar u, tag = (this.tag || (this.tag = {}))[tag] ||\r\n\t\t\t(this.tag[tag] = {tag: tag, to: onto._ = {\r\n\t\t\t\tnext: function(arg){ var tmp;\r\n\t\t\t\t\tif((tmp = this.to)){ \r\n\t\t\t\t\t\ttmp.next(arg);\r\n\t\t\t\t}}\r\n\t\t\t}});\r\n\t\t\tif(arg instanceof Function){\r\n\t\t\t\tvar be = {\r\n\t\t\t\t\toff: onto.off || \r\n\t\t\t\t\t(onto.off = function(){\r\n\t\t\t\t\t\tif(this.next === onto._.next){ return !0 }\r\n\t\t\t\t\t\tif(this === this.the.last){\r\n\t\t\t\t\t\t\tthis.the.last = this.back;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.to.back = this.back;\r\n\t\t\t\t\t\tthis.next = onto._.next;\r\n\t\t\t\t\t\tthis.back.to = this.to;\r\n\t\t\t\t\t\tif(this.the.last === this.the){\r\n\t\t\t\t\t\t\tdelete this.on.tag[this.the.tag];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tto: onto._,\r\n\t\t\t\t\tnext: arg,\r\n\t\t\t\t\tthe: tag,\r\n\t\t\t\t\ton: this,\r\n\t\t\t\t\tas: as,\r\n\t\t\t\t};\r\n\t\t\t\t(be.back = tag.last || tag).to = be;\r\n\t\t\t\treturn tag.last = be;\r\n\t\t\t}\r\n\t\t\tif((tag = tag.to) && u !== arg){ tag.next(arg) }\r\n\t\t\treturn tag;\r\n\t\t};\r\n\t})(USE, './onto');\r\n\r\n\t;USE(function(module){\r\n\t\t/* Based on the Hypothetical Amnesia Machine thought experiment */\r\n\t\tfunction HAM(machineState, incomingState, currentState, incomingValue, currentValue){\r\n\t\t\tif(machineState < incomingState){\r\n\t\t\t\treturn {defer: true}; // the incoming value is outside the boundary of the machine's state, it must be reprocessed in another state.\r\n\t\t\t}\r\n\t\t\tif(incomingState < currentState){\r\n\t\t\t\treturn {historical: true}; // the incoming value is within the boundary of the machine's state, but not within the range.\r\n\r\n\t\t\t}\r\n\t\t\tif(currentState < incomingState){\r\n\t\t\t\treturn {converge: true, incoming: true}; // the incoming value is within both the boundary and the range of the machine's state.\r\n\r\n\t\t\t}\r\n\t\t\tif(incomingState === currentState){\r\n\t\t\t\tincomingValue = Lexical(incomingValue) || \"\";\r\n\t\t\t\tcurrentValue = Lexical(currentValue) || \"\";\r\n\t\t\t\tif(incomingValue === currentValue){ // Note: while these are practically the same, the deltas could be technically different\r\n\t\t\t\t\treturn {state: true};\r\n\t\t\t\t}\r\n\t\t\t\t/*\r\n\t\t\t\t\tThe following is a naive implementation, but will always work.\r\n\t\t\t\t\tNever change it unless you have specific needs that absolutely require it.\r\n\t\t\t\t\tIf changed, your data will diverge unless you guarantee every peer's algorithm has also been changed to be the same.\r\n\t\t\t\t\tAs a result, it is highly discouraged to modify despite the fact that it is naive,\r\n\t\t\t\t\tbecause convergence (data integrity) is generally more important.\r\n\t\t\t\t\tAny difference in this algorithm must be given a new and different name.\r\n\t\t\t\t*/\r\n\t\t\t\tif(incomingValue < currentValue){ // Lexical only works on simple value types!\r\n\t\t\t\t\treturn {converge: true, current: true};\r\n\t\t\t\t}\r\n\t\t\t\tif(currentValue < incomingValue){ // Lexical only works on simple value types!\r\n\t\t\t\t\treturn {converge: true, incoming: true};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {err: \"Invalid CRDT Data: \"+ incomingValue +\" to \"+ currentValue +\" at \"+ incomingState +\" to \"+ currentState +\"!\"};\r\n\t\t}\r\n\t\tif(typeof JSON === 'undefined'){\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'JSON is not included in this browser. Please load it first: ' +\r\n\t\t\t\t'ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js'\r\n\t\t\t);\r\n\t\t}\r\n\t\tvar Lexical = JSON.stringify, undefined;\r\n\t\tmodule.exports = HAM;\r\n\t})(USE, './HAM');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Val = {};\r\n\t\tVal.is = function(v){ // Valid values are a subset of JSON: null, binary, number (!Infinity), text, or a soul relation. Arrays need special algorithms to handle concurrency, so they are not supported directly. Use an extension that supports them if needed but research their problems first.\r\n\t\t\tif(v === u){ return false }\r\n\t\t\tif(v === null){ return true } // \"deletes\", nulling out keys.\r\n\t\t\tif(v === Infinity){ return false } // we want this to be, but JSON does not support it, sad face.\r\n\t\t\tif(text_is(v) // by \"text\" we mean strings.\r\n\t\t\t|| bi_is(v) // by \"binary\" we mean boolean.\r\n\t\t\t|| num_is(v)){ // by \"number\" we mean integers or decimals. \r\n\t\t\t\treturn true; // simple values are valid.\r\n\t\t\t}\r\n\t\t\treturn Val.rel.is(v) || false; // is the value a soul relation? Then it is valid and return it. If not, everything else remaining is an invalid data type. Custom extensions can be built on top of these primitives to support other types.\r\n\t\t}\r\n\t\tVal.rel = {_: '#'};\r\n\t\t;(function(){\r\n\t\t\tVal.rel.is = function(v){ // this defines whether an object is a soul relation or not, they look like this: {'#': 'UUID'}\r\n\t\t\t\tif(v && v[rel_] && !v._ && obj_is(v)){ // must be an object.\r\n\t\t\t\t\tvar o = {};\r\n\t\t\t\t\tobj_map(v, map, o);\r\n\t\t\t\t\tif(o.id){ // a valid id was found.\r\n\t\t\t\t\t\treturn o.id; // yay! Return it.\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false; // the value was not a valid soul relation.\r\n\t\t\t}\r\n\t\t\tfunction map(s, k){ var o = this; // map over the object...\r\n\t\t\t\tif(o.id){ return o.id = false } // if ID is already defined AND we're still looping through the object, it is considered invalid.\r\n\t\t\t\tif(k == rel_ && text_is(s)){ // the key should be '#' and have a text value.\r\n\t\t\t\t\to.id = s; // we found the soul!\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn o.id = false; // if there exists anything else on the object that isn't the soul, then it is considered invalid.\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\t\tVal.rel.ify = function(t){ return obj_put({}, rel_, t) } // convert a soul into a relation and return it.\r\n\t\tType.obj.has._ = '.';\r\n\t\tvar rel_ = Val.rel._, u;\r\n\t\tvar bi_is = Type.bi.is;\r\n\t\tvar num_is = Type.num.is;\r\n\t\tvar text_is = Type.text.is;\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_put = obj.put, obj_map = obj.map;\r\n\t\tmodule.exports = Val;\r\n\t})(USE, './val');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Val = USE('./val');\r\n\t\tvar Node = {_: '_'};\r\n\t\tNode.soul = function(n, o){ return (n && n._ && n._[o || soul_]) } // convenience function to check to see if there is a soul on a node and return it.\r\n\t\tNode.soul.ify = function(n, o){ // put a soul on an object.\r\n\t\t\to = (typeof o === 'string')? {soul: o} : o || {};\r\n\t\t\tn = n || {}; // make sure it exists.\r\n\t\t\tn._ = n._ || {}; // make sure meta exists.\r\n\t\t\tn._[soul_] = o.soul || n._[soul_] || text_random(); // put the soul on it.\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\tNode.soul._ = Val.rel._;\r\n\t\t;(function(){\r\n\t\t\tNode.is = function(n, cb, as){ var s; // checks to see if an object is a valid node.\r\n\t\t\t\tif(!obj_is(n)){ return false } // must be an object.\r\n\t\t\t\tif(s = Node.soul(n)){ // must have a soul on it.\r\n\t\t\t\t\treturn !obj_map(n, map, {as:as,cb:cb,s:s,n:n});\r\n\t\t\t\t}\r\n\t\t\t\treturn false; // nope! This was not a valid node.\r\n\t\t\t}\r\n\t\t\tfunction map(v, k){ // we invert this because the way we check for this is via a negation.\r\n\t\t\t\tif(k === Node._){ return } // skip over the metadata.\r\n\t\t\t\tif(!Val.is(v)){ return true } // it is true that this is an invalid node.\r\n\t\t\t\tif(this.cb){ this.cb.call(this.as, v, k, this.n, this.s) } // optionally callback each key/value.\r\n\t\t\t}\r\n\t\t}());\r\n\t\t;(function(){\r\n\t\t\tNode.ify = function(obj, o, as){ // returns a node from a shallow object.\r\n\t\t\t\tif(!o){ o = {} }\r\n\t\t\t\telse if(typeof o === 'string'){ o = {soul: o} }\r\n\t\t\t\telse if(o instanceof Function){ o = {map: o} }\r\n\t\t\t\tif(o.map){ o.node = o.map.call(as, obj, u, o.node || {}) }\r\n\t\t\t\tif(o.node = Node.soul.ify(o.node || {}, o)){\r\n\t\t\t\t\tobj_map(obj, map, {o:o,as:as});\r\n\t\t\t\t}\r\n\t\t\t\treturn o.node; // This will only be a valid node if the object wasn't already deep!\r\n\t\t\t}\r\n\t\t\tfunction map(v, k){ var o = this.o, tmp, u; // iterate over each key/value.\r\n\t\t\t\tif(o.map){\r\n\t\t\t\t\ttmp = o.map.call(this.as, v, ''+k, o.node);\r\n\t\t\t\t\tif(u === tmp){\r\n\t\t\t\t\t\tobj_del(o.node, k);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif(o.node){ o.node[k] = tmp }\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(Val.is(v)){\r\n\t\t\t\t\to.node[k] = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_del = obj.del, obj_map = obj.map;\r\n\t\tvar text = Type.text, text_random = text.random;\r\n\t\tvar soul_ = Node.soul._;\r\n\t\tvar u;\r\n\t\tmodule.exports = Node;\r\n\t})(USE, './node');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Node = USE('./node');\r\n\t\tfunction State(){\r\n\t\t\tvar t;\r\n\t\t\t/*if(perf){\r\n\t\t\t\tt = start + perf.now(); // Danger: Accuracy decays significantly over time, even if precise.\r\n\t\t\t} else {*/\r\n\t\t\t\tt = time();\r\n\t\t\t//}\r\n\t\t\tif(last < t){\r\n\t\t\t\treturn N = 0, last = t + State.drift;\r\n\t\t\t}\r\n\t\t\treturn last = t + ((N += 1) / D) + State.drift;\r\n\t\t}\r\n\t\tvar time = Type.time.is, last = -Infinity, N = 0, D = 1000; // WARNING! In the future, on machines that are D times faster than 2016AD machines, you will want to increase D by another several orders of magnitude so the processing speed never out paces the decimal resolution (increasing an integer effects the state accuracy).\r\n\t\tvar perf = (typeof performance !== 'undefined')? (performance.timing && performance) : false, start = (perf && perf.timing && perf.timing.navigationStart) || (perf = false);\r\n\t\tState._ = '>';\r\n\t\tState.drift = 0;\r\n\t\tState.is = function(n, k, o){ // convenience function to get the state on a key on a node and return it.\r\n\t\t\tvar tmp = (k && n && n[N_] && n[N_][State._]) || o;\r\n\t\t\tif(!tmp){ return }\r\n\t\t\treturn num_is(tmp = tmp[k])? tmp : -Infinity;\r\n\t\t}\r\n\t\tState.lex = function(){ return State().toString(36).replace('.','') }\r\n\t\tState.ify = function(n, k, s, v, soul){ // put a key's state on a node.\r\n\t\t\tif(!n || !n[N_]){ // reject if it is not node-like.\r\n\t\t\t\tif(!soul){ // unless they passed a soul\r\n\t\t\t\t\treturn; \r\n\t\t\t\t}\r\n\t\t\t\tn = Node.soul.ify(n, soul); // then make it so!\r\n\t\t\t} \r\n\t\t\tvar tmp = obj_as(n[N_], State._); // grab the states data.\r\n\t\t\tif(u !== k && k !== N_){\r\n\t\t\t\tif(num_is(s)){\r\n\t\t\t\t\ttmp[k] = s; // add the valid state.\r\n\t\t\t\t}\r\n\t\t\t\tif(u !== v){ // Note: Not its job to check for valid values!\r\n\t\t\t\t\tn[k] = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\tState.to = function(from, k, to){\r\n\t\t\tvar val = from[k];\r\n\t\t\tif(obj_is(val)){\r\n\t\t\t\tval = obj_copy(val);\r\n\t\t\t}\r\n\t\t\treturn State.ify(to, k, State.is(from, k), val, Node.soul(from));\r\n\t\t}\r\n\t\t;(function(){\r\n\t\t\tState.map = function(cb, s, as){ var u; // for use with Node.ify\r\n\t\t\t\tvar o = obj_is(o = cb || s)? o : null;\r\n\t\t\t\tcb = fn_is(cb = cb || s)? cb : null;\r\n\t\t\t\tif(o && !cb){\r\n\t\t\t\t\ts = num_is(s)? s : State();\r\n\t\t\t\t\to[N_] = o[N_] || {};\r\n\t\t\t\t\tobj_map(o, map, {o:o,s:s});\r\n\t\t\t\t\treturn o;\r\n\t\t\t\t}\r\n\t\t\t\tas = as || obj_is(s)? s : u;\r\n\t\t\t\ts = num_is(s)? s : State();\r\n\t\t\t\treturn function(v, k, o, opt){\r\n\t\t\t\t\tif(!cb){\r\n\t\t\t\t\t\tmap.call({o: o, s: s}, v,k);\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcb.call(as || this || {}, v, k, o, opt);\r\n\t\t\t\t\tif(obj_has(o,k) && u === o[k]){ return }\r\n\t\t\t\t\tmap.call({o: o, s: s}, v,k);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction map(v,k){\r\n\t\t\t\tif(N_ === k){ return }\r\n\t\t\t\tState.ify(this.o, k, this.s) ;\r\n\t\t\t}\r\n\t\t}());\r\n\t\tvar obj = Type.obj, obj_as = obj.as, obj_has = obj.has, obj_is = obj.is, obj_map = obj.map, obj_copy = obj.copy;\r\n\t\tvar num = Type.num, num_is = num.is;\r\n\t\tvar fn = Type.fn, fn_is = fn.is;\r\n\t\tvar N_ = Node._, u;\r\n\t\tmodule.exports = State;\r\n\t})(USE, './state');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tvar Val = USE('./val');\r\n\t\tvar Node = USE('./node');\r\n\t\tvar Graph = {};\r\n\t\t;(function(){\r\n\t\t\tGraph.is = function(g, cb, fn, as){ // checks to see if an object is a valid graph.\r\n\t\t\t\tif(!g || !obj_is(g) || obj_empty(g)){ return false } // must be an object.\r\n\t\t\t\treturn !obj_map(g, map, {cb:cb,fn:fn,as:as}); // makes sure it wasn't an empty object.\r\n\t\t\t}\r\n\t\t\tfunction map(n, s){ // we invert this because the way'? we check for this is via a negation.\r\n\t\t\t\tif(!n || s !== Node.soul(n) || !Node.is(n, this.fn, this.as)){ return true } // it is true that this is an invalid graph.\r\n\t\t\t\tif(!this.cb){ return }\r\n\t\t\t\tnf.n = n; nf.as = this.as; // sequential race conditions aren't races.\r\n\t\t\t\tthis.cb.call(nf.as, n, s, nf);\r\n\t\t\t}\r\n\t\t\tfunction nf(fn){ // optional callback for each node.\r\n\t\t\t\tif(fn){ Node.is(nf.n, fn, nf.as) } // where we then have an optional callback for each key/value.\r\n\t\t\t}\r\n\t\t}());\r\n\t\t;(function(){\r\n\t\t\tGraph.ify = function(obj, env, as){\r\n\t\t\t\tvar at = {path: [], obj: obj};\r\n\t\t\t\tif(!env){\r\n\t\t\t\t\tenv = {};\r\n\t\t\t\t} else\r\n\t\t\t\tif(typeof env === 'string'){\r\n\t\t\t\t\tenv = {soul: env};\r\n\t\t\t\t} else\r\n\t\t\t\tif(env instanceof Function){\r\n\t\t\t\t\tenv.map = env;\r\n\t\t\t\t}\r\n\t\t\t\tif(env.soul){\r\n\t\t\t\t\tat.rel = Val.rel.ify(env.soul);\r\n\t\t\t\t}\r\n\t\t\t\tenv.graph = env.graph || {};\r\n\t\t\t\tenv.seen = env.seen || [];\r\n\t\t\t\tenv.as = env.as || as;\r\n\t\t\t\tnode(env, at);\r\n\t\t\t\tenv.root = at.node;\r\n\t\t\t\treturn env.graph;\r\n\t\t\t}\r\n\t\t\tfunction node(env, at){ var tmp;\r\n\t\t\t\tif(tmp = seen(env, at)){ return tmp }\r\n\t\t\t\tat.env = env;\r\n\t\t\t\tat.soul = soul;\r\n\t\t\t\tif(Node.ify(at.obj, map, at)){\r\n\t\t\t\t\t//at.rel = at.rel || Val.rel.ify(Node.soul(at.node));\r\n\t\t\t\t\tenv.graph[Val.rel.is(at.rel)] = at.node;\r\n\t\t\t\t}\r\n\t\t\t\treturn at;\r\n\t\t\t}\r\n\t\t\tfunction map(v,k,n){\r\n\t\t\t\tvar at = this, env = at.env, is, tmp;\r\n\t\t\t\tif(Node._ === k && obj_has(v,Val.rel._)){\r\n\t\t\t\t\treturn n._; // TODO: Bug?\r\n\t\t\t\t}\r\n\t\t\t\tif(!(is = valid(v,k,n, at,env))){ return }\r\n\t\t\t\tif(!k){\r\n\t\t\t\t\tat.node = at.node || n || {};\r\n\t\t\t\t\tif(obj_has(v, Node._)){ // && Node.soul(v) ? for safety ?\r\n\t\t\t\t\t\tat.node._ = obj_copy(v._);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tat.node = Node.soul.ify(at.node, Val.rel.is(at.rel));\r\n\t\t\t\t\tat.rel = at.rel || Val.rel.ify(Node.soul(at.node));\r\n\t\t\t\t}\r\n\t\t\t\tif(tmp = env.map){\r\n\t\t\t\t\ttmp.call(env.as || {}, v,k,n, at);\r\n\t\t\t\t\tif(obj_has(n,k)){\r\n\t\t\t\t\t\tv = n[k];\r\n\t\t\t\t\t\tif(u === v){\r\n\t\t\t\t\t\t\tobj_del(n, k);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!(is = valid(v,k,n, at,env))){ return }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!k){ return at.node }\r\n\t\t\t\tif(true === is){\r\n\t\t\t\t\treturn v;\r\n\t\t\t\t}\r\n\t\t\t\ttmp = node(env, {obj: v, path: at.path.concat(k)});\r\n\t\t\t\tif(!tmp.node){ return }\r\n\t\t\t\treturn tmp.rel; //{'#': Node.soul(tmp.node)};\r\n\t\t\t}\r\n\t\t\tfunction soul(id){ var at = this;\r\n\t\t\t\tvar prev = Val.rel.is(at.rel), graph = at.env.graph;\r\n\t\t\t\tat.rel = at.rel || Val.rel.ify(id);\r\n\t\t\t\tat.rel[Val.rel._] = id;\r\n\t\t\t\tif(at.node && at.node[Node._]){\r\n\t\t\t\t\tat.node[Node._][Val.rel._] = id;\r\n\t\t\t\t}\r\n\t\t\t\tif(obj_has(graph, prev)){\r\n\t\t\t\t\tgraph[id] = graph[prev];\r\n\t\t\t\t\tobj_del(graph, prev);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction valid(v,k,n, at,env){ var tmp;\r\n\t\t\t\tif(Val.is(v)){ return true }\r\n\t\t\t\tif(obj_is(v)){ return 1 }\r\n\t\t\t\tif(tmp = env.invalid){\r\n\t\t\t\t\tv = tmp.call(env.as || {}, v,k,n);\r\n\t\t\t\t\treturn valid(v,k,n, at,env);\r\n\t\t\t\t}\r\n\t\t\t\tenv.err = \"Invalid value at '\" + at.path.concat(k).join('.') + \"'!\";\r\n\t\t\t\tif(Type.list.is(v)){ env.err += \" Use `.set(item)` instead of an Array.\" }\r\n\t\t\t}\r\n\t\t\tfunction seen(env, at){\r\n\t\t\t\tvar arr = env.seen, i = arr.length, has;\r\n\t\t\t\twhile(i--){ has = arr[i];\r\n\t\t\t\t\tif(at.obj === has.obj){ return has }\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(at);\r\n\t\t\t}\r\n\t\t}());\r\n\t\tGraph.node = function(node){\r\n\t\t\tvar soul = Node.soul(node);\r\n\t\t\tif(!soul){ return }\r\n\t\t\treturn obj_put({}, soul, node);\r\n\t\t}\r\n\t\t;(function(){\r\n\t\t\tGraph.to = function(graph, root, opt){\r\n\t\t\t\tif(!graph){ return }\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\topt = opt || {seen: {}};\r\n\t\t\t\tobj_map(graph[root], map, {obj:obj, graph: graph, opt: opt});\r\n\t\t\t\treturn obj;\r\n\t\t\t}\r\n\t\t\tfunction map(v,k){ var tmp, obj;\r\n\t\t\t\tif(Node._ === k){\r\n\t\t\t\t\tif(obj_empty(v, Val.rel._)){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.obj[k] = obj_copy(v);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!(tmp = Val.rel.is(v))){\r\n\t\t\t\t\tthis.obj[k] = v;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(obj = this.opt.seen[tmp]){\r\n\t\t\t\t\tthis.obj[k] = obj;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.obj[k] = this.opt.seen[tmp] = Graph.to(this.graph, tmp, this.opt);\r\n\t\t\t}\r\n\t\t}());\r\n\t\tvar fn_is = Type.fn.is;\r\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_del = obj.del, obj_has = obj.has, obj_empty = obj.empty, obj_put = obj.put, obj_map = obj.map, obj_copy = obj.copy;\r\n\t\tvar u;\r\n\t\tmodule.exports = Graph;\r\n\t})(USE, './graph');\r\n\r\n\t;USE(function(module){\r\n\t\t// request / response module, for asking and acking messages.\r\n\t\tUSE('./onto'); // depends upon onto!\r\n\t\tmodule.exports = function ask(cb, as){\r\n\t\t\tif(!this.on){ return }\r\n\t\t\tif(!(cb instanceof Function)){\r\n\t\t\t\tif(!cb || !as){ return }\r\n\t\t\t\tvar id = cb['#'] || cb, tmp = (this.tag||empty)[id];\r\n\t\t\t\tif(!tmp){ return }\r\n\t\t\t\ttmp = this.on(id, as);\r\n\t\t\t\tclearTimeout(tmp.err);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar id = (as && as['#']) || Math.random().toString(36).slice(2);\r\n\t\t\tif(!cb){ return id }\r\n\t\t\tvar to = this.on(id, cb, as);\r\n\t\t\tto.err = to.err || setTimeout(function(){\r\n\t\t\t\tto.next({err: \"Error: No ACK received yet.\"});\r\n\t\t\t\tto.off();\r\n\t\t\t}, (this.opt||{}).lack || 9000);\r\n\t\t\treturn id;\r\n\t\t}\r\n\t})(USE, './ask');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('./type');\r\n\t\tfunction Dup(opt){\r\n\t\t\tvar dup = {s:{}};\r\n\t\t\topt = opt || {max: 1000, age: 1000 * 9};//1000 * 60 * 2};\r\n\t\t\tdup.check = function(id){ var tmp;\r\n\t\t\t\tif(!(tmp = dup.s[id])){ return false }\r\n\t\t\t\tif(tmp.pass){ return tmp.pass = false }\r\n\t\t\t\treturn dup.track(id);\r\n\t\t\t}\r\n\t\t\tdup.track = function(id, pass){\r\n\t\t\t\tvar it = dup.s[id] || (dup.s[id] = {});\r\n\t\t\t\tit.was = time_is();\r\n\t\t\t\tif(pass){ it.pass = true }\r\n\t\t\t\tif(!dup.to){\r\n\t\t\t\t\tdup.to = setTimeout(function(){\r\n\t\t\t\t\t\tvar now = time_is();\r\n\t\t\t\t\t\tType.obj.map(dup.s, function(it, id){\r\n\t\t\t\t\t\t\tif(opt.age > (now - it.was)){ return }\r\n\t\t\t\t\t\t\tType.obj.del(dup.s, id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tdup.to = null;\r\n\t\t\t\t\t}, opt.age + 9);\r\n\t\t\t\t}\r\n\t\t\t\treturn it;\r\n\t\t\t}\r\n\t\t\treturn dup;\r\n\t\t}\r\n\t\tvar time_is = Type.time.is;\r\n\t\tmodule.exports = Dup;\r\n\t})(USE, './dup');\r\n\r\n\t;USE(function(module){\r\n\r\n\t\tfunction Gun(o){\r\n\t\t\tif(o instanceof Gun){ return (this._ = {gun: this}).gun }\r\n\t\t\tif(!(this instanceof Gun)){ return new Gun(o) }\r\n\t\t\treturn Gun.create(this._ = {gun: this, opt: o});\r\n\t\t}\r\n\r\n\t\tGun.is = function(gun){ return (gun instanceof Gun) || (gun && gun._ && gun._.gun && true) || false }\r\n\r\n\t\tGun.version = 0.9;\r\n\r\n\t\tGun.chain = Gun.prototype;\r\n\t\tGun.chain.toJSON = function(){};\r\n\r\n\t\tvar Type = USE('./type');\r\n\t\tType.obj.to(Type, Gun);\r\n\t\tGun.HAM = USE('./HAM');\r\n\t\tGun.val = USE('./val');\r\n\t\tGun.node = USE('./node');\r\n\t\tGun.state = USE('./state');\r\n\t\tGun.graph = USE('./graph');\r\n\t\tGun.on = USE('./onto');\r\n\t\tGun.ask = USE('./ask');\r\n\t\tGun.dup = USE('./dup');\r\n\r\n\t\t;(function(){\r\n\t\t\tGun.create = function(at){\r\n\t\t\t\tat.root = at.root || at;\r\n\t\t\t\tat.graph = at.graph || {};\r\n\t\t\t\tat.on = at.on || Gun.on;\r\n\t\t\t\tat.ask = at.ask || Gun.ask;\r\n\t\t\t\tat.dup = at.dup || Gun.dup();\r\n\t\t\t\tvar gun = at.gun.opt(at.opt);\r\n\t\t\t\tif(!at.once){\r\n\t\t\t\t\tat.on('in', root, at);\r\n\t\t\t\t\tat.on('out', root, obj_to(at, {out: root}));\r\n\t\t\t\t\tGun.on('create', at);\r\n\t\t\t\t\tat.on('create', at);\r\n\t\t\t\t}\r\n\t\t\t\tat.once = 1;\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tfunction root(msg){\r\n\t\t\t\t//console.log(\"add to.next(at)\"); // TODO: MISSING FEATURE!!!\r\n\t\t\t\tvar ev = this, at = ev.as, gun = at.gun, dup, tmp;\r\n\t\t\t\t//if(!msg.gun){ msg.gun = at.gun }\r\n\t\t\t\tif(!(tmp = msg['#'])){ tmp = msg['#'] = text_rand(9) }\r\n\t\t\t\tif((dup = at.dup).check(tmp)){\r\n\t\t\t\t\tif(at.out === msg.out){\r\n\t\t\t\t\t\tmsg.out = u;\r\n\t\t\t\t\t\tev.to.next(msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdup.track(tmp);\r\n\t\t\t\t//msg = obj_to(msg);//, {gun: at.gun}); // can we delete this now?\r\n\t\t\t\tif(!at.ask(msg['@'], msg)){\r\n\t\t\t\t\tif(msg.get){\r\n\t\t\t\t\t\tGun.on.get(msg, gun);\r\n\t\t\t\t\t\t//at.on('get', get(msg));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msg.put){\r\n\t\t\t\t\t\tGun.on.put(msg, gun);\r\n\t\t\t\t\t\t//at.on('put', put(msg));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\tif(!at.out){\r\n\t\t\t\t\tmsg.out = root;\r\n\t\t\t\t\tat.on('out', msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\t;(function(){\r\n\t\t\tGun.on.put = function(msg, gun){\r\n\t\t\t\tvar at = gun._, ctx = {gun: gun, graph: at.graph, put: {}, map: {}, souls: {}, machine: Gun.state(), ack: msg['@']};\r\n\t\t\t\tif(!Gun.graph.is(msg.put, null, verify, ctx)){ ctx.err = \"Error: Invalid graph!\" }\r\n\t\t\t\tif(ctx.err){ return at.on('in', {'@': msg['#'], err: Gun.log(ctx.err) }) }\r\n\t\t\t\tobj_map(ctx.put, merge, ctx);\r\n\t\t\t\tif(!ctx.async){ \r\n\t\t\t\t\tat.stop = {}; // temporary fix till a better solution?\r\n\t\t\t\t\tobj_map(ctx.map, map, ctx)\r\n\t\t\t\t}\r\n\t\t\t\tif(u !== ctx.defer){\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tGun.on.put(msg, gun);\r\n\t\t\t\t\t}, ctx.defer - ctx.machine);\r\n\t\t\t\t}\r\n\t\t\t\tif(!ctx.diff){ return }\r\n\t\t\t\tat.on('put', obj_to(msg, {put: ctx.diff}));\r\n\t\t\t};\r\n\t\t\tfunction verify(val, key, node, soul){ var ctx = this;\r\n\t\t\t\tvar state = Gun.state.is(node, key), tmp;\r\n\t\t\t\tif(!state){ return ctx.err = \"Error: No state on '\"+key+\"' in node '\"+soul+\"'!\" }\r\n\t\t\t\tvar vertex = ctx.graph[soul] || empty, was = Gun.state.is(vertex, key, true), known = vertex[key];\r\n\t\t\t\tvar HAM = Gun.HAM(ctx.machine, state, was, val, known);\r\n\t\t\t\tif(!HAM.incoming){\r\n\t\t\t\t\tif(HAM.defer){ // pick the lowest\r\n\t\t\t\t\t\tctx.defer = (state < (ctx.defer || Infinity))? state : ctx.defer;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tctx.put[soul] = Gun.state.to(node, key, ctx.put[soul]);\r\n\t\t\t\t(ctx.diff || (ctx.diff = {}))[soul] = Gun.state.to(node, key, ctx.diff[soul]);\r\n\t\t\t\tctx.souls[soul] = true;\r\n\t\t\t}\r\n\t\t\tfunction merge(node, soul){\r\n\t\t\t\tvar ctx = this, cat = ctx.gun._, at = (cat.next || empty)[soul];\r\n\t\t\t\tif(!at){\r\n\t\t\t\t\tif(!(cat.opt||empty).super){\r\n\t\t\t\t\t\tctx.souls[soul] = false;\r\n\t\t\t\t\t\treturn; \r\n\t\t\t\t\t}\r\n\t\t\t\t\tat = (ctx.gun.get(soul)._);\r\n\t\t\t\t}\r\n\t\t\t\tvar msg = ctx.map[soul] = {\r\n\t\t\t\t\tput: node,\r\n\t\t\t\t\tget: soul,\r\n\t\t\t\t\tgun: at.gun\r\n\t\t\t\t}, as = {ctx: ctx, msg: msg};\r\n\t\t\t\tctx.async = !!cat.tag.node;\r\n\t\t\t\tif(ctx.ack){ msg['@'] = ctx.ack }\r\n\t\t\t\tobj_map(node, each, as);\r\n\t\t\t\tif(!ctx.async){ return }\r\n\t\t\t\tif(!ctx.and){\r\n\t\t\t\t\t// If it is async, we only need to setup on listener per context (ctx)\r\n\t\t\t\t\tcat.on('node', function(m){\r\n\t\t\t\t\t\tthis.to.next(m); // make sure to call other context's listeners.\r\n\t\t\t\t\t\tif(m !== ctx.map[m.get]){ return } // filter out events not from this context!\r\n\t\t\t\t\t\tctx.souls[m.get] = false; // set our many-async flag\r\n\t\t\t\t\t\tobj_map(m.put, aeach, m); // merge into view\r\n\t\t\t\t\t\tif(obj_map(ctx.souls, function(v){ if(v){ return v } })){ return } // if flag still outstanding, keep waiting.\r\n\t\t\t\t\t\tif(ctx.c){ return } ctx.c = 1; // failsafe for only being called once per context.\r\n\t\t\t\t\t\tthis.off();\r\n\t\t\t\t\t\tcat.stop = {}; // temporary fix till a better solution?\r\n\t\t\t\t\t\tobj_map(ctx.map, map, ctx); // all done, trigger chains.\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tctx.and = true;\r\n\t\t\t\tcat.on('node', msg); // each node on the current context's graph needs to be emitted though.\r\n\t\t\t}\r\n\t\t\tfunction each(val, key){\r\n\t\t\t\tvar ctx = this.ctx, graph = ctx.graph, msg = this.msg, soul = msg.get, node = msg.put, at = (msg.gun._), tmp;\r\n\t\t\t\tgraph[soul] = Gun.state.to(node, key, graph[soul]);\r\n\t\t\t\tif(ctx.async){ return }\r\n\t\t\t\tat.put = Gun.state.to(node, key, at.put);\r\n\t\t\t}\r\n\t\t\tfunction aeach(val, key){\r\n\t\t\t\tvar msg = this, node = msg.put, at = (msg.gun._);\r\n\t\t\t\tat.put = Gun.state.to(node, key, at.put);\r\n\t\t\t}\r\n\t\t\tfunction map(msg, soul){\r\n\t\t\t\tif(!msg.gun){ return }\r\n\t\t\t\t//console.log('map ->', soul, msg.put);\r\n\t\t\t\t(msg.gun._).on('in', msg);\r\n\t\t\t}\r\n\r\n\t\t\tGun.on.get = function(msg, gun){\r\n\t\t\t\tvar root = gun._, soul = msg.get[_soul], node = root.graph[soul], has = msg.get[_has], tmp;\r\n\t\t\t\tvar next = root.next || (root.next = {}), at = next[soul];\r\n\t\t\t\tif(!node || !at){ return root.on('get', msg) }\r\n\t\t\t\tif(has){\r\n\t\t\t\t\tif(!obj_has(node, has)){ return root.on('get', msg) }\r\n\t\t\t\t\tnode = Gun.state.to(node, has);\r\n\t\t\t\t\t// If we have a key in-memory, do we really need to fetch?\r\n\t\t\t\t\t// Maybe... in case the in-memory key we have is a local write\r\n\t\t\t\t\t// we still need to trigger a pull/merge from peers.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnode = Gun.obj.copy(node);\r\n\t\t\t\t}\r\n\t\t\t\tnode = Gun.graph.node(node);\r\n\t\t\t\t//tmp = at.ack;\r\n\t\t\t\troot.on('in', {\r\n\t\t\t\t\t'@': msg['#'],\r\n\t\t\t\t\thow: 'mem',\r\n\t\t\t\t\tput: node,\r\n\t\t\t\t\tgun: gun\r\n\t\t\t\t});\r\n\t\t\t\t//if(0 < tmp){\r\n\t\t\t\t//\treturn;\r\n\t\t\t\t//}\r\n\t\t\t\troot.on('get', msg);\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\t;(function(){\r\n\t\t\tGun.chain.opt = function(opt){\r\n\t\t\t\topt = opt || {};\r\n\t\t\t\tvar gun = this, at = gun._, tmp = opt.peers || opt;\r\n\t\t\t\tif(!obj_is(opt)){ opt = {} }\r\n\t\t\t\tif(!obj_is(at.opt)){ at.opt = opt }\r\n\t\t\t\tif(text_is(tmp)){ tmp = [tmp] }\r\n\t\t\t\tif(list_is(tmp)){\r\n\t\t\t\t\ttmp = obj_map(tmp, function(url, i, map){\r\n\t\t\t\t\t\tmap(url, {url: url});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(!obj_is(at.opt.peers)){ at.opt.peers = {}}\r\n\t\t\t\t\tat.opt.peers = obj_to(tmp, at.opt.peers);\r\n\t\t\t\t}\r\n\t\t\t\tat.opt.peers = at.opt.peers || {};\r\n\t\t\t\tobj_to(opt, at.opt); // copies options on to `at.opt` only if not already taken.\r\n\t\t\t\tGun.on('opt', at);\r\n\t\t\t\tat.opt.uuid = at.opt.uuid || function(){ return state_lex() + text_rand(12) }\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\tvar list_is = Gun.list.is;\r\n\t\tvar text = Gun.text, text_is = text.is, text_rand = text.random;\r\n\t\tvar obj = Gun.obj, obj_is = obj.is, obj_has = obj.has, obj_to = obj.to, obj_map = obj.map, obj_copy = obj.copy;\r\n\t\tvar state_lex = Gun.state.lex, _soul = Gun.val.rel._, _has = '.', node_ = Gun.node._, rel_is = Gun.val.rel.is;\r\n\t\tvar empty = {}, u;\r\n\r\n\t\tconsole.debug = function(i, s){ return (console.debug.i && i === console.debug.i && console.debug.i++) && (console.log.apply(console, arguments) || s) };\r\n\r\n\t\tGun.log = function(){ return (!Gun.log.off && console.log.apply(console, arguments)), [].slice.call(arguments).join(' ') }\r\n\t\tGun.log.once = function(w,s,o){ return (o = Gun.log.once)[w] = o[w] || 0, o[w]++ || Gun.log(s) }\r\n\r\n\t\t;\"Please do not remove these messages unless you are paying for a monthly sponsorship, thanks!\";\r\n\t\tGun.log.once(\"welcome\", \"Hello wonderful person! :) Thanks for using GUN, feel free to ask for help on https://gitter.im/amark/gun and ask StackOverflow questions tagged with 'gun'!\");\r\n\t\t;\"Please do not remove these messages unless you are paying for a monthly sponsorship, thanks!\";\r\n\t\t\r\n\t\tif(typeof window !== \"undefined\"){ window.Gun = Gun }\r\n\t\ttry{ if(typeof common !== \"undefined\"){ common.exports = Gun } }catch(e){}\r\n\t\tmodule.exports = Gun;\r\n\r\n\t\t/*Gun.on('opt', function(ctx){ // FOR TESTING PURPOSES\r\n\t\t\tthis.to.next(ctx);\r\n\t\t\tif(ctx.once){ return }\r\n\t\t\tctx.on('node', function(msg){\r\n\t\t\t\tvar to = this.to;\r\n\t\t\t\t//console.log(\">>>\", msg.put);\r\n\t\t\t\t//Gun.node.is(msg.put, function(v,k){ msg.put[k] = v + v });\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t//console.log(\"<<<<<\", msg.put);\r\n\t\t\t\t\tto.next(msg);\r\n\t\t\t\t},1);\r\n\t\t\t});\r\n\t\t});*/\r\n\t})(USE, './root');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.back = function(n, opt){ var tmp;\r\n\t\t\tn = n || 1;\r\n\t\t\tif(-1 === n || Infinity === n){\r\n\t\t\t\treturn this._.root.gun;\r\n\t\t\t} else\r\n\t\t\tif(1 === n){\r\n\t\t\t\treturn (this._.back || this._).gun;\r\n\t\t\t}\r\n\t\t\tvar gun = this, at = gun._;\r\n\t\t\tif(typeof n === 'string'){\r\n\t\t\t\tn = n.split('.');\r\n\t\t\t}\r\n\t\t\tif(n instanceof Array){\r\n\t\t\t\tvar i = 0, l = n.length, tmp = at;\r\n\t\t\t\tfor(i; i < l; i++){\r\n\t\t\t\t\ttmp = (tmp||empty)[n[i]];\r\n\t\t\t\t}\r\n\t\t\t\tif(u !== tmp){\r\n\t\t\t\t\treturn opt? gun : tmp;\r\n\t\t\t\t} else\r\n\t\t\t\tif((tmp = at.back)){\r\n\t\t\t\t\treturn tmp.gun.back(n, opt);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(n instanceof Function){\r\n\t\t\t\tvar yes, tmp = {back: at};\r\n\t\t\t\twhile((tmp = tmp.back)\r\n\t\t\t\t&& !(yes = n(tmp, opt))){}\r\n\t\t\t\treturn yes;\r\n\t\t\t}\r\n\t\t\tif(Gun.num.is(n)){\r\n\t\t\t\treturn (at.back || at).gun.back(n - 1);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tvar empty = {}, u;\r\n\t})(USE, './back');\r\n\r\n\t;USE(function(module){\r\n\t\t// WARNING: GUN is very simple, but the JavaScript chaining API around GUN\r\n\t\t// is complicated and was extremely hard to build. If you port GUN to another\r\n\t\t// language, consider implementing an easier API to build.\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.chain = function(sub){\r\n\t\t\tvar gun = this, at = gun._, chain = new (sub || gun).constructor(gun), cat = chain._, root;\r\n\t\t\tcat.root = root = at.root;\r\n\t\t\tcat.id = ++root.once;\r\n\t\t\tcat.back = gun._;\r\n\t\t\tcat.on = Gun.on;\r\n\t\t\tcat.on('in', input, cat); // For 'in' if I add my own listeners to each then I MUST do it before in gets called. If I listen globally for all incoming data instead though, regardless of individual listeners, I can transform the data there and then as well.\r\n\t\t\tcat.on('out', output, cat); // However for output, there isn't really the global option. I must listen by adding my own listener individually BEFORE this one is ever called.\r\n\t\t\treturn chain;\r\n\t\t}\r\n\r\n\t\tfunction output(msg){\r\n\t\t\tvar put, get, at = this.as, back = at.back, root = at.root;\r\n\t\t\tif(!msg.I){ msg.I = at.gun }\r\n\t\t\tif(!msg.gun){ msg.gun = at.gun }\r\n\t\t\tthis.to.next(msg);\r\n\t\t\tif(get = msg.get){\r\n\t\t\t\t/*if(u !== at.put){\r\n\t\t\t\t\tat.on('in', at);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}*/\r\n\t\t\t\tif(get['#'] || at.soul){\r\n\t\t\t\t\tget['#'] = get['#'] || at.soul;\r\n\t\t\t\t\tmsg['#'] || (msg['#'] = text_rand(9));\r\n\t\t\t\t\tback = (root.gun.get(get['#'])._);\r\n\t\t\t\t\tif(!(get = get['.'])){\r\n\t\t\t\t\t\tif(obj_has(back, 'put')){\r\n\t\t\t\t\t\t//if(u !== back.put){\r\n\t\t\t\t\t\t\tback.on('in', back);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(back.ack){ return }\r\n\t\t\t\t\t\tmsg.gun = back.gun;\r\n\t\t\t\t\t\tback.ack = -1;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif(obj_has(back.put, get)){\r\n\t\t\t\t\t\tback.on('in', {\r\n\t\t\t\t\t\t\tgun: back.gun,\r\n\t\t\t\t\t\t\tput: Gun.state.to(back.put, get),\r\n\t\t\t\t\t\t\tget: back.get\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\troot.ask(ack, msg);\r\n\t\t\t\t\treturn root.on('in', msg);\r\n\t\t\t\t}\r\n\t\t\t\tif(root.now){\r\n\t\t\t\t\troot.now[at.id] = root.now[at.id] || true;\r\n\t\t\t\t}\r\n\t\t\t\tif(get['.']){\r\n\t\t\t\t\tif(at.get){\r\n\t\t\t\t\t\tmsg = {get: {'.': at.get}, gun: at.gun};\r\n\t\t\t\t\t\t(back.ask || (back.ask = {}))[at.get] = msg.gun._; // TODO: PERFORMANCE? More elegant way?\r\n\t\t\t\t\t\treturn back.on('out', msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmsg = {get: {}, gun: at.gun};\r\n\t\t\t\t\treturn back.on('out', msg);\r\n\t\t\t\t}\r\n\t\t\t\tat.ack = at.ack || -1;\r\n\t\t\t\tif(at.get){\r\n\t\t\t\t\tmsg.gun = at.gun;\r\n\t\t\t\t\tget['.'] = at.get;\r\n\t\t\t\t\t(back.ask || (back.ask = {}))[at.get] = msg.gun._; // TODO: PERFORMANCE? More elegant way?\r\n\t\t\t\t\treturn back.on('out', msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn back.on('out', msg);\r\n\t\t}\r\n\r\n\t\tfunction input(msg){\r\n\t\t\tvar ev = this, cat = this.as, gun = msg.gun, at = gun._, change = msg.put, rel, tmp;\r\n\t\t\tif(cat.get && msg.get !== cat.get){\r\n\t\t\t\tmsg = obj_to(msg, {get: cat.get});\r\n\t\t\t}\r\n\t\t\tif(cat.has && at !== cat){\r\n\t\t\t\tmsg = obj_to(msg, {gun: cat.gun});\r\n\t\t\t\tif(at.ack){\r\n\t\t\t\t\tcat.ack = at.ack;\r\n\t\t\t\t\t//cat.ack = cat.ack || at.ack;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(node_ === cat.get && change && change['#']){\r\n\t\t\t\t// TODO: Potential bug? What if (soul.has = pointer) gets changed to (soul.has = primitive), we still need to clear out / wipe /reset (soul.has._) to have _id = nothing, or puts might have false positives (revert back to old soul).\r\n\t\t\t\tcat._id = change['#'];\r\n\t\t\t}\r\n\t\t\tif(u === change){\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\tif(cat.soul){ return } // TODO: BUG, I believe the fresh input refactor caught an edge case that a `gun.get('soul').get('key')` that points to a soul that doesn't exist will not trigger val/get etc.\r\n\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\tif(cat.has){\r\n\t\t\t\t\tnot(cat, msg);\r\n\t\t\t\t}\r\n\t\t\t\tobj_del(at.echo, cat.id);\r\n\t\t\t\tobj_del(cat.map, at.id);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(cat.soul){\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\tobj_map(change, map, {at: msg, cat: cat});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!(rel = Gun.val.rel.is(change))){\r\n\t\t\t\tif(Gun.val.is(change)){\r\n\t\t\t\t\tif(cat.has || cat.soul){\r\n\t\t\t\t\t\tnot(cat, msg);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif(at.has || at.soul){\r\n\t\t\t\t\t\t(at.echo || (at.echo = {}))[cat.id] = cat;\r\n\t\t\t\t\t\t(cat.map || (cat.map = {}))[at.id] = cat.map[at.id] || {at: at};\r\n\t\t\t\t\t\t//if(u === at.put){ return } // Not necessary but improves performance. If we have it but at does not, that means we got things out of order and at will get it. Once at gets it, it will tell us again.\r\n\t\t\t\t\t}\r\n\t\t\t\t\tev.to.next(msg);\r\n\t\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(cat.has && at !== cat && obj_has(at, 'put')){\r\n\t\t\t\t\tcat.put = at.put;\r\n\t\t\t\t};\r\n\t\t\t\tif((rel = Gun.node.soul(change)) && at.has){\r\n\t\t\t\t\tat.put = (cat.root.gun.get(rel)._).put;\r\n\t\t\t\t}\r\n\t\t\t\tev.to.next(msg);\r\n\t\t\t\techo(cat, msg, ev);\r\n\t\t\t\trelate(cat, msg, at, rel);\r\n\t\t\t\tobj_map(change, map, {at: msg, cat: cat});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\trelate(cat, msg, at, rel);\r\n\t\t\tev.to.next(msg);\r\n\t\t\techo(cat, msg, ev);\r\n\t\t}\r\n\r\n\t\tfunction relate(at, msg, from, rel){\r\n\t\t\tif(!rel || node_ === at.get){ return }\r\n\t\t\tvar tmp = (at.root.gun.get(rel)._);\r\n\t\t\tif(at.has){\r\n\t\t\t\tfrom = tmp;\r\n\t\t\t} else \r\n\t\t\tif(from.has){\r\n\t\t\t\trelate(from, msg, from, rel);\r\n\t\t\t}\r\n\t\t\tif(from === at){ return }\r\n\t\t\t(from.echo || (from.echo = {}))[at.id] = at;\r\n\t\t\tif(at.has && !(at.map||empty)[from.id]){ // if we haven't seen this before.\r\n\t\t\t\tnot(at, msg);\r\n\t\t\t}\r\n\t\t\ttmp = (at.map || (at.map = {}))[from.id] = at.map[from.id] || {at: from};\r\n\t\t\tvar now = at.root.now;\r\n\t\t\t//now = now || at.root.stop;\r\n\t\t\tif(rel === tmp.rel){\r\n\t\t\t\t// NOW is a hack to get synchronous replies to correctly call.\r\n\t\t\t\t// and STOP is a hack to get async behavior to correctly call.\r\n\t\t\t\t// neither of these are ideal, need to be fixed without hacks,\r\n\t\t\t\t// but for now, this works for current tests. :/\r\n\t\t\t\tif(!now){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t/*var stop = at.root.stop;\r\n\t\t\t\t\tif(!stop){ return }\r\n\t\t\t\t\tif(stop[at.id] === rel){ return }\r\n\t\t\t\t\tstop[at.id] = rel;*/\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(u === now[at.id]){ return }\r\n\t\t\t\t\tif((now._ || (now._ = {}))[at.id] === rel){ return }\r\n\t\t\t\t\tnow._[at.id] = rel;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\task(at, tmp.rel = rel);\r\n\t\t}\r\n\t\tfunction echo(at, msg, ev){\r\n\t\t\tif(!at.echo){ return } // || node_ === at.get ?\r\n\t\t\tif(at.has){ msg = obj_to(msg, {event: ev}) }\r\n\t\t\tobj_map(at.echo, reverb, msg);\r\n\t\t}\r\n\t\tfunction reverb(to){\r\n\t\t\tto.on('in', this);\r\n\t\t}\r\n\t\tfunction map(data, key){ // Map over only the changes on every update.\r\n\t\t\tvar cat = this.cat, next = cat.next || empty, via = this.at, chain, at, tmp;\r\n\t\t\tif(node_ === key && !next[key]){ return }\r\n\t\t\tif(!(at = next[key])){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//if(data && data[_soul] && (tmp = Gun.val.rel.is(data)) && (tmp = (cat.root.gun.get(tmp)._)) && obj_has(tmp, 'put')){\r\n\t\t\t//\tdata = tmp.put;\r\n\t\t\t//}\r\n\t\t\tif(at.has){\r\n\t\t\t\tif(!(data && data[_soul] && Gun.val.rel.is(data) === Gun.node.soul(at.put))){\r\n\t\t\t\t\tat.put = data;\r\n\t\t\t\t}\r\n\t\t\t\tchain = at.gun;\r\n\t\t\t} else {\r\n\t\t\t\tchain = via.gun.get(key);\r\n\t\t\t}\r\n\t\t\tat.on('in', {\r\n\t\t\t\tput: data,\r\n\t\t\t\tget: key,\r\n\t\t\t\tgun: chain,\r\n\t\t\t\tvia: via\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction not(at, msg){\r\n\t\t\tif(!(at.has || at.soul)){ return }\r\n\t\t\tvar tmp = at.map, root = at.root;\r\n\t\t\tat.map = null;\r\n\t\t\tif(!root.now || !root.now[at.id]){\r\n\t\t\t\tif((!msg['@']) && null === tmp){ return }\r\n\t\t\t}\r\n\t\t\tif(u === tmp && Gun.val.rel.is(at.put)){ return } // TODO: Bug? Threw second condition in for a particular test, not sure if a counter example is tested though.\r\n\t\t\tobj_map(tmp, function(proxy){\r\n\t\t\t\tif(!(proxy = proxy.at)){ return }\r\n\t\t\t\tobj_del(proxy.echo, at.id);\r\n\t\t\t});\r\n\t\t\tobj_map(at.next, function(neat, key){\r\n\t\t\t\tneat.put = u;\r\n\t\t\t\tif(neat.ack){\r\n\t\t\t\t\tneat.ack = -1;\r\n\t\t\t\t}\r\n\t\t\t\tneat.on('in', {\r\n\t\t\t\t\tget: key,\r\n\t\t\t\t\tgun: neat.gun,\r\n\t\t\t\t\tput: u\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction ask(at, soul){\r\n\t\t\tvar tmp = (at.root.gun.get(soul)._);\r\n\t\t\tif(at.ack){\r\n\t\t\t\ttmp.on('out', {get: {'#': soul}});\r\n\t\t\t\tif(!at.ask){ return } // TODO: PERFORMANCE? More elegant way?\r\n\t\t\t}\r\n\t\t\tobj_map(at.ask || at.next, function(neat, key){\r\n\t\t\t\t//(tmp.gun.get(key)._).on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t\t//tmp.on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t\tneat.on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t\t//at.on('out', {get: {'#': soul, '.': key}});\r\n\t\t\t});\r\n\t\t\tGun.obj.del(at, 'ask'); // TODO: PERFORMANCE? More elegant way?\r\n\t\t}\r\n\t\tfunction ack(msg, ev){\r\n\t\t\tvar as = this.as, get = as.get || empty, at = as.gun._, tmp = (msg.put||empty)[get['#']];\r\n\t\t\tif(at.ack){ at.ack = (at.ack + 1) || 1 }\r\n\t\t\tif(!msg.put /*|| node_ == get['.']*/ || (get['.'] && !obj_has(tmp, at.get))){\r\n\t\t\t\tif(at.put !== u){ return }\r\n\t\t\t\t//at.ack = 0;\r\n\t\t\t\tat.on('in', {\r\n\t\t\t\t\tget: at.get,\r\n\t\t\t\t\tput: at.put = u,\r\n\t\t\t\t\tgun: at.gun,\r\n\t\t\t\t\t'@': msg['@']\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(node_ == get['.']){ // is this a security concern?\r\n\t\t\t\tat.on('in', {get: at.get, put: tmp[at.get], gun: at.gun, '@': msg['@']});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//if(/*!msg.gun &&*/ !get['.'] && get['#']){ at.ack = (at.ack + 1) || 1 }\r\n\t\t\t//msg = obj_to(msg);\r\n\t\t\tmsg.gun = at.root.gun;\r\n\t\t\t//Gun.on('put', at);\r\n\t\t\tGun.on.put(msg, at.root.gun);\r\n\t\t}\r\n\t\tvar empty = {}, u;\r\n\t\tvar obj = Gun.obj, obj_has = obj.has, obj_put = obj.put, obj_del = obj.del, obj_to = obj.to, obj_map = obj.map;\r\n\t\tvar text_rand = Gun.text.random;\r\n\t\tvar _soul = Gun.val.rel._, node_ = Gun.node._;\r\n\t})(USE, './chain');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.get = function(key, cb, as){\r\n\t\t\tvar gun, tmp;\r\n\t\t\tif(typeof key === 'string'){\r\n\t\t\t\tvar back = this, cat = back._;\r\n\t\t\t\tvar next = cat.next || empty;\r\n\t\t\t\tif(!(gun = next[key])){\r\n\t\t\t\t\tgun = cache(key, back);\r\n\t\t\t\t}\r\n\t\t\t\tgun = gun.gun;\r\n\t\t\t} else\r\n\t\t\tif(key instanceof Function){\r\n\t\t\t\tgun = this;\r\n\t\t\t\tvar at = gun._, root = at.root, tmp = root.now, ev;\r\n\t\t\t\tas = cb || {};\r\n\t\t\t\tas.use = key;\r\n\t\t\t\tas.out = as.out || {};\r\n\t\t\t\tas.out.get = as.out.get || {};\r\n\t\t\t\tev = at.on('in', use, as);\r\n\t\t\t\t(root.now = {$:1})[as.now = at.id] = ev;\r\n\t\t\t\tat.on('out', as.out);\r\n\t\t\t\troot.now = tmp;\r\n\t\t\t\treturn gun;\r\n\t\t\t} else\r\n\t\t\tif(num_is(key)){\r\n\t\t\t\treturn this.get(''+key, cb, as);\r\n\t\t\t} else\r\n\t\t\tif(tmp = rel.is(key)){\r\n\t\t\t\treturn this.get(tmp, cb, as);\r\n\t\t\t} else {\r\n\t\t\t\t(as = this.chain())._.err = {err: Gun.log('Invalid get request!', key)}; // CLEAN UP\r\n\t\t\t\tif(cb){ cb.call(as, as._.err) }\r\n\t\t\t\treturn as;\r\n\t\t\t}\r\n\t\t\tif(tmp = cat.stun){ // TODO: Refactor?\r\n\t\t\t\tgun._.stun = gun._.stun || tmp;\r\n\t\t\t}\r\n\t\t\tif(cb && cb instanceof Function){\r\n\t\t\t\tgun.get(cb, as);\r\n\t\t\t}\r\n\t\t\treturn gun;\r\n\t\t}\r\n\t\tfunction cache(key, back){\r\n\t\t\tvar cat = back._, next = cat.next, gun = back.chain(), at = gun._;\r\n\t\t\tif(!next){ next = cat.next = {} }\r\n\t\t\tnext[at.get = key] = at;\r\n\t\t\tif(back === cat.root.gun){\r\n\t\t\t\tat.soul = key;\r\n\t\t\t} else\r\n\t\t\tif(cat.soul || cat.has){\r\n\t\t\t\tat.has = key;\r\n\t\t\t\t//if(obj_has(cat.put, key)){\r\n\t\t\t\t\t//at.put = cat.put[key];\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t\treturn at;\r\n\t\t}\r\n\t\tfunction use(msg){\r\n\t\t\tvar ev = this, as = ev.as, gun = msg.gun, at = gun._, root = at.root, data = msg.put, tmp;\r\n\t\t\tif((tmp = root.now) && ev !== tmp[as.now]){\r\n\t\t\t\treturn ev.to.next(msg);\r\n\t\t\t}\r\n\t\t\tif(u === data){\r\n\t\t\t\tdata = at.put;\r\n\t\t\t}\r\n\t\t\tif((tmp = data) && tmp[rel._] && (tmp = rel.is(tmp))){\r\n\t\t\t\ttmp = (at.root.gun.get(tmp)._);\r\n\t\t\t\tif(u !== tmp.put){\r\n\t\t\t\t\tmsg = obj_to(msg, {put: tmp.put});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tas.use(msg, msg.event || ev);\r\n\t\t\tev.to.next(msg);\r\n\t\t}\r\n\t\tvar obj = Gun.obj, obj_has = obj.has, obj_to = Gun.obj.to;\r\n\t\tvar num_is = Gun.num.is;\r\n\t\tvar rel = Gun.val.rel, node_ = Gun.node._;\r\n\t\tvar empty = {}, u;\r\n\t})(USE, './get');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tGun.chain.put = function(data, cb, as){\r\n\t\t\t// #soul.has=value>state\r\n\t\t\t// ~who#where.where=what>when@was\r\n\t\t\t// TODO: BUG! Put probably cannot handle plural chains!\r\n\t\t\tvar gun = this, at = (gun._), root = at.root.gun, tmp;\r\n\t\t\tas = as || {};\r\n\t\t\tas.data = data;\r\n\t\t\tas.via = as.gun = as.via || as.gun || gun;\r\n\t\t\tif(typeof cb === 'string'){\r\n\t\t\t\tas.soul = cb;\r\n\t\t\t} else {\r\n\t\t\t\tas.ack = as.ack || cb;\r\n\t\t\t}\r\n\t\t\tif(at.soul){\r\n\t\t\t\tas.soul = at.soul;\r\n\t\t\t}\r\n\t\t\tif(as.soul || root === gun){\r\n\t\t\t\tif(!obj_is(as.data)){\r\n\t\t\t\t\t(as.ack||noop).call(as, as.out = {err: Gun.log(\"Data saved to the root level of the graph must be a node (an object), not a\", (typeof as.data), 'of \"' + as.data + '\"!')});\r\n\t\t\t\t\tif(as.res){ as.res() }\r\n\t\t\t\t\treturn gun;\r\n\t\t\t\t}\r\n\t\t\t\tas.soul = as.soul || (as.not = Gun.node.soul(as.data) || (as.via.back('opt.uuid') || Gun.text.random)());\r\n\t\t\t\tif(!as.soul){ // polyfill async uuid for SEA\r\n\t\t\t\t\tas.via.back('opt.uuid')(function(err, soul){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error!\r\n\t\t\t\t\t\t(as.ref||as.gun).put(as.data, as.soul = soul, as);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn gun;\r\n\t\t\t\t}\r\n\t\t\t\tas.gun = gun = root.get(as.soul);\r\n\t\t\t\tas.ref = as.gun;\r\n\t\t\t\tify(as);\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tif(Gun.is(data)){\r\n\t\t\t\tdata.get('_').get(function(at, ev, tmp){ ev.off();\r\n\t\t\t\t\tif(!(tmp = at.gun) || !(tmp = tmp._.back) || !tmp.soul){\r\n\t\t\t\t\t\treturn Gun.log(\"The reference you are saving is a\", typeof at.put, '\"'+ as.put +'\", not a node (object)!');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgun.put(Gun.val.rel.ify(tmp.soul), cb, as);\r\n\t\t\t\t});\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tas.ref = as.ref || (root._ === (tmp = at.back))? gun : tmp.gun;\r\n\t\t\tif(as.ref._.soul && Gun.val.is(as.data) && at.get){\r\n\t\t\t\tas.data = obj_put({}, at.get, as.data);\r\n\t\t\t\tas.ref.put(as.data, as.soul, as);\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tas.ref.get('_').get(any, {as: as});\r\n\t\t\tif(!as.out){\r\n\t\t\t\t// TODO: Perf idea! Make a global lock, that blocks everything while it is on, but if it is on the lock it does the expensive lookup to see if it is a dependent write or not and if not then it proceeds full speed. Meh? For write heavy async apps that would be terrible.\r\n\t\t\t\tas.res = as.res || stun; // Gun.on.stun(as.ref); // TODO: BUG! Deal with locking?\r\n\t\t\t\tas.gun._.stun = as.ref._.stun;\r\n\t\t\t}\r\n\t\t\treturn gun;\r\n\t\t};\r\n\r\n\t\tfunction ify(as){\r\n\t\t\tas.batch = batch;\r\n\t\t\tvar opt = as.opt||{}, env = as.env = Gun.state.map(map, opt.state);\r\n\t\t\tenv.soul = as.soul;\r\n\t\t\tas.graph = Gun.graph.ify(as.data, env, as);\r\n\t\t\tif(env.err){\r\n\t\t\t\t(as.ack||noop).call(as, as.out = {err: Gun.log(env.err)});\r\n\t\t\t\tif(as.res){ as.res() }\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tas.batch();\r\n\t\t}\r\n\r\n\t\tfunction stun(cb){\r\n\t\t\tif(cb){ cb() }\r\n\t\t\treturn;\r\n\t\t\tvar as = this;\r\n\t\t\tif(!as.ref){ return }\r\n\t\t\tif(cb){\r\n\t\t\t\tas.after = as.ref._.tag;\r\n\t\t\t\tas.now = as.ref._.tag = {};\r\n\t\t\t\tcb();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(as.after){\r\n\t\t\t\tas.ref._.tag = as.after;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction batch(){ var as = this;\r\n\t\t\tif(!as.graph || obj_map(as.stun, no)){ return }\r\n\t\t\tas.res = as.res || function(cb){ if(cb){ cb() } };\r\n\t\t\tas.res(function(){\r\n\t\t\t\tvar cat = (as.gun.back(-1)._), ask = cat.ask(function(ack){\r\n\t\t\t\t\tcat.root.on('ack', ack);\r\n\t\t\t\t\tthis.off(); // One response is good enough for us currently. Later we may want to adjust this.\r\n\t\t\t\t\tif(!as.ack){ return }\r\n\t\t\t\t\tas.ack(ack, this);\r\n\t\t\t\t}, as.opt);\r\n\t\t\t\t// NOW is a hack to get synchronous replies to correctly call.\r\n\t\t\t\t// and STOP is a hack to get async behavior to correctly call.\r\n\t\t\t\t// neither of these are ideal, need to be fixed without hacks,\r\n\t\t\t\t// but for now, this works for current tests. :/\r\n\t\t\t\tvar tmp = cat.root.now; obj.del(cat.root, 'now'); cat.root.PUT = true;\r\n\t\t\t\tvar tmp2 = cat.root.stop;\r\n\t\t\t\t(as.ref._).now = true;\r\n\t\t\t\t(as.ref._).on('out', {\r\n\t\t\t\t\tgun: as.ref, put: as.out = as.env.graph, opt: as.opt, '#': ask\r\n\t\t\t\t});\r\n\t\t\t\tobj.del((as.ref._), 'now');\r\n\t\t\t\tobj.del((cat.root), 'PUT');\r\n\t\t\t\tcat.root.now = tmp;\r\n\t\t\t\tcat.root.stop = tmp2;\r\n\t\t\t}, as);\r\n\t\t\tif(as.res){ as.res() }\r\n\t\t} function no(v,k){ if(v){ return true } }\r\n\r\n\t\tfunction map(v,k,n, at){ var as = this;\r\n\t\t\t//if(Gun.is(v)){} // TODO: HANDLE!\r\n\t\t\tif(k || !at.path.length){ return }\r\n\t\t\t(as.res||iife)(function(){\r\n\t\t\t\tvar path = at.path, ref = as.ref, opt = as.opt;\r\n\t\t\t\tvar i = 0, l = path.length;\r\n\t\t\t\tfor(i; i < l; i++){\r\n\t\t\t\t\tref = ref.get(path[i]);\r\n\t\t\t\t}\r\n\t\t\t\tif(Gun.node.soul(at.obj)){\r\n\t\t\t\t\tvar id = Gun.node.soul(at.obj) || (as.via.back('opt.uuid') || Gun.text.random)();\r\n\t\t\t\t\tif(!id){ // polyfill async uuid for SEA\r\n\t\t\t\t\t\t(as.stun = as.stun || {})[path] = true; // make DRY\r\n\t\t\t\t\t\tas.via.back('opt.uuid')(function(err, id){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error.\r\n\t\t\t\t\t\t\tref.back(-1).get(id);\r\n\t\t\t\t\t\t\tat.soul(id);\r\n\t\t\t\t\t\t\tas.stun[path] = false;\r\n\t\t\t\t\t\t\tas.batch();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tref.back(-1).get(id);\r\n\t\t\t\t\tat.soul(id);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t(as.stun = as.stun || {})[path] = true;\r\n\t\t\t\tref.get('_').get(soul, {as: {at: at, as: as}});\r\n\t\t\t}, {as: as, at: at});\r\n\t\t}\r\n\r\n\t\tfunction soul(msg, ev){ var as = this.as, cat = as.at; as = as.as;\r\n\t\t\t//ev.stun(); // TODO: BUG!?\r\n\t\t\tif(!msg.gun || !msg.gun._.back){ return } // TODO: Handle\r\n\t\t\tvar at = msg.gun._, at_ = at;\r\n\t\t\tvar _id = (msg.put||empty)['#'];\r\n\t\t\tev.off();\r\n\t\t\tat = (msg.gun._.back); // go up 1!\r\n\t\t\tvar id = id || Gun.node.soul(cat.obj) || Gun.node.soul(at.put) || Gun.val.rel.is(at.put) || _id || at_._id || (as.via.back('opt.uuid') || Gun.text.random)(); // TODO: BUG!? Do we really want the soul of the object given to us? Could that be dangerous?\r\n\t\t\tif(!id){ // polyfill async uuid for SEA\r\n\t\t\t\tat.via.back('opt.uuid')(function(err, id){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error.\r\n\t\t\t\t\tsolve(at, at_._id = at_._id || id, cat, as);\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsolve(at, at_._id = at_._id || id, cat, as);\r\n\t\t}\r\n\r\n\t\tfunction solve(at, id, cat, as){\r\n\t\t\tat.gun.back(-1).get(id);\r\n\t\t\tcat.soul(id);\r\n\t\t\tas.stun[cat.path] = false;\r\n\t\t\tas.batch();\r\n\t\t}\r\n\r\n\t\tfunction any(at, ev){\r\n\t\t\tvar as = this.as;\r\n\t\t\tif(!at.gun || !at.gun._){ return } // TODO: Handle\r\n\t\t\tif(at.err){ // TODO: Handle\r\n\t\t\t\tconsole.log(\"Please report this as an issue! Put.any.err\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar cat = (at.gun._.back), data = cat.put, opt = as.opt||{}, root, tmp;\r\n\t\t\tif((tmp = as.ref) && tmp._.now){ return }\r\n\t\t\tev.off();\r\n\t\t\tif(as.ref !== as.gun){\r\n\t\t\t\ttmp = (as.gun._).get || cat.get;\r\n\t\t\t\tif(!tmp){ // TODO: Handle\r\n\t\t\t\t\tconsole.log(\"Please report this as an issue! Put.no.get\"); // TODO: BUG!??\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tas.data = obj_put({}, tmp, as.data);\r\n\t\t\t\ttmp = null;\r\n\t\t\t}\r\n\t\t\tif(u === data){\r\n\t\t\t\tif(!cat.get){ return } // TODO: Handle\r\n\t\t\t\tif(!cat.soul){\r\n\t\t\t\t\ttmp = cat.gun.back(function(at){\r\n\t\t\t\t\t\tif(at.soul){ return at.soul }\r\n\t\t\t\t\t\tas.data = obj_put({}, at.get, as.data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttmp = tmp || cat.get;\r\n\t\t\t\tcat = (cat.root.gun.get(tmp)._);\r\n\t\t\t\tas.not = as.soul = tmp;\r\n\t\t\t\tdata = as.data;\r\n\t\t\t}\r\n\t\t\tif(!as.not && !(as.soul = Gun.node.soul(data))){\r\n\t\t\t\tif(as.path && obj_is(as.data)){ // Apparently necessary\r\n\t\t\t\t\tas.soul = (opt.uuid || as.via.back('opt.uuid') || Gun.text.random)();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//as.data = obj_put({}, as.gun._.get, as.data);\r\n\t\t\t\t\tif(node_ == at.get){\r\n\t\t\t\t\t\tas.soul = (at.put||empty)['#'] || at._id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tas.soul = as.soul || at.soul || cat.soul || (opt.uuid || as.via.back('opt.uuid') || Gun.text.random)();\r\n\t\t\t\t}\r\n\t\t\t\tif(!as.soul){ // polyfill async uuid for SEA\r\n\t\t\t\t\tas.via.back('opt.uuid')(function(err, soul){ // TODO: improve perf without anonymous callback\r\n\t\t\t\t\t\tif(err){ return Gun.log(err) } // Handle error.\r\n\t\t\t\t\t\tas.ref.put(as.data, as.soul = soul, as);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tas.ref.put(as.data, as.soul, as);\r\n\t\t}\r\n\t\tvar obj = Gun.obj, obj_is = obj.is, obj_put = obj.put, obj_map = obj.map;\r\n\t\tvar u, empty = {}, noop = function(){}, iife = function(fn,as){fn.call(as||empty)};\r\n\t\tvar node_ = Gun.node._;\r\n\t})(USE, './put');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./root');\r\n\t\tUSE('./chain');\r\n\t\tUSE('./back');\r\n\t\tUSE('./put');\r\n\t\tUSE('./get');\r\n\t\tmodule.exports = Gun;\r\n\t})(USE, './index');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./index');\r\n\t\tGun.chain.on = function(tag, arg, eas, as){\r\n\t\t\tvar gun = this, at = gun._, tmp, act, off;\r\n\t\t\tif(typeof tag === 'string'){\r\n\t\t\t\tif(!arg){ return at.on(tag) }\r\n\t\t\t\tact = at.on(tag, arg, eas || at, as);\r\n\t\t\t\tif(eas && eas.gun){\r\n\t\t\t\t\t(eas.subs || (eas.subs = [])).push(act);\r\n\t\t\t\t}\r\n\t\t\t\toff = function() {\r\n\t\t\t\t\tif (act && act.off) act.off();\r\n\t\t\t\t\toff.off();\r\n\t\t\t\t};\r\n\t\t\t\toff.off = gun.off.bind(gun) || noop;\r\n\t\t\t\tgun.off = off;\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tvar opt = arg;\r\n\t\t\topt = (true === opt)? {change: true} : opt || {};\r\n\t\t\topt.ok = tag;\r\n\t\t\topt.last = {};\r\n\t\t\tgun.get(ok, opt); // TODO: PERF! Event listener leak!!!?\r\n\t\t\treturn gun;\r\n\t\t}\r\n\r\n\t\tfunction ok(at, ev){ var opt = this;\r\n\t\t\tvar gun = at.gun, cat = gun._, data = cat.put || at.put, tmp = opt.last, id = cat.id+at.get, tmp;\r\n\t\t\tif(u === data){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(data && data[rel._] && (tmp = rel.is(data))){\r\n\t\t\t\ttmp = (cat.root.gun.get(tmp)._);\r\n\t\t\t\tif(u === tmp.put){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdata = tmp.put;\r\n\t\t\t}\r\n\t\t\tif(opt.change){ // TODO: BUG? Move above the undef checks?\r\n\t\t\t\tdata = at.put;\r\n\t\t\t}\r\n\t\t\t// DEDUPLICATE // TODO: NEEDS WORK! BAD PROTOTYPE\r\n\t\t\tif(tmp.put === data && tmp.get === id && !Gun.node.soul(data)){ return }\r\n\t\t\ttmp.put = data;\r\n\t\t\ttmp.get = id;\r\n\t\t\t// DEDUPLICATE // TODO: NEEDS WORK! BAD PROTOTYPE\r\n\t\t\tcat.last = data;\r\n\t\t\tif(opt.as){\r\n\t\t\t\topt.ok.call(opt.as, at, ev);\r\n\t\t\t} else {\r\n\t\t\t\topt.ok.call(gun, data, at.get, at, ev);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tGun.chain.val = function(cb, opt){\r\n\t\t\tGun.log.once(\"onceval\", \"Future Breaking API Change: .val -> .once, apologies unexpected.\");\r\n\t\t\treturn this.once(cb, opt);\r\n\t\t}\r\n\t\tGun.chain.once = function(cb, opt){\r\n\t\t\tvar gun = this, at = gun._, data = at.put;\r\n\t\t\tif(0 < at.ack && u !== data){\r\n\t\t\t\t(cb || noop).call(gun, data, at.get);\r\n\t\t\t\treturn gun;\r\n\t\t\t}\r\n\t\t\tif(cb){\r\n\t\t\t\t(opt = opt || {}).ok = cb;\r\n\t\t\t\topt.cat = at;\r\n\t\t\t\topt.out = {'#': Gun.text.random(9)};\r\n\t\t\t\tgun.get(val, {as: opt});\r\n\t\t\t\topt.async = true; //opt.async = at.stun? 1 : true;\r\n\t\t\t} else {\r\n\t\t\t\tGun.log.once(\"valonce\", \"Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");\r\n\t\t\t\tvar chain = gun.chain();\r\n\t\t\t\tchain._.val = gun.once(function(){\r\n\t\t\t\t\tchain._.on('in', gun._);\r\n\t\t\t\t});\r\n\t\t\t\treturn chain;\r\n\t\t\t}\r\n\t\t\treturn gun;\r\n\t\t}\r\n\r\n\t\tfunction val(msg, ev, to){\r\n\t\t\tvar opt = this.as, cat = opt.cat, gun = msg.gun, coat = gun._, data = coat.put || msg.put, tmp;\r\n\t\t\tif(u === data){\r\n\t\t\t\t//return;\r\n\t\t\t}\r\n\t\t\t//if(coat.soul && !(0 < coat.ack)){ return }\r\n\t\t\tif(tmp = Gun.node.soul(data) || rel.is(data)){\r\n\t\t\t//if(data && data[rel._] && (tmp = rel.is(data))){\r\n\t\t\t\ttmp = (cat.root.gun.get(tmp)._);\r\n\t\t\t\tif(u === tmp.put){//} || !(0 < tmp.ack)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdata = tmp.put;\r\n\t\t\t}\r\n\t\t\tif(ev.wait){ clearTimeout(ev.wait) }\r\n\t\t\t//if(!to && (!(0 < coat.ack) || ((true === opt.async) && 0 !== opt.wait))){\r\n\t\t\tif(!to){\r\n\t\t\t\tev.wait = setTimeout(function(){\r\n\t\t\t\t\tval.call({as:opt}, msg, ev, ev.wait || 1);\r\n\t\t\t\t}, opt.wait || 99);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(cat.has || cat.soul){\r\n\t\t\t\tif(ev.off()){ return } // if it is already off, don't call again!\r\n\t\t\t} else {\r\n\t\t\t\tif((opt.seen = opt.seen || {})[coat.id]){ return }\r\n\t\t\t\topt.seen[coat.id] = true;\r\n\t\t\t}\r\n\t\t\topt.ok.call(msg.gun || opt.gun, data, msg.get);\r\n\t\t}\r\n\r\n\t\tGun.chain.off = function(){\r\n\t\t\t// make off more aggressive. Warning, it might backfire!\r\n\t\t\tvar gun = this, at = gun._, tmp;\r\n\t\t\tvar cat = at.back;\r\n\t\t\tif(!cat){ return }\r\n\t\t\tif(tmp = cat.next){\r\n\t\t\t\tif(tmp[at.get]){\r\n\t\t\t\t\tobj_del(tmp, at.get);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(tmp = cat.ask){\r\n\t\t\t\tobj_del(tmp, at.get);\r\n\t\t\t}\r\n\t\t\tif(tmp = cat.put){\r\n\t\t\t\tobj_del(tmp, at.get);\r\n\t\t\t}\r\n\t\t\tif(tmp = at.soul){\r\n\t\t\t\tobj_del(cat.root.graph, tmp);\r\n\t\t\t}\r\n\t\t\tif(tmp = at.map){\r\n\t\t\t\tobj_map(tmp, function(at){\r\n\t\t\t\t\tif(at.rel){\r\n\t\t\t\t\t\tcat.root.gun.get(at.rel).off();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(tmp = at.next){\r\n\t\t\t\tobj_map(tmp, function(neat){\r\n\t\t\t\t\tneat.gun.off();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tat.on('off', {});\r\n\t\t\treturn gun;\r\n\t\t}\r\n\t\tvar obj = Gun.obj, obj_map = obj.map, obj_has = obj.has, obj_del = obj.del, obj_to = obj.to;\r\n\t\tvar rel = Gun.val.rel;\r\n\t\tvar empty = {}, noop = function(){}, u;\r\n\t})(USE, './on');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./index');\r\n\t\tGun.chain.map = function(cb, opt, t){\r\n\t\t\tvar gun = this, cat = gun._, chain;\r\n\t\t\tif(!cb){\r\n\t\t\t\tif(chain = cat.fields){ return chain }\r\n\t\t\t\tchain = cat.fields = gun.chain();\r\n\t\t\t\tchain._.val = gun.back('val');\r\n\t\t\t\tchain._.MAPOF = cat.soul;\r\n\t\t\t\tgun.on('in', map, chain._);\r\n\t\t\t\treturn chain;\r\n\t\t\t}\r\n\t\t\tGun.log.once(\"mapfn\", \"Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");\r\n\t\t\tchain = gun.chain();\r\n\t\t\tgun.map().on(function(data, key, at, ev){\r\n\t\t\t\tvar next = (cb||noop).call(this, data, key, at, ev);\r\n\t\t\t\tif(u === next){ return }\r\n\t\t\t\tif(Gun.is(next)){\r\n\t\t\t\t\tchain._.on('in', next._);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tchain._.on('in', {get: key, put: next, gun: chain});\r\n\t\t\t});\r\n\t\t\treturn chain;\r\n\t\t}\r\n\t\tfunction map(msg){\r\n\t\t\tif(!msg.put || Gun.val.is(msg.put)){ return }\r\n\t\t\tif(this.as.val){ this.off() } // TODO: Ugly hack!\r\n\t\t\tobj_map(msg.put, each, {at: this.as, msg: msg});\r\n\t\t\tthis.to.next(msg);\r\n\t\t}\r\n\t\tfunction each(v,k){\r\n\t\t\tif(n_ === k){ return }\r\n\t\t\tvar msg = this.msg, gun = msg.gun, at = this.at, tmp = (gun.get(k)._);\r\n\t\t\t(tmp.echo || (tmp.echo = {}))[at.id] = at;\r\n\t\t}\r\n\t\tvar obj_map = Gun.obj.map, noop = function(){}, event = {stun: noop, off: noop}, n_ = Gun.node._, u;\r\n\t})(USE, './map');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('./index');\r\n\t\tGun.chain.set = function(item, cb, opt){\r\n\t\t\tvar gun = this, soul;\r\n\t\t\tcb = cb || function(){};\r\n\t\t\topt = opt || {}; opt.item = opt.item || item;\r\n\t\t\tif(soul = Gun.node.soul(item)){ return gun.set(gun.back(-1).get(soul), cb, opt) }\r\n\t\t\tif(!Gun.is(item)){\r\n\t\t\t\tvar id = gun.back('opt.uuid')();\r\n\t\t\t\tif(id && Gun.obj.is(item)){\r\n\t\t\t\t\treturn gun.set(gun._.root.gun.put(item, id), cb, opt);\r\n\t\t\t\t}\r\n\t\t\t\treturn gun.get((Gun.state.lex() + Gun.text.random(7))).put(item, cb, opt);\r\n\t\t\t}\r\n\t\t\titem.get('_').get(function(at, ev){\r\n\t\t\t\tif(!at.gun || !at.gun._.back){ return }\r\n\t\t\t\tev.off();\r\n\t\t\t\tvar soul = (at.put||{})['#'];\r\n\t\t\t\tat = (at.gun._.back);\r\n\t\t\t\tvar put = {}, node = at.put;\r\n\t\t\t\tsoul = at.soul || Gun.node.soul(node) || soul;\r\n\t\t\t\tif(!soul){ return cb.call(gun, {err: Gun.log('Only a node can be linked! Not \"' + node + '\"!')}) }\r\n\t\t\t\tgun.put(Gun.obj.put(put, soul, Gun.val.rel.ify(soul)), cb, opt);\r\n\t\t\t},{wait:0});\r\n\t\t\treturn item;\r\n\t\t}\r\n\t})(USE, './set');\r\n\r\n\t;USE(function(module){\r\n\t\tif(typeof Gun === 'undefined'){ return } // TODO: localStorage is Browser only. But it would be nice if it could somehow plugin into NodeJS compatible localStorage APIs?\r\n\r\n\t\tvar root, noop = function(){}, u;\r\n\t\tif(typeof window !== 'undefined'){ root = window }\r\n\t\tvar store = root.localStorage || {setItem: noop, removeItem: noop, getItem: noop};\r\n\r\n\t\t/*\r\n\t\t\tNOTE: Both `lib/file.js` and `lib/memdisk.js` are based on this design!\r\n\t\t\tIf you update anything here, consider updating the other adapters as well.\r\n\t\t*/\r\n\r\n\t\tGun.on('create', function(root){\r\n\t\t\t// This code is used to queue offline writes for resync.\r\n\t\t\t// See the next 'opt' code below for actual saving of data.\r\n\t\t\tvar ev = this.to, opt = root.opt;\r\n\t\t\tif(root.once){ return ev.next(root) }\r\n\t\t\tif(false === opt.localStorage){ return ev.next(root) }\r\n\t\t\topt.file = opt.file || 'gun/';\r\n\t\t\tvar gap = Gun.obj.ify(store.getItem('gap/'+opt.file)) || {};\r\n\t\t\tvar empty = Gun.obj.empty, id, to, go;\r\n\t\t\t// add re-sync command.\r\n\t\t\tif(!empty(gap)){\r\n\t\t\t\troot.on('localStorage', function(disk){\r\n\t\t\t\t\tthis.off();\r\n\t\t\t\t\tvar send = {}\r\n\t\t\t\t\tGun.obj.map(gap, function(node, soul){\r\n\t\t\t\t\t\tGun.obj.map(node, function(val, key){\r\n\t\t\t\t\t\t\tsend[soul] = Gun.state.to(disk[soul], key, send[soul]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\troot.on('out', {put: send, '#': root.ask(ack), I: root.gun});\r\n\t\t\t\t\t},10);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\troot.on('out', function(msg){\r\n\t\t\t\tif(msg.lS){ return }\r\n\t\t\t\tif(msg.I && msg.put && !msg['@'] && !empty(opt.peers)){\r\n\t\t\t\t\tid = msg['#'];\r\n\t\t\t\t\tGun.graph.is(msg.put, null, map);\r\n\t\t\t\t\tif(!to){ to = setTimeout(flush, opt.wait || 1) }\r\n\t\t\t\t}\r\n\t\t\t\tthis.to.next(msg);\r\n\t\t\t});\r\n\t\t\troot.on('ack', ack);\r\n\r\n\t\t\tfunction ack(ack){ // TODO: This is experimental, not sure if we should keep this type of event hook.\r\n\t\t\t\tif(ack.err || !ack.ok){ return }\r\n\t\t\t\tvar id = ack['@'];\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tGun.obj.map(gap, function(node, soul){\r\n\t\t\t\t\t\tGun.obj.map(node, function(val, key){\r\n\t\t\t\t\t\t\tif(id !== val){ return }\r\n\t\t\t\t\t\t\tdelete node[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(empty(node)){\r\n\t\t\t\t\t\t\tdelete gap[soul];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tflush();\r\n\t\t\t\t}, opt.wait || 1);\r\n\t\t\t};\r\n\t\t\tev.next(root);\r\n\r\n\t\t\tvar map = function(val, key, node, soul){\r\n\t\t\t\t(gap[soul] || (gap[soul] = {}))[key] = id;\r\n\t\t\t}\r\n\t\t\tvar flush = function(){\r\n\t\t\t\tclearTimeout(to);\r\n\t\t\t\tto = false;\r\n\t\t\t\ttry{store.setItem('gap/'+opt.file, JSON.stringify(gap));\r\n\t\t\t\t}catch(e){ Gun.log(err = e || \"localStorage failure\") }\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tGun.on('create', function(root){\r\n\t\t\tthis.to.next(root);\r\n\t\t\tvar opt = root.opt;\r\n\t\t\tif(root.once){ return }\r\n\t\t\tif(false === opt.localStorage){ return }\r\n\t\t\topt.file = opt.file || opt.prefix || 'gun/'; // support old option name.\r\n\t\t\tvar graph = root.graph, acks = {}, count = 0, to;\r\n\t\t\tvar disk = Gun.obj.ify(store.getItem(opt.file)) || {};\r\n\t\t\tvar lS = function(){}, u;\r\n\t\t\troot.on('localStorage', disk); // NON-STANDARD EVENT!\r\n\t\t\t\r\n\t\t\troot.on('put', function(at){\r\n\t\t\t\tthis.to.next(at);\r\n\t\t\t\tGun.graph.is(at.put, null, map);\r\n\t\t\t\tif(!at['@']){ acks[at['#']] = true; } // only ack non-acks.\r\n\t\t\t\tcount += 1;\r\n\t\t\t\tif(count >= (opt.batch || 1000)){\r\n\t\t\t\t\treturn flush();\r\n\t\t\t\t}\r\n\t\t\t\tif(to){ return }\r\n\t\t\t\tto = setTimeout(flush, opt.wait || 1);\r\n\t\t\t});\r\n\r\n\t\t\troot.on('get', function(msg){\r\n\t\t\t\tthis.to.next(msg);\r\n\t\t\t\tvar lex = msg.get, soul, data, u;\r\n\t\t\t\t//setTimeout(function(){\r\n\t\t\t\tif(!lex || !(soul = lex['#'])){ return }\r\n\t\t\t\t//if(0 >= msg.cap){ return }\r\n\t\t\t\tvar has = lex['.'];\r\n\t\t\t\tdata = disk[soul] || u;\r\n\t\t\t\tif(data && has){\r\n\t\t\t\t\tdata = Gun.state.to(data, has);\r\n\t\t\t\t}\r\n\t\t\t\tif(!data && !Gun.obj.empty(opt.peers)){ // if data not found, don't ack if there are peers.\r\n\t\t\t\t\treturn; // Hmm, what if we have peers but we are disconnected?\r\n\t\t\t\t}\r\n\t\t\t\troot.on('in', {'@': msg['#'], put: Gun.graph.node(data), how: 'lS', lS: msg.I});\r\n\t\t\t\t//},1);\r\n\t\t\t});\r\n\r\n\t\t\tvar map = function(val, key, node, soul){\r\n\t\t\t\tdisk[soul] = Gun.state.to(node, key, disk[soul]);\r\n\t\t\t}\r\n\r\n\t\t\tvar flush = function(data){\r\n\t\t\t\tvar err;\r\n\t\t\t\tcount = 0;\r\n\t\t\t\tclearTimeout(to);\r\n\t\t\t\tto = false;\r\n\t\t\t\tvar ack = acks;\r\n\t\t\t\tacks = {};\r\n\t\t\t\tif(data){ disk = data }\r\n\t\t\t\ttry{store.setItem(opt.file, JSON.stringify(disk));\r\n\t\t\t\t}catch(e){ \r\n\t\t\t\t\tGun.log(err = e || \"localStorage failure\");\r\n\t\t\t\t\troot.on('localStorage:error', {err: err, file: opt.file, flush: disk, retry: flush});\r\n\t\t\t\t}\r\n\t\t\t\tif(!err && !Gun.obj.empty(opt.peers)){ return } // only ack if there are no peers.\r\n\t\t\t\tGun.obj.map(ack, function(yes, id){\r\n\t\t\t\t\troot.on('in', {\r\n\t\t\t\t\t\t'@': id,\r\n\t\t\t\t\t\terr: err,\r\n\t\t\t\t\t\tok: 0 // localStorage isn't reliable, so make its `ok` code be a low number.\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t})(USE, './adapters/localStorage');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Type = USE('../type');\r\n\r\n\t\tfunction Mesh(ctx){\r\n\t\t\tvar mesh = function(){};\r\n\r\n\t\t\tmesh.out = function(msg){ var tmp;\r\n\t\t\t\t//console.log(\"count:\", msg['#'], msg);\r\n\t\t\t\tif(this.to){ this.to.next(msg) }\r\n\t\t\t\t//if(mesh.last != msg['#']){ return mesh.last = msg['#'], this.to.next(msg) }\r\n\t\t\t\tif((tmp = msg['@'])\r\n\t\t\t\t&& (tmp = ctx.dup.s[tmp])\r\n\t\t\t\t&& (tmp = tmp.it)\r\n\t\t\t\t&& tmp.mesh){\r\n\t\t\t\t\tmesh.say(msg, tmp.mesh.via);\r\n\t\t\t\t\ttmp['##'] = msg['##'];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// add hook for AXE?\r\n\t\t\t\tmesh.say(msg);\r\n\t\t\t}\r\n\r\n\t\t\tmesh.hear = function(raw, peer){\r\n\t\t\t\tif(!raw){ return }\r\n\t\t\t\tvar dup = ctx.dup, id, hash, msg, tmp = raw[0];\r\n\t\t\t\ttry{msg = JSON.parse(raw);\r\n\t\t\t\t}catch(e){}\r\n\t\t\t\tif('{' === tmp){\r\n\t\t\t\t\tif(!msg){ return }\r\n\t\t\t\t\tif(dup.check(id = msg['#'])){ return }\r\n\t\t\t\t\tdup.track(id, true).it = msg; // GUN core also dedups, so `true` is needed.\r\n\t\t\t\t\tif((tmp = msg['@']) && msg.put){\r\n\t\t\t\t\t\thash = msg['##'] || (msg['##'] = mesh.hash(msg));\r\n\t\t\t\t\t\tif((tmp = tmp + hash) != id){\r\n\t\t\t\t\t\t\tif(dup.check(tmp)){ return }\r\n\t\t\t\t\t\t\t(tmp = dup.s)[hash] = tmp[id];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t(msg.mesh = function(){}).via = peer;\r\n\t\t\t\t\tif((tmp = msg['><'])){\r\n\t\t\t\t\t\tmsg.mesh.to = Type.obj.map(tmp.split(','), function(k,i,m){m(k,true)});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.on('in', msg);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else\r\n\t\t\t\tif('[' === tmp){\r\n\t\t\t\t\tif(!msg){ return }\r\n\t\t\t\t\tvar i = 0, m;\r\n\t\t\t\t\twhile(m = msg[i++]){\r\n\t\t\t\t\t\tmesh.hear(m, peer);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t;(function(){\r\n\t\t\t\tmesh.say = function(msg, peer){\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t\tTODO: Plenty of performance optimizations\r\n\t\t\t\t\t\tthat can be made just based off of ordering,\r\n\t\t\t\t\t\tand reducing function calls for cached writes.\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tif(!peer){\r\n\t\t\t\t\t\tType.obj.map(ctx.opt.peers, function(peer){\r\n\t\t\t\t\t\t\tmesh.say(msg, peer);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tmp, wire = peer.wire || ((ctx.opt.wire) && ctx.opt.wire(peer)), msh, raw;// || open(peer, ctx); // TODO: Reopen!\r\n\t\t\t\t\tif(!wire){ return }\r\n\t\t\t\t\tmsh = msg.mesh || empty;\r\n\t\t\t\t\tif(peer === msh.via){ return }\r\n\t\t\t\t\tif(!(raw = msh.raw)){ raw = mesh.raw(msg) }\r\n\t\t\t\t\tif((tmp = msg['@'])\r\n\t\t\t\t\t&& (tmp = ctx.dup.s[tmp])\r\n\t\t\t\t\t&& (tmp = tmp.it)){\r\n\t\t\t\t\t\tif(tmp.get && tmp['##'] && tmp['##'] === msg['##']){ // PERF: move this condition outside say?\r\n\t\t\t\t\t\t\treturn; // TODO: this still needs to be tested in the browser!\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif((tmp = msh.to) && (tmp[peer.url] || tmp[peer.id])){ return } // TODO: still needs to be tested\r\n\t\t\t\t\t//console.log('out', JSON.parse(raw));\t\r\n\t\t\t\t\tif(peer.batch){\r\n\t\t\t\t\t\tpeer.batch.push(raw);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpeer.batch = [];\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tvar tmp = peer.batch;\r\n\t\t\t\t\t\tif(!tmp){ return }\r\n\t\t\t\t\t\tpeer.batch = null;\r\n\t\t\t\t\t\tif(!tmp.length){ return }\r\n\t\t\t\t\t\tsend(JSON.stringify(tmp), peer);\r\n\t\t\t\t\t}, ctx.opt.gap || ctx.opt.wait || 1);\r\n\t\t\t\t\tsend(raw, peer);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction send(raw, peer){\r\n\t\t\t\t\tvar wire = peer.wire;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tif(wire.send){\r\n\t\t\t\t\t\t\tif(wire.readyState === wire.OPEN){\r\n\t\t\t\t\t\t\t\t//console.log(\"send:\", raw);\r\n\t\t\t\t\t\t\t\twire.send(raw);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t(peer.queue = peer.queue || []).push(raw);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif(peer.say){\r\n\t\t\t\t\t\t\tpeer.say(raw);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t(peer.queue = peer.queue || []).push(raw);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}());\r\n\t\t\t\r\n\t\t\t;(function(){\r\n\r\n\t\t\t\tmesh.raw = function(msg){\r\n\t\t\t\t\tif(!msg){ return '' }\r\n\t\t\t\t\tvar dup = ctx.dup, msh = msg.mesh || {}, put, hash, tmp;\r\n\t\t\t\t\tif(tmp = msh.raw){ return tmp }\r\n\t\t\t\t\tif(typeof msg === 'string'){ return msg }\r\n\t\t\t\t\tif(msg['@'] && (tmp = msg.put)){\r\n\t\t\t\t\t\tif(!(hash = msg['##'])){\r\n\t\t\t\t\t\t\tput = $(tmp, sort) || '';\r\n\t\t\t\t\t\t\thash = mesh.hash(msg, put);\r\n\t\t\t\t\t\t\tmsg['##'] = hash;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t(tmp = dup.s)[hash = msg['@']+hash] = tmp[msg['#']];\r\n\t\t\t\t\t\tmsg['#'] = hash || msg['#'];\r\n\t\t\t\t\t\tif(put){ (msg = Type.obj.to(msg)).put = _ }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar i = 0, to = []; Type.obj.map(ctx.opt.peers, function(p){\r\n\t\t\t\t\t\tto.push(p.url || p.id); if(++i > 9){ return true } // limit server, fast fix, improve later!\r\n\t\t\t\t\t}); msg['><'] = to.join();\r\n\t\t\t\t\tvar raw = $(msg);\r\n\t\t\t\t\tif(u !== put){\r\n\t\t\t\t\t\traw = raw.replace('\"'+ _ +'\"', put);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msh){\r\n\t\t\t\t\t\tmsh.raw = raw;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn raw;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.hash = function(msg, hash){\r\n\t\t\t\t\treturn Mesh.hash(hash || $(msg.put, sort) || '') || msg['#'] || Type.text.random(9);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction sort(k, v){ var tmp;\r\n\t\t\t\t\tif(!(v instanceof Object)){ return v }\r\n\t\t\t\t\tType.obj.map(Object.keys(v).sort(), map, {to: tmp = {}, on: v});\r\n\t\t\t\t\treturn tmp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction map(k){\r\n\t\t\t\t\tthis.to[k] = this.on[k];\r\n\t\t\t\t}\r\n\t\t\t\tvar $ = JSON.stringify, _ = ':])([:'\r\n\r\n\t\t\t}());\r\n\r\n\t\t\tmesh.hi = function(peer){\r\n\t\t\t\tctx.on('hi', peer);\r\n\t\t\t\tvar queue = peer.queue;\r\n\t\t\t\tpeer.queue = [];\r\n\t\t\t\tType.obj.map(queue, function(msg){\r\n\t\t\t\t\tmesh.say(msg, peer);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn mesh;\r\n\t\t}\r\n\r\n\t\tMesh.hash = function(s){ // via SO\r\n\t\t\tif(typeof s !== 'string'){ return {err: 1} }\r\n\t    var c = 0;\r\n\t    if(!s.length){ return c }\r\n\t    for(var i=0,l=s.length,n; i<l; ++i){\r\n\t      n = s.charCodeAt(i);\r\n\t      c = ((c<<5)-c)+n;\r\n\t      c |= 0;\r\n\t    }\r\n\t    return c; // Math.abs(c);\r\n\t  }\r\n\r\n\t  var empty = {}, u;\r\n\t  Object.keys = Object.keys || function(o){ return map(o, function(v,k,t){t(k)}) }\r\n\r\n\t  try{ module.exports = Mesh }catch(e){}\r\n\r\n\t})(USE, './adapters/mesh');\r\n\r\n\t;USE(function(module){\r\n\t\tvar Gun = USE('../index');\r\n\t\tGun.Mesh = USE('./mesh');\r\n\r\n\t\tGun.on('opt', function(root){\r\n\t\t\tthis.to.next(root);\r\n\t\t\tvar opt = root.opt;\r\n\t\t\tif(root.once){ return }\r\n\t\t\tif(false === opt.WebSocket){ return }\r\n\r\n\t\t\tvar env;\r\n\t\t\tif(typeof window !== \"undefined\"){ env = window }\r\n\t\t\tif(typeof global !== \"undefined\"){ env = global }\r\n\t\t\tenv = env || {};\r\n\r\n\t\t\tvar websocket = opt.WebSocket || env.WebSocket || env.webkitWebSocket || env.mozWebSocket;\r\n\t\t\tif(!websocket){ return }\r\n\t\t\topt.WebSocket = websocket;\r\n\r\n\t\t\tvar mesh = opt.mesh = opt.mesh || Gun.Mesh(root);\r\n\t\t\troot.on('create', function(at){\r\n\t\t\t\tthis.to.next(at);\r\n\t\t\t\troot.on('out', mesh.out);\r\n\t\t\t});\r\n\r\n\t\t\topt.wire = opt.wire || open;\r\n\t\t\tfunction open(peer){\r\n\t\t\t\tif(!peer || !peer.url){ return }\r\n\t\t\t\tvar url = peer.url.replace('http', 'ws');\r\n\t\t\t\tvar wire = peer.wire = new opt.WebSocket(url);\r\n\t\t\t\twire.onclose = function(){\r\n\t\t\t\t\troot.on('bye', peer);\r\n\t\t\t\t\treconnect(peer);\r\n\t\t\t\t};\r\n\t\t\t\twire.onerror = function(error){\r\n\t\t\t\t\treconnect(peer); // placement?\r\n\t\t\t\t\tif(!error){ return }\r\n\t\t\t\t\tif(error.code === 'ECONNREFUSED'){\r\n\t\t\t\t\t\t//reconnect(peer, as);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\twire.onopen = function(){\r\n\t\t\t\t\tmesh.hi(peer);\r\n\t\t\t\t}\r\n\t\t\t\twire.onmessage = function(msg){\r\n\t\t\t\t\t//console.log('in', JSON.parse(msg.data || msg));\r\n\t\t\t\t\tif(!msg){ return }\r\n\t\t\t\t\tenv.inLength = (env.inLength || 0) + (msg.data || msg).length; // TEMPORARY, NON-STANDARD, FOR DEBUG\r\n\t\t\t\t\tmesh.hear(msg.data || msg, peer);\r\n\t\t\t\t};\r\n\t\t\t\treturn wire;\r\n\t\t\t}\r\n\r\n\t\t\tfunction reconnect(peer){\r\n\t\t\t\tclearTimeout(peer.defer);\r\n\t\t\t\tpeer.defer = setTimeout(function(){\r\n\t\t\t\t\topen(peer);\r\n\t\t\t\t}, 2 * 1000);\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar noop = function(){};\r\n\t})(USE, './adapters/websocket');\r\n\r\n}());","var createGunTransport = require('./gun-transport')\nvar gun = require('gun/gun')\n\nmodule.exports = createGunTransport(gun)","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","!function(){var t;\"undefined\"!=typeof window&&(t=window),\"undefined\"!=typeof global&&(t=global);var _=(t=t||{}).console||{log:function(){}};function x(o){return o.slice?x[e(o)]:function(t,n){o(t={exports:{}}),x[e(n)]=t.exports};function e(t){return t.split(\"/\").slice(-1).toString().replace(\".js\",\"\")}}if(\"undefined\"!=typeof module)var f=module;x(function(t){var p={};p.fns=p.fn={is:function(t){return!!t&&\"function\"==typeof t}},p.bi={is:function(t){return t instanceof Boolean||\"boolean\"==typeof t}},p.num={is:function(t){return!h(t)&&(0<=t-parseFloat(t)+1||1/0===t||-1/0===t)}},p.text={is:function(t){return\"string\"==typeof t}},p.text.ify=function(t){return p.text.is(t)?t:\"undefined\"!=typeof JSON?JSON.stringify(t):t&&t.toString?t.toString():t},p.text.random=function(t,n){var o=\"\";for(t=t||24,n=n||\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz\";0<t;)o+=n.charAt(Math.floor(Math.random()*n.length)),t--;return o},p.text.match=function(n,t){var o=!1;if(n=n||\"\",t=p.text.is(t)?{\"=\":t}:t||{},p.obj.has(t,\"~\")&&(n=n.toLowerCase(),t[\"=\"]=(t[\"=\"]||t[\"~\"]).toLowerCase()),p.obj.has(t,\"=\"))return n===t[\"=\"];if(p.obj.has(t,\"*\")){if(n.slice(0,t[\"*\"].length)!==t[\"*\"])return!1;o=!0,n=n.slice(t[\"*\"].length)}if(p.obj.has(t,\"!\")){if(n.slice(-t[\"!\"].length)!==t[\"!\"])return!1;o=!0}if(p.obj.has(t,\"+\")&&p.list.map(p.list.is(t[\"+\"])?t[\"+\"]:[t[\"+\"]],function(t){if(!(0<=n.indexOf(t)))return!0;o=!0}))return!1;if(p.obj.has(t,\"-\")&&p.list.map(p.list.is(t[\"-\"])?t[\"-\"]:[t[\"-\"]],function(t){if(!(n.indexOf(t)<0))return!0;o=!0}))return!1;if(p.obj.has(t,\">\")){if(!(n>t[\">\"]))return!1;o=!0}if(p.obj.has(t,\"<\")){if(!(n<t[\"<\"]))return!1;o=!0}if(p.obj.has(t,\"?\")){if(!function(t,n){for(var o,e=-1,i=0;o=n[i++];)if(!~(e=t.indexOf(o,e+1)))return!1;return!0}(n,t[\"?\"]))return!1;o=!0}return o},p.list={is:function(t){return t instanceof Array}},p.list.slit=Array.prototype.slice,p.list.sort=function(o){return function(t,n){return t&&n?(t=t[o])<(n=n[o])?-1:n<t?1:0:0}},p.list.map=function(t,n,o){return e(t,n,o)},p.list.index=1,p.obj={is:function(t){return!!t&&(t instanceof Object&&t.constructor===Object||\"Object\"===Object.prototype.toString.call(t).match(/^\\[object (\\w+)\\]$/)[1])}},p.obj.put=function(t,n,o){return(t||{})[n]=o,t},p.obj.has=function(t,n){return t&&Object.prototype.hasOwnProperty.call(t,n)},p.obj.del=function(t,n){if(t)return t[n]=null,delete t[n],t},p.obj.as=function(t,n,o,e){return t[n]=t[n]||(e===o?{}:o)},p.obj.ify=function(n){if(d(n))return n;try{n=JSON.parse(n)}catch(t){n={}}return n},function(){function o(t,n){v(this,n)&&void 0!==this[n]||(this[n]=t)}p.obj.to=function(t,n){return e(t,o,n=n||{}),n}}(),p.obj.copy=function(t){return t?JSON.parse(JSON.stringify(t)):t},function(){function o(t,n){var o=this.n;if(!o||!(n===o||d(o)&&v(o,n)))return!!n||void 0}p.obj.empty=function(t,n){return!t||!e(t,o,{n:n})}}(),function(){function c(t,n){2!==arguments.length?(c.r=c.r||[]).push(t):(c.r=c.r||{})[t]=n}var l=Object.keys;p.obj.map=function(t,n,o){var e,i,r,u,a=0,s=g(n);if(c.r=null,l&&d(t)&&(r=l(t),u=!0),h(t)||r)for(e=(r||t).length;a<e;a++){var f=a+p.list.index;if(s){if(void 0!==(i=u?n.call(o||this,t[r[a]],r[a],c):n.call(o||this,t[a],f,c)))return i}else if(n===t[u?r[a]:a])return r?r[a]:f}else for(a in t)if(s){if(v(t,a)&&void 0!==(i=o?n.call(o,t[a],a,c):n(t[a],a,c)))return i}else if(n===t[a])return a;return s?c.r:p.list.index?0:-1}}(),p.time={},p.time.is=function(t){return t?t instanceof Date:+(new Date).getTime()};var g=p.fn.is,h=p.list.is,n=p.obj,d=n.is,v=n.has,e=n.map;t.exports=p})(x,\"./type\"),x(function(t){t.exports=function t(n,o,e){if(!n)return{to:t};n=(this.tag||(this.tag={}))[n]||(this.tag[n]={tag:n,to:t._={next:function(t){var n;(n=this.to)&&n.next(t)}}});if(o instanceof Function){var i={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:o,the:n,on:this,as:e};return(i.back=n.last||n).to=i,n.last=i}return(n=n.to)&&void 0!==o&&n.next(o),n}})(x,\"./onto\"),x(function(t){if(\"undefined\"==typeof JSON)throw new Error(\"JSON is not included in this browser. Please load it first: ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js\");var r=JSON.stringify;t.exports=function(t,n,o,e,i){if(t<n)return{defer:!0};if(n<o)return{historical:!0};if(o<n)return{converge:!0,incoming:!0};if(n===o){if((e=r(e)||\"\")===(i=r(i)||\"\"))return{state:!0};if(e<i)return{converge:!0,current:!0};if(i<e)return{converge:!0,incoming:!0}}return{err:\"Invalid CRDT Data: \"+e+\" to \"+i+\" at \"+n+\" to \"+o+\"!\"}}})(x,\"./HAM\"),x(function(t){var n=x(\"./type\"),e={is:function(t){return void 0!==t&&(null===t||t!==1/0&&(!!(u(t)||o(t)||r(t))||(e.rel.is(t)||!1)))},rel:{_:\"#\"}};(function(){function o(t,n){return this.id?this.id=!1:n==i&&u(t)?void(this.id=t):this.id=!1}e.rel.is=function(t){if(t&&t[i]&&!t._&&s(t)){var n={};if(c(t,o,n),n.id)return n.id}return!1}})(),e.rel.ify=function(t){return f({},i,t)},n.obj.has._=\".\";var i=e.rel._,o=n.bi.is,r=n.num.is,u=n.text.is,a=n.obj,s=a.is,f=a.put,c=a.map;t.exports=e})(x,\"./val\"),x(function(t){var n=x(\"./type\"),r=x(\"./val\"),u={_:\"_\",soul:function(t,n){return t&&t._&&t._[n||f]}};u.soul.ify=function(t,n){return n=\"string\"==typeof n?{soul:n}:n||{},(t=t||{})._=t._||{},t._[f]=n.soul||t._[f]||e(),t},u.soul._=r.rel._,function(){function i(t,n){if(n!==u._)return!r.is(t)||void(this.cb&&this.cb.call(this.as,t,n,this.n,this.s))}u.is=function(t,n,o){var e;return!!a(t)&&(!!(e=u.soul(t))&&!s(t,i,{as:o,cb:n,s:e,n:t}))}}(),function(){function e(t,n){var o,e=this.o;e.map?void 0===(o=e.map.call(this.as,t,\"\"+n,e.node))?i(e.node,n):e.node&&(e.node[n]=o):r.is(t)&&(e.node[n]=t)}u.ify=function(t,n,o){return n?\"string\"==typeof n?n={soul:n}:n instanceof Function&&(n={map:n}):n={},n.map&&(n.node=n.map.call(o,t,void 0,n.node||{})),(n.node=u.soul.ify(n.node||{},n))&&s(t,e,{o:n,as:o}),n.node}}();var o=n.obj,a=o.is,i=o.del,s=o.map,e=n.text.random,f=u.soul._;t.exports=u})(x,\"./node\"),x(function(t){var n=x(\"./type\"),u=x(\"./node\");function s(){var t;return t=o(),e<t?(i=0,e=t+s.drift):e=t+(i+=1)/r+s.drift}var o=n.time.is,e=-1/0,i=0,r=1e3,a=\"undefined\"!=typeof performance&&(performance.timing&&performance);a&&a.timing&&a.timing.navigationStart||(a=!1);s._=\">\",s.drift=0,s.is=function(t,n,o){var e=n&&t&&t[b]&&t[b][s._]||o;if(e)return d(e=e[n])?e:-1/0},s.lex=function(){return s().toString(36).replace(\".\",\"\")},s.ify=function(t,n,o,e,i){if(!t||!t[b]){if(!i)return;t=u.soul.ify(t,i)}var r=c(t[b],s._);return void 0!==n&&n!==b&&(d(o)&&(r[n]=o),void 0!==e&&(t[n]=e)),t},s.to=function(t,n,o){var e=t[n];return p(e)&&(e=h(e)),s.ify(o,n,s.is(t,n),e,u.soul(t))},function(){function a(t,n){b!==n&&s.ify(this.o,n,this.s)}s.map=function(i,r,u){var t=p(t=i||r)?t:null;return i=v(i=i||r)?i:null,t&&!i?(r=d(r)?r:s(),t[b]=t[b]||{},g(t,a,{o:t,s:r}),t):(u=u||p(r)?r:void 0,r=d(r)?r:s(),function(t,n,o,e){if(!i)return a.call({o:o,s:r},t,n),t;i.call(u||this||{},t,n,o,e),l(o,n)&&void 0===o[n]||a.call({o:o,s:r},t,n)})}}();var f=n.obj,c=f.as,l=f.has,p=f.is,g=f.map,h=f.copy,d=n.num.is,v=n.fn.is,b=u._;t.exports=s})(x,\"./state\"),x(function(t){var u=x(\"./type\"),f=x(\"./val\"),c=x(\"./node\"),r={};!function(){function i(t,n){if(!t||n!==c.soul(t)||!c.is(t,this.fn,this.as))return!0;this.cb&&(o.n=t,o.as=this.as,this.cb.call(o.as,t,n,o))}function o(t){t&&c.is(o.n,t,o.as)}r.is=function(t,n,o,e){return!(!t||!l(t)||a(t))&&!s(t,i,{cb:n,fn:o,as:e})}}(),function(){function a(t,n){var o;return(o=function(t,n){var o,e=t.seen,i=e.length;for(;i--;)if(o=e[i],n.obj===o.obj)return o;e.push(n)}(t,n))?o:(n.env=t,n.soul=i,c.ify(n.obj,e,n)&&(t.graph[f.rel.is(n.rel)]=n.node),n)}function e(t,n,o){var e,i,r=this,u=r.env;if(c._===n&&g(t,f.rel._))return o._;if(e=s(t,n,o,r,u)){if(n||(r.node=r.node||o||{},g(t,c._)&&(r.node._=h(t._)),r.node=c.soul.ify(r.node,f.rel.is(r.rel)),r.rel=r.rel||f.rel.ify(c.soul(r.node))),(i=u.map)&&(i.call(u.as||{},t,n,o,r),g(o,n))){if(void 0===(t=o[n]))return void p(o,n);if(!(e=s(t,n,o,r,u)))return}if(!n)return r.node;if(!0===e)return t;if((i=a(u,{obj:t,path:r.path.concat(n)})).node)return i.rel}}function i(t){var n=this,o=f.rel.is(n.rel),e=n.env.graph;n.rel=n.rel||f.rel.ify(t),n.rel[f.rel._]=t,n.node&&n.node[c._]&&(n.node[c._][f.rel._]=t),g(e,o)&&(e[t]=e[o],p(e,o))}function s(t,n,o,e,i){var r;return!!f.is(t)||(l(t)?1:(r=i.invalid)?s(t=r.call(i.as||{},t,n,o),n,o,e,i):(i.err=\"Invalid value at '\"+e.path.concat(n).join(\".\")+\"'!\",void(u.list.is(t)&&(i.err+=\" Use `.set(item)` instead of an Array.\"))))}r.ify=function(t,n,o){var e={path:[],obj:t};return n?\"string\"==typeof n?n={soul:n}:n instanceof Function&&(n.map=n):n={},n.soul&&(e.rel=f.rel.ify(n.soul)),n.graph=n.graph||{},n.seen=n.seen||[],n.as=n.as||o,a(n,e),n.root=e.node,n.graph}}(),r.node=function(t){var n=c.soul(t);if(n)return o({},n,t)},function(){function i(t,n){var o,e;if(c._!==n)(o=f.rel.is(t))?(e=this.opt.seen[o])?this.obj[n]=e:this.obj[n]=this.opt.seen[o]=r.to(this.graph,o,this.opt):this.obj[n]=t;else{if(a(t,f.rel._))return;this.obj[n]=h(t)}}r.to=function(t,n,o){if(t){var e={};return o=o||{seen:{}},s(t[n],i,{obj:e,graph:t,opt:o}),e}}}();u.fn.is;var n=u.obj,l=n.is,p=n.del,g=n.has,a=n.empty,o=n.put,s=n.map,h=n.copy;t.exports=r})(x,\"./graph\"),x(function(t){x(\"./onto\"),t.exports=function(t,n){if(this.on){if(!(t instanceof Function)){if(!t||!n)return;var o=t[\"#\"]||t,e=(this.tag||empty)[o];if(!e)return;return e=this.on(o,n),clearTimeout(e.err),!0}o=n&&n[\"#\"]||Math.random().toString(36).slice(2);if(!t)return o;var i=this.on(o,t,n);return i.err=i.err||setTimeout(function(){i.next({err:\"Error: No ACK received yet.\"}),i.off()},(this.opt||{}).lack||9e3),o}}})(x,\"./ask\"),x(function(t){var r=x(\"./type\");var u=r.time.is;t.exports=function(e){var i={s:{}};return e=e||{max:1e3,age:9e3},i.check=function(t){var n;return!!(n=i.s[t])&&(n.pass?n.pass=!1:i.track(t))},i.track=function(t,n){var o=i.s[t]||(i.s[t]={});return o.was=u(),n&&(o.pass=!0),i.to||(i.to=setTimeout(function(){var o=u();r.obj.map(i.s,function(t,n){e.age>o-t.was||r.obj.del(i.s,n)}),i.to=null},e.age+9)),o},i}})(x,\"./dup\"),x(function(t){function c(t){return t instanceof c?(this._={gun:this}).gun:this instanceof c?c.create(this._={gun:this,opt:t}):new c(t)}c.is=function(t){return t instanceof c||t&&t._&&t._.gun&&!0||!1},c.version=.9,(c.chain=c.prototype).toJSON=function(){};var n=x(\"./type\");n.obj.to(n,c),c.HAM=x(\"./HAM\"),c.val=x(\"./val\"),c.node=x(\"./node\"),c.state=x(\"./state\"),c.graph=x(\"./graph\"),c.on=x(\"./onto\"),c.ask=x(\"./ask\"),c.dup=x(\"./dup\"),function(){function r(t){var n,o,e=this.as,i=e.gun;(o=t[\"#\"])||(o=t[\"#\"]=u(9)),(n=e.dup).check(o)?e.out===t.out&&(t.out=void 0,this.to.next(t)):(n.track(o),e.ask(t[\"@\"],t)||(t.get&&c.on.get(t,i),t.put&&c.on.put(t,i)),this.to.next(t),e.out||(t.out=r,e.on(\"out\",t)))}c.create=function(t){t.root=t.root||t,t.graph=t.graph||{},t.on=t.on||c.on,t.ask=t.ask||c.ask,t.dup=t.dup||c.dup();var n=t.gun.opt(t.opt);return t.once||(t.on(\"in\",r,t),t.on(\"out\",r,p(t,{out:r})),c.on(\"create\",t),t.on(\"create\",t)),t.once=1,n}}(),function(){function i(t,n,o,e){var i=this,r=c.state.is(o,n);if(!r)return i.err=\"Error: No state on '\"+n+\"' in node '\"+e+\"'!\";var u=i.graph[e]||v,a=c.state.is(u,n,!0),s=u[n],f=c.HAM(i.machine,r,a,t,s);f.incoming?(i.put[e]=c.state.to(o,n,i.put[e]),(i.diff||(i.diff={}))[e]=c.state.to(o,n,i.diff[e]),i.souls[e]=!0):f.defer&&(i.defer=r<(i.defer||1/0)?r:i.defer)}function r(t,n){var o=this,e=o.gun._,i=(e.next||v)[n];if(!i){if(!(e.opt||v).super)return void(o.souls[n]=!1);i=o.gun.get(n)._}var r=o.map[n]={put:t,get:n,gun:i.gun},u={ctx:o,msg:r};o.async=!!e.tag.node,o.ack&&(r[\"@\"]=o.ack),g(t,a,u),o.async&&(o.and||e.on(\"node\",function(t){this.to.next(t),t===o.map[t.get]&&(o.souls[t.get]=!1,g(t.put,s,t),g(o.souls,function(t){if(t)return t})||o.c||(o.c=1,this.off(),e.stop={},g(o.map,f,o)))}),o.and=!0,e.on(\"node\",r))}function a(t,n){var o=this.ctx,e=o.graph,i=this.msg,r=i.get,u=i.put,a=i.gun._;e[r]=c.state.to(u,n,e[r]),o.async||(a.put=c.state.to(u,n,a.put))}function s(t,n){var o=this.put,e=this.gun._;e.put=c.state.to(o,n,e.put)}function f(t,n){t.gun&&t.gun._.on(\"in\",t)}c.on.put=function(t,n){var o=n._,e={gun:n,graph:o.graph,put:{},map:{},souls:{},machine:c.state(),ack:t[\"@\"]};if(c.graph.is(t.put,null,i,e)||(e.err=\"Error: Invalid graph!\"),e.err)return o.on(\"in\",{\"@\":t[\"#\"],err:c.log(e.err)});g(e.put,r,e),e.async||(o.stop={},g(e.map,f,e)),void 0!==e.defer&&setTimeout(function(){c.on.put(t,n)},e.defer-e.machine),e.diff&&o.on(\"put\",p(t,{put:e.diff}))},c.on.get=function(t,n){var o=n._,e=t.get[h],i=o.graph[e],r=t.get[d],u=(o.next||(o.next={}))[e];if(!i||!u)return o.on(\"get\",t);if(r){if(!l(i,r))return o.on(\"get\",t);i=c.state.to(i,r)}else i=c.obj.copy(i);i=c.graph.node(i),o.on(\"in\",{\"@\":t[\"#\"],how:\"mem\",put:i,gun:n}),o.on(\"get\",t)}}(),c.chain.opt=function(t){t=t||{};var n=this._,o=t.peers||t;return a(t)||(t={}),a(n.opt)||(n.opt=t),i(o)&&(o=[o]),e(o)&&(o=g(o,function(t,n,o){o(t,{url:t})}),a(n.opt.peers)||(n.opt.peers={}),n.opt.peers=p(o,n.opt.peers)),n.opt.peers=n.opt.peers||{},p(t,n.opt),c.on(\"opt\",n),n.opt.uuid=n.opt.uuid||function(){return s()+u(12)},this};var e=c.list.is,o=c.text,i=o.is,u=o.random,r=c.obj,a=r.is,l=r.has,p=r.to,g=r.map,s=(r.copy,c.state.lex),h=c.val.rel._,d=\".\",v=(c.node._,c.val.rel.is,{});_.debug=function(t,n){return _.debug.i&&t===_.debug.i&&_.debug.i++&&(_.log.apply(_,arguments)||n)},(c.log=function(){return!c.log.off&&_.log.apply(_,arguments),[].slice.call(arguments).join(\" \")}).once=function(t,n,o){return(o=c.log.once)[t]=o[t]||0,o[t]++||c.log(n)},c.log.once(\"welcome\",\"Hello wonderful person! :) Thanks for using GUN, feel free to ask for help on https://gitter.im/amark/gun and ask StackOverflow questions tagged with 'gun'!\"),\"undefined\"!=typeof window&&(window.Gun=c);try{void 0!==f&&(f.exports=c)}catch(t){}t.exports=c})(x,\"./root\"),x(function(t){var a=x(\"./root\");a.chain.back=function(t,n){if(-1===(t=t||1)||1/0===t)return this._.root.gun;if(1===t)return(this._.back||this._).gun;var o=this._;if(\"string\"==typeof t&&(t=t.split(\".\")),t instanceof Array){for(var e=0,i=t.length,r=o;e<i;e++)r=(r||s)[t[e]];return void 0!==r?n?this:r:(r=o.back)?r.gun.back(t,n):void 0}if(t instanceof Function){var u;for(r={back:o};(r=r.back)&&!(u=t(r,n)););return u}return a.num.is(t)?(o.back||o).gun.back(t-1):this};var s={}})(x,\"./back\"),x(function(t){var u=x(\"./root\");function r(t){var n,o=this.as,e=o.back,i=o.root;if(t.I||(t.I=o.gun),t.gun||(t.gun=o.gun),this.to.next(t),n=t.get){if(n[\"#\"]||o.soul){if(n[\"#\"]=n[\"#\"]||o.soul,t[\"#\"]||(t[\"#\"]=_(9)),e=i.gun.get(n[\"#\"])._,n=n[\".\"]){if(d(e.put,n))return void e.on(\"in\",{gun:e.gun,put:u.state.to(e.put,n),get:e.get})}else{if(d(e,\"put\")&&e.on(\"in\",e),e.ack)return;t.gun=e.gun,e.ack=-1}return i.ask(p,t),i.on(\"in\",t)}if(i.now&&(i.now[o.id]=i.now[o.id]||!0),n[\".\"])return o.get?(t={get:{\".\":o.get},gun:o.gun},(e.ask||(e.ask={}))[o.get]=t.gun._):t={get:{},gun:o.gun},e.on(\"out\",t);if(o.ack=o.ack||-1,o.get)return t.gun=o.gun,n[\".\"]=o.get,(e.ask||(e.ask={}))[o.get]=t.gun._,e.on(\"out\",t)}return e.on(\"out\",t)}function a(t){var n,o=this,e=this.as,i=t.gun._,r=t.put;if(e.get&&t.get!==e.get&&(t=b(t,{get:e.get})),e.has&&i!==e&&(t=b(t,{gun:e.gun}),i.ack&&(e.ack=i.ack)),y===e.get&&r&&r[\"#\"]&&(e._id=r[\"#\"]),g===r){if(o.to.next(t),e.soul)return;return f(e,t,o),e.has&&l(e,t),v(i.echo,e.id),void v(e.map,i.id)}return e.soul?(o.to.next(t),f(e,t,o),void m(r,c,{at:t,cat:e})):(n=u.val.rel.is(r))?(s(e,t,i,n),o.to.next(t),void f(e,t,o)):u.val.is(r)?(e.has||e.soul?l(e,t):(i.has||i.soul)&&((((i.echo||(i.echo={}))[e.id]=e).map||(e.map={}))[i.id]=e.map[i.id]||{at:i}),o.to.next(t),void f(e,t,o)):(e.has&&i!==e&&d(i,\"put\")&&(e.put=i.put),(n=u.node.soul(r))&&i.has&&(i.put=e.root.gun.get(n)._.put),o.to.next(t),f(e,t,o),s(e,t,i,n),void m(r,c,{at:t,cat:e}))}function s(t,n,o,e){if(e&&y!==t.get){var i=t.root.gun.get(e)._;if(t.has?o=i:o.has&&s(o,n,o,e),o!==t){((o.echo||(o.echo={}))[t.id]=t).has&&!(t.map||h)[o.id]&&l(t,n),i=(t.map||(t.map={}))[o.id]=t.map[o.id]||{at:o};var r=t.root.now;if(e===i.rel){if(!r)return;if(g===r[t.id])return;if((r._||(r._={}))[t.id]===e)return;r._[t.id]=e}!function(t,o){var n=t.root.gun.get(o)._;if(t.ack&&(n.on(\"out\",{get:{\"#\":o}}),!t.ask))return;m(t.ask||t.next,function(t,n){t.on(\"out\",{get:{\"#\":o,\".\":n}})}),u.obj.del(t,\"ask\")}(t,i.rel=e)}}}function f(t,n,o){t.echo&&(t.has&&(n=b(n,{event:o})),m(t.echo,e,n))}function e(t){t.on(\"in\",this)}function c(t,n){var o,e,i=this.cat.next||h,r=this.at;(y!==n||i[n])&&(e=i[n])&&(e.has?(t&&t[k]&&u.val.rel.is(t)===u.node.soul(e.put)||(e.put=t),o=e.gun):o=r.gun.get(n),e.on(\"in\",{put:t,get:n,gun:o,via:r}))}function l(n,t){if(n.has||n.soul){var o=n.map,e=n.root;n.map=null,(e.now&&e.now[n.id]||t[\"@\"]||null!==o)&&(g===o&&u.val.rel.is(n.put)||(m(o,function(t){(t=t.at)&&v(t.echo,n.id)}),m(n.next,function(t,n){t.put=g,t.ack&&(t.ack=-1),t.on(\"in\",{get:n,gun:t.gun,put:g})})))}}function p(t,n){var o=this.as,e=o.get||h,i=o.gun._,r=(t.put||h)[e[\"#\"]];if(i.ack&&(i.ack=i.ack+1||1),!t.put||e[\".\"]&&!d(r,i.get)){if(i.put!==g)return;i.on(\"in\",{get:i.get,put:i.put=g,gun:i.gun,\"@\":t[\"@\"]})}else y!=e[\".\"]?(t.gun=i.root.gun,u.on.put(t,i.root.gun)):i.on(\"in\",{get:i.get,put:r[i.get],gun:i.gun,\"@\":t[\"@\"]})}u.chain.chain=function(t){var n,o=this._,e=new(t||this).constructor(this),i=e._;return i.root=n=o.root,i.id=++n.once,i.back=this._,i.on=u.on,i.on(\"in\",a,i),i.on(\"out\",r,i),e};var g,h={},n=u.obj,d=n.has,v=(n.put,n.del),b=n.to,m=n.map,_=u.text.random,k=u.val.rel._,y=u.node._})(x,\"./chain\"),x(function(t){var f=x(\"./root\");function c(t){var n,o=this,e=o.as,i=t.gun._,r=i.root,u=t.put;if((n=r.now)&&o!==n[e.now])return o.to.next(t);void 0===u&&(u=i.put),(n=u)&&n[p._]&&(n=p.is(n))&&void 0!==(n=i.root.gun.get(n)._).put&&(t=a(t,{put:n.put})),e.use(t,t.event||o),o.to.next(t)}f.chain.get=function(t,n,o){var e;if(\"string\"!=typeof t){if(t instanceof Function){var i,r=(e=this)._,u=r.root,a=u.now;return(o=n||{}).use=t,o.out=o.out||{},o.out.get=o.out.get||{},i=r.on(\"in\",c,o),(u.now={$:1})[o.now=r.id]=i,r.on(\"out\",o.out),u.now=a,e}return l(t)?this.get(\"\"+t,n,o):(a=p.is(t))?this.get(a,n,o):((o=this.chain())._.err={err:f.log(\"Invalid get request!\",t)},n&&n.call(o,o._.err),o)}var s=this._;return(e=(s.next||g)[t])||(e=function(t,n){var o=n._,e=o.next,i=n.chain()._;e||(e=o.next={});e[i.get=t]=i,n===o.root.gun?i.soul=t:(o.soul||o.has)&&(i.has=t);return i}(t,this)),e=e.gun,(a=s.stun)&&(e._.stun=e._.stun||a),n&&n instanceof Function&&e.get(n,o),e};f.obj.has;var a=f.obj.to,l=f.num.is,p=f.val.rel,g=(f.node._,{})})(x,\"./get\"),x(function(t){var s=x(\"./root\");function a(t){t&&t()}function f(){var i=this;i.graph&&!o(i.stun,n)&&(i.res=i.res||function(t){t&&t()},i.res(function(){var n=i.gun.back(-1)._,t=n.ask(function(t){n.root.on(\"ack\",t),this.off(),i.ack&&i.ack(t,this)},i.opt),o=n.root.now;r.del(n.root,\"now\"),n.root.PUT=!0;var e=n.root.stop;i.ref._.now=!0,i.ref._.on(\"out\",{gun:i.ref,put:i.out=i.env.graph,opt:i.opt,\"#\":t}),r.del(i.ref._,\"now\"),r.del(n.root,\"PUT\"),n.root.now=o,n.root.stop=e},i),i.res&&i.res())}function n(t,n){if(t)return!0}function c(t,n,o,r){var u=this;!n&&r.path.length&&(u.res||e)(function(){for(var o=r.path,e=u.ref,t=(u.opt,0),n=o.length;t<n;t++)e=e.get(o[t]);if(s.node.soul(r.obj)){var i=s.node.soul(r.obj)||(u.via.back(\"opt.uuid\")||s.text.random)();return i?(e.back(-1).get(i),void r.soul(i)):((u.stun=u.stun||{})[o]=!0,void u.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);e.back(-1).get(n),r.soul(n),u.stun[o]=!1,u.batch()}))}(u.stun=u.stun||{})[o]=!0,e.get(\"_\").get(l,{as:{at:r,as:u}})},{as:u,at:r})}function l(t,n){var o=this.as,e=o.at;if(o=o.as,t.gun&&t.gun._.back){var i=t.gun._,r=i,u=(t.put||v)[\"#\"];n.off(),i=t.gun._.back;var a=a||s.node.soul(e.obj)||s.node.soul(i.put)||s.val.rel.is(i.put)||u||r._id||(o.via.back(\"opt.uuid\")||s.text.random)();a?p(i,r._id=r._id||a,e,o):i.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);p(i,r._id=r._id||n,e,o)})}}function p(t,n,o,e){t.gun.back(-1).get(n),o.soul(n),e.stun[o.path]=!1,e.batch()}function g(t,n){var o=this.as;if(t.gun&&t.gun._)if(t.err)_.log(\"Please report this as an issue! Put.any.err\");else{var e,i=t.gun._.back,r=i.put,u=o.opt||{};if(!(e=o.ref)||!e._.now){if(n.off(),o.ref!==o.gun){if(!(e=o.gun._.get||i.get))return void _.log(\"Please report this as an issue! Put.no.get\");o.data=d({},e,o.data),e=null}if(void 0===r){if(!i.get)return;i.soul||(e=i.gun.back(function(t){if(t.soul)return t.soul;o.data=d({},t.get,o.data)})),e=e||i.get,i=i.root.gun.get(e)._,o.not=o.soul=e,r=o.data}o.not||(o.soul=s.node.soul(r))||(o.path&&h(o.data)?o.soul=(u.uuid||o.via.back(\"opt.uuid\")||s.text.random)():(m==t.get&&(o.soul=(t.put||v)[\"#\"]||t._id),o.soul=o.soul||t.soul||i.soul||(u.uuid||o.via.back(\"opt.uuid\")||s.text.random)()),o.soul)?o.ref.put(o.data,o.soul,o):o.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);o.ref.put(o.data,o.soul=n,o)})}}}s.chain.put=function(t,e,i){var n,r=this,o=r._,u=o.root.gun;return(i=i||{}).data=t,i.via=i.gun=i.via||i.gun||r,\"string\"==typeof e?i.soul=e:i.ack=i.ack||e,o.soul&&(i.soul=o.soul),i.soul||u===r?h(i.data)?(i.soul=i.soul||(i.not=s.node.soul(i.data)||(i.via.back(\"opt.uuid\")||s.text.random)()),i.soul?(i.gun=r=u.get(i.soul),i.ref=i.gun,function(t){t.batch=f;var n=t.opt||{},o=t.env=s.state.map(c,n.state);if(o.soul=t.soul,t.graph=s.graph.ify(t.data,o,t),o.err)return(t.ack||b).call(t,t.out={err:s.log(o.err)}),t.res&&t.res();t.batch()}(i)):i.via.back(\"opt.uuid\")(function(t,n){if(t)return s.log(t);(i.ref||i.gun).put(i.data,i.soul=n,i)}),r):((i.ack||b).call(i,i.out={err:s.log(\"Data saved to the root level of the graph must be a node (an object), not a\",typeof i.data,'of \"'+i.data+'\"!')}),i.res&&i.res(),r):s.is(t)?(t.get(\"_\").get(function(t,n,o){if(n.off(),!(o=t.gun)||!(o=o._.back)||!o.soul)return s.log(\"The reference you are saving is a\",typeof t.put,'\"'+i.put+'\", not a node (object)!');r.put(s.val.rel.ify(o.soul),e,i)}),r):(i.ref=i.ref||u._===(n=o.back)?r:n.gun,i.ref._.soul&&s.val.is(i.data)&&o.get?(i.data=d({},o.get,i.data),i.ref.put(i.data,i.soul,i)):(i.ref.get(\"_\").get(g,{as:i}),i.out||(i.res=i.res||a,i.gun._.stun=i.ref._.stun)),r)};var r=s.obj,h=r.is,d=r.put,o=r.map,v={},b=function(){},e=function(t,n){t.call(n||v)},m=s.node._})(x,\"./put\"),x(function(t){var n=x(\"./root\");x(\"./chain\"),x(\"./back\"),x(\"./put\"),x(\"./get\"),t.exports=n})(x,\"./index\"),x(function(t){var s=x(\"./index\");function f(t,n){var o=this,e=t.gun,i=e._,r=i.put||t.put,u=o.last,a=i.id+t.get;if(l!==r){if(r&&r[p._]&&(u=p.is(r))){if(u=i.root.gun.get(u)._,l===u.put)return;r=u.put}o.change&&(r=t.put),(u.put!==r||u.get!==a||s.node.soul(r))&&(u.put=r,u.get=a,i.last=r,o.as?o.ok.call(o.as,t,n):o.ok.call(e,r,t.get,t,n))}}function c(t,n,o){var e,i=this.as,r=i.cat,u=t.gun._,a=u.put||t.put;if(e=s.node.soul(a)||p.is(a)){if(e=r.root.gun.get(e)._,l===e.put)return;a=e.put}if(n.wait&&clearTimeout(n.wait),o){if(r.has||r.soul){if(n.off())return}else{if((i.seen=i.seen||{})[u.id])return;i.seen[u.id]=!0}i.ok.call(t.gun||i.gun,a,t.get)}else n.wait=setTimeout(function(){c.call({as:i},t,n,n.wait||1)},i.wait||99)}s.chain.on=function(t,n,o,e){var i,r,u=this,a=u._;if(\"string\"==typeof t)return n?(i=a.on(t,n,o||a,e),o&&o.gun&&(o.subs||(o.subs=[])).push(i),(r=function(){i&&i.off&&i.off(),r.off()}).off=u.off.bind(u)||g,u.off=r,u):a.on(t);var s=n;return(s=!0===s?{change:!0}:s||{}).ok=t,s.last={},u.get(f,s),u},s.chain.val=function(t,n){return s.log.once(\"onceval\",\"Future Breaking API Change: .val -> .once, apologies unexpected.\"),this.once(t,n)},s.chain.once=function(t,n){var o=this,e=o._,i=e.put;if(0<e.ack&&l!==i)return(t||g).call(o,i,e.get),o;if(!t){s.log.once(\"valonce\",\"Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");var r=o.chain();return r._.val=o.once(function(){r._.on(\"in\",o._)}),r}return(n=n||{}).ok=t,n.cat=e,n.out={\"#\":s.text.random(9)},o.get(c,{as:n}),n.async=!0,o},s.chain.off=function(){var t,n=this._,o=n.back;if(o)return(t=o.next)&&t[n.get]&&i(t,n.get),(t=o.ask)&&i(t,n.get),(t=o.put)&&i(t,n.get),(t=n.soul)&&i(o.root.graph,t),(t=n.map)&&e(t,function(t){t.rel&&o.root.gun.get(t.rel).off()}),(t=n.next)&&e(t,function(t){t.gun.off()}),n.on(\"off\",{}),this};var l,n=s.obj,e=n.map,i=(n.has,n.del),p=(n.to,s.val.rel),g=function(){}})(x,\"./on\"),x(function(t){var a=x(\"./index\");function i(t){t.put&&!a.val.is(t.put)&&(this.as.val&&this.off(),o(t.put,n,{at:this.as,msg:t}),this.to.next(t))}function n(t,n){if(r!==n){var o=this.msg.gun,e=this.at,i=o.get(n)._;(i.echo||(i.echo={}))[e.id]=e}}a.chain.map=function(r,t,n){var u,o=this,e=o._;return r?(a.log.once(\"mapfn\",\"Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\"),u=o.chain(),o.map().on(function(t,n,o,e){var i=(r||s).call(this,t,n,o,e);void 0!==i&&(a.is(i)?u._.on(\"in\",i._):u._.on(\"in\",{get:n,put:i,gun:u}))})):(u=e.fields)||((u=e.fields=o.chain())._.val=o.back(\"val\"),u._.MAPOF=e.soul,o.on(\"in\",i,u._)),u};var o=a.obj.map,s=function(){},r=a.node._})(x,\"./map\"),x(function(t){var a=x(\"./index\");a.chain.set=function(t,i,r){var n,u=this;if(i=i||function(){},(r=r||{}).item=r.item||t,n=a.node.soul(t))return u.set(u.back(-1).get(n),i,r);if(!a.is(t)){var o=u.back(\"opt.uuid\")();return o&&a.obj.is(t)?u.set(u._.root.gun.put(t,o),i,r):u.get(a.state.lex()+a.text.random(7)).put(t,i,r)}return t.get(\"_\").get(function(t,n){if(t.gun&&t.gun._.back){n.off();var o=(t.put||{})[\"#\"],e=(t=t.gun._.back).put;if(!(o=t.soul||a.node.soul(e)||o))return i.call(u,{err:a.log('Only a node can be linked! Not \"'+e+'\"!')});u.put(a.obj.put({},o,a.val.rel.ify(o)),i,r)}},{wait:0}),t}})(x,\"./set\"),x(function(t){if(\"undefined\"!=typeof Gun){var n,o=function(){};\"undefined\"!=typeof window&&(n=window);var c=n.localStorage||{setItem:o,removeItem:o,getItem:o};Gun.on(\"create\",function(t){var n=this.to,o=t.opt;if(t.once)return n.next(t);if(!1===o.localStorage)return n.next(t);o.file=o.file||\"gun/\";var i,e,r=Gun.obj.ify(c.getItem(\"gap/\"+o.file))||{},u=Gun.obj.empty;function a(t){if(!t.err&&t.ok){var e=t[\"@\"];setTimeout(function(){Gun.obj.map(r,function(o,t){Gun.obj.map(o,function(t,n){e===t&&delete o[n]}),u(o)&&delete r[t]}),f()},o.wait||1)}}u(r)||t.on(\"localStorage\",function(e){this.off();var i={};Gun.obj.map(r,function(t,o){Gun.obj.map(t,function(t,n){i[o]=Gun.state.to(e[o],n,i[o])})}),setTimeout(function(){t.on(\"out\",{put:i,\"#\":t.ask(a),I:t.gun})},10)}),t.on(\"out\",function(t){t.lS||(t.I&&t.put&&!t[\"@\"]&&!u(o.peers)&&(i=t[\"#\"],Gun.graph.is(t.put,null,s),e||(e=setTimeout(f,o.wait||1))),this.to.next(t))}),t.on(\"ack\",a),n.next(t);var s=function(t,n,o,e){(r[e]||(r[e]={}))[n]=i},f=function(){clearTimeout(e),e=!1;try{c.setItem(\"gap/\"+o.file,JSON.stringify(r))}catch(t){Gun.log(err=t||\"localStorage failure\")}}}),Gun.on(\"create\",function(r){this.to.next(r);var u=r.opt;if(!r.once&&!1!==u.localStorage){u.file=u.file||u.prefix||\"gun/\";r.graph;var e,i={},a=0,s=Gun.obj.ify(c.getItem(u.file))||{};r.on(\"localStorage\",s),r.on(\"put\",function(t){if(this.to.next(t),Gun.graph.is(t.put,null,n),t[\"@\"]||(i[t[\"#\"]]=!0),(a+=1)>=(u.batch||1e3))return f();e||(e=setTimeout(f,u.wait||1))}),r.on(\"get\",function(t){this.to.next(t);var n,o,e=t.get;if(e&&(n=e[\"#\"])){var i=e[\".\"];(o=s[n]||void 0)&&i&&(o=Gun.state.to(o,i)),(o||Gun.obj.empty(u.peers))&&r.on(\"in\",{\"@\":t[\"#\"],put:Gun.graph.node(o),how:\"lS\",lS:t.I})}});var n=function(t,n,o,e){s[e]=Gun.state.to(o,n,s[e])},f=function(t){var o;a=0,clearTimeout(e),e=!1;var n=i;i={},t&&(s=t);try{c.setItem(u.file,JSON.stringify(s))}catch(t){Gun.log(o=t||\"localStorage failure\"),r.on(\"localStorage:error\",{err:o,file:u.file,flush:s,retry:f})}(o||Gun.obj.empty(u.peers))&&Gun.obj.map(n,function(t,n){r.on(\"in\",{\"@\":n,err:o,ok:0})})}}})}})(x,\"./adapters/localStorage\"),x(function(t){var h=x(\"../type\");function o(p){var g=function(){};return g.out=function(t){var n;if(this.to&&this.to.next(t),(n=t[\"@\"])&&(n=p.dup.s[n])&&(n=n.it)&&n.mesh)return g.say(t,n.mesh.via),void(n[\"##\"]=t[\"##\"]);g.say(t)},g.hear=function(t,n){if(t){var o,e,i,r=p.dup,u=t[0];try{i=JSON.parse(t)}catch(t){}if(\"{\"===u){if(!i)return;if(r.check(o=i[\"#\"]))return;if((u=(r.track(o,!0).it=i)[\"@\"])&&i.put&&(u+=e=i[\"##\"]||(i[\"##\"]=g.hash(i)))!=o){if(r.check(u))return;(u=r.s)[e]=u[o]}return(i.mesh=function(){}).via=n,(u=i[\"><\"])&&(i.mesh.to=h.obj.map(u.split(\",\"),function(t,n,o){o(t,!0)})),void p.on(\"in\",i)}if(\"[\"!==u);else{if(!i)return;for(var a,s=0;a=i[s++];)g.hear(a,n)}}},function(){function r(n,o){var t=o.wire;try{t.send?t.readyState===t.OPEN?t.send(n):(o.queue=o.queue||[]).push(n):o.say&&o.say(n)}catch(t){(o.queue=o.queue||[]).push(n)}}g.say=function(n,o){var t,e,i;o?(o.wire||p.opt.wire&&p.opt.wire(o))&&(e=n.mesh||u,o!==e.via&&((i=e.raw)||(i=g.raw(n)),(t=n[\"@\"])&&(t=p.dup.s[t])&&(t=t.it)&&t.get&&t[\"##\"]&&t[\"##\"]===n[\"##\"]||(t=e.to)&&(t[o.url]||t[o.id])||(o.batch?o.batch.push(i):(o.batch=[],setTimeout(function(){var t=o.batch;t&&(o.batch=null,t.length&&r(JSON.stringify(t),o))},p.opt.gap||p.opt.wait||1),r(i,o))))):h.obj.map(p.opt.peers,function(t){g.say(n,t)})}}(),function(){function f(t,n){var o;return n instanceof Object?(h.obj.map(Object.keys(n).sort(),e,{to:o={},on:n}),o):n}function e(t){this.to[t]=this.on[t]}g.raw=function(t){if(!t)return\"\";var n,o,e,i=p.dup,r=t.mesh||{};if(e=r.raw)return e;if(\"string\"==typeof t)return t;t[\"@\"]&&(e=t.put)&&((o=t[\"##\"])||(n=c(e,f)||\"\",o=g.hash(t,n),t[\"##\"]=o),(e=i.s)[o=t[\"@\"]+o]=e[t[\"#\"]],t[\"#\"]=o||t[\"#\"],n&&((t=h.obj.to(t)).put=l));var u=0,a=[];h.obj.map(p.opt.peers,function(t){if(a.push(t.url||t.id),9<++u)return!0}),t[\"><\"]=a.join();var s=c(t);return d!==n&&(s=s.replace('\"'+l+'\"',n)),r&&(r.raw=s),s},g.hash=function(t,n){return o.hash(n||c(t.put,f)||\"\")||t[\"#\"]||h.text.random(9)};var c=JSON.stringify,l=\":])([:\"}(),g.hi=function(n){p.on(\"hi\",n);var t=n.queue;n.queue=[],h.obj.map(t,function(t){g.say(t,n)})},g}o.hash=function(t){if(\"string\"!=typeof t)return{err:1};var n=0;if(!t.length)return n;for(var o=0,e=t.length;o<e;++o)n=(n<<5)-n+t.charCodeAt(o),n|=0;return n};var d,u={};Object.keys=Object.keys||function(t){return map(t,function(t,n,o){o(n)})};try{t.exports=o}catch(t){}})(x,\"./adapters/mesh\"),x(function(t){var o=x(\"../index\");o.Mesh=x(\"./mesh\"),o.on(\"opt\",function(e){this.to.next(e);var i=e.opt;if(!e.once&&!1!==i.WebSocket){var r;\"undefined\"!=typeof window&&(r=window),\"undefined\"!=typeof global&&(r=global),r=r||{};var t=i.WebSocket||r.WebSocket||r.webkitWebSocket||r.mozWebSocket;if(t){i.WebSocket=t;var u=i.mesh=i.mesh||o.Mesh(e);e.on(\"create\",function(t){this.to.next(t),e.on(\"out\",u.out)}),i.wire=i.wire||n}}function n(n){if(n&&n.url){var t=n.url.replace(\"http\",\"ws\"),o=n.wire=new i.WebSocket(t);return o.onclose=function(){e.on(\"bye\",n),a(n)},o.onerror=function(t){a(n),t&&t.code},o.onopen=function(){u.hi(n)},o.onmessage=function(t){t&&(r.inLength=(r.inLength||0)+(t.data||t).length,u.hear(t.data||t,n))},o}}function a(t){clearTimeout(t.defer),t.defer=setTimeout(function(){n(t)},2e3)}})})(x,\"./adapters/websocket\")}();","var process = require('process')\nprocess.env.GUN_ENV = 'production'\nvar Gun = require('gun')\nvar createGunTransport = require('./gun-transport')\n\n\nmodule.exports = createGunTransport(Gun)"],"sourceRoot":""}